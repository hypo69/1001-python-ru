# **משחק קלפים Acey-Ducey**

## תיאור
זוהי סימולציה של משחק הקלפים Acey-Ducey. השחקן מציב הימורים על בסיס ההסתברות שהקלף הבא יפול בין שני קלפים שכבר פתוחים.

- **הון התחלתי:** השחקן מתחיל עם 100 דולר.
- **כללי המשחק:**
  1. המחשב מחלק שני קלפים.
  2. השחקן יכול להחליט אם להמר או לא.
  3. אם מבוצע הימור, נפתח קלף שלישי.
  4. אם ערך הקלף השלישי נופל בין שני הקלפים הראשונים, השחקן זוכה בהימור. אחרת, ההימור מפסיד.
- המשחק מסתיים כאשר השחקן מאבד את כל הונו או מסיים אותו ידנית.

## איך הקוד עובד
---

### **1. ייבוא ספרייה**
```python
import random
```
- **random** – ספרייה ליצירת מספרים אקראיים. היא משמשת לערבוב חפיסת הקלפים ובחירת קלפים אקראיים.

---

### **2. יצירת חפיסת קלפים**
```python
def create_deck():
    ranks = list(range(2, 15))  # קלפים מ-2 עד 14 (אס = 14)
    deck = ranks * 4  # 4 סדרות
    random.shuffle(deck)
    return deck
```
- **ranks** – רשימת ערכי קלפים מ-2 עד 14 (אס = 14).
- **deck** – נוצר על ידי הכפלת רשימת `ranks` ב-4 כדי לקבל 4 סדרות (עלים, לבבות, יהלומים, תלתנים).
- **random.shuffle(deck)** – מערבב את חפיסת הקלפים.
- הפונקציה מחזירה את החפיסה המעורבבת.

---

### **3. הצגת קלף בפורמט קריא**
```python
def card_name(value):
    if value == 11:
        return "נסיך"
    elif value == 12:
        return "מלכה"
    elif value == 13:
        return "מלך"
    elif value == 14:
        return "אס"
    else:
        return str(value)
```
- הפונקציה מקבלת את הערך המספרי של הקלף (מ-2 עד 14) ומחזירה את הייצוג הטקסטואלי שלו.
- לדוגמה, 11 ← "נסיך", 14 ← "אס".

---

### **4. לולאת המשחק הראשית**
```python
def play_acey_ducey():
    print("ברוך הבא למשחק Acey Ducey!")
    print("כללים: אתה מציב הימור, מנחש אם הקלף הבא יהיה בין שני הקלפים הפתוחים.")
    print("אם הקלף שווה לאחד מהקלפים הפתוחים או אס, אתה מפסיד.")
    print("הכנס '0' כדי לדלג על התור.\n")

    money = 100  # יתרת פתיחה של השחקן
    deck = create_deck()
```
- **money** – יתרת פתיחה של השחקן (100 דולר).
- **deck** – נוצרת חפיסת קלפים באמצעות הפונקציה `create_deck()`.

---

### **5. חלוקת שני קלפים**
```python
while money > 0 and len(deck) >= 3:
    print(f"היתרה הנוכחית שלך: ${money}")

    # חלוקת שני קלפים
    card1 = deck.pop()
    card2 = deck.pop()
    while card1 == card2:  # אם הקלפים זהים, שלוף חדשים
        deck.insert(0, card1)
        deck.insert(0, card2)
        card1 = deck.pop()
        card2 = deck.pop()

    print(f"קלף ראשון: {card_name(card1)}")
    print(f"קלף שני: {card_name(card2)}")
```
- **deck.pop()** – מוציא את הקלף האחרון מהחפיסה.
- **while card1 == card2** – בודק אם הקלפים שנחלקו זהים. אם כן, מחזיר אותם לראש החפיסה ושולף חדשים.
- **card_name(card1)** – ממיר את הערך המספרי של הקלף לטקסט.

---

### **6. קביעת הטווח**
```python
low_card = min(card1, card2)
high_card = max(card1, card2)
```
- **low_card** – הערך המינימלי מבין שני הקלפים.
- **high_card** – הערך המקסימלי מבין שני הקלפים.

---

### **7. הצב הימור או דלג על התור**
```python
try:
    bet = int(input(f"הצב את הימורך (מ-0 עד {money}) או הכנס '0' כדי לדלג על התור: "))
    if bet < 0 or bet > money:
        print("הימור לא חוקי. נסה שוב.")
        continue
    if bet == 0:
        print("דילגת על התור.\n")
        continue  # דלג על התור
except ValueError:
    print("אנא הכנס מספר.")
    continue
```
- **input()** – מבקש מהשחקן הימור.
- **try-except** – מטפל בשגיאות אם השחקן הכניס קלט לא מספרי.
- **if bet < 0 or bet > money** – בודק שההימור תקין.
- **if bet == 0** – אם ההימור הוא 0, השחקן מדלג על התור.

---

### **8. שלוף קלף הבא**
```python
next_card = deck.pop()
print(f"קלף הבא: {card_name(next_card)}")
```
- **next_card** – מוציא את הקלף הבא מהחפיסה.
- **card_name(next_card)** – ממיר את ערך הקלף לייצוג טקסטואלי.

---

### **9. בדוק תוצאה**
```python
if next_card == card1 or next_card == card2 or next_card == 14:
    print("הפסדת!")
    money -= bet
elif low_card < next_card < high_card:
    print("ניצחת!")
    money += bet
else:
    print("הפסדת!")
    money -= bet
```
- **if next_card == card1 or next_card == card2 or next_card == 14** – אם הקלף הבא שווה לאחד מהקלפים הפתוחים או שהוא אס, השחקן מפסיד.
- **elif low_card < next_card < high_card** – אם הקלף הבא נמצא בין שני הקלפים הפתוחים, השחקן מנצח.
- **else** – בכל שאר המקרים, השחקן מפסיד.

---

### **10. סיום המשחק**
```python
if money <= 0:
    print("נגמר לך הכסף. המשחק נגמר.")
else:
    print(f"המשחק נגמר. היתרה הסופית שלך: ${money}")
```
- אם לשחקן נגמר הכסף, המשחק מסתיים.
- אם חפיסת הקלפים נגמרה, המשחק גם מסתיים.

---

### **11. הפעלת המשחק**
```python
if __name__ == "__main__":
    play_acey_ducey()
```
- בלוק זה מפעיל את המשחק אם הקובץ מבוצע ישירות (ולא מיובא כמודול).

---

### **מושגי מפתח ששימשו בקוד:**
1. **פונקציות** – קוד מחולק לפונקציות לנוחות קריאה ושימוש חוזר.
2. **רשימות** – חפיסת הקלפים מיוצגת כרשימה.
3. **לולאות** – משמשות לעיבוד מהלכי משחק.
4. **תנאים** – בודקים את כללי המשחק.
5. **טיפול בחריגים** – משמש לטיפול בשגיאות קלט.
6. **יצירת מספרים אקראיים** – לערבוב החפיסה ובחירת קלפים.

```