<h2 dir="rtl"><span dir="ltr">AWARI</span>:</h2>
<p dir="rtl">קושי: <span dir="ltr">6</span></p>
<hr>
<p dir="rtl">המשחק &quot;אוארי&quot; - זהו משחק לוח המדמה את המשחק המסורתי מנקלה, שבו שני שחקנים מעבירים בתורם &quot;אבנים&quot; (במקרה זה, מספרים) מתאים על הלוח, ומנסים לתפוס כמה שיותר אבנים ל&quot;מחסנים&quot; שלהם. זוהי גרסה פשוטה של המשחק שבה השחקן משחק נגד המחשב.</p>

<h3 dir="rtl">כללי המשחק:</h3>
<ol>
<li><p dir="rtl">לוח המשחק מורכב מ-<span dir="ltr">14</span> תאים, ממוספרים מ-<span dir="ltr">0</span> עד <span dir="ltr">13</span>. תאים <span dir="ltr">6</span> ו-<span dir="ltr">13</span> הם &quot;מחסני&quot; השחקנים.</p></li>
<li><p dir="rtl">בתחילת המשחק, בכל אחד מ-<span dir="ltr">12</span> התאים (<span dir="ltr">0-5</span> ו-<span dir="ltr">7-12</span>) נמצאות <span dir="ltr">4</span> אבנים.</p></li>
<li><p dir="rtl">השחקן (אדם) מתחיל את המשחק.</p></li>
<li><p dir="rtl">בוחר תא עם האבנים שלו (<span dir="ltr">0-5</span>).</p></li>
<li><p dir="rtl">כל האבנים מהתא הנבחר מועברות אחת אחת לכל תא הבא בכיוון השעון, כולל ה&quot;מחסן&quot; שלו.</p></li>
<li><p dir="rtl">אם האבן האחרונה נחתה במחסן השחקן, השחקן זכאי למהלך נוסף.</p></li>
<li><p dir="rtl">אם האבן האחרונה נחתה בתא ריק בצד השחקן, ומול תא זה יש אבנים, אז השחקן לוקח את האבנים מתא זה ומהתא הנגדי למחסן שלו.</p></li>
<li><p dir="rtl">המחשב זז באופן דומה.</p></li>
<li><p dir="rtl">המשחק מסתיים כאשר כל התאים עם אבנים מתרוקנים.</p></li>
<li><p dir="rtl">השחקן עם יותר אבנים במחסן שלו מנצח.</p></li>
</ol>
<hr>
<h3 dir="rtl">אלגוריתם:</h3>
<ol>
<li><p dir="rtl">אתחל את הלוח (מערך) של <span dir="ltr">14</span> תאים עם <span dir="ltr">4</span> אבנים בכל אחד, למעט תאים <span dir="ltr">6</span> ו-<span dir="ltr">13</span>, שהם <span dir="ltr">0</span>.</p></li>
<li><p dir="rtl">התחל לולאה &quot;כל עוד המשחק לא נגמר&quot;</p></li>
<li><p dir="rtl">תור השחקן:</p>
<ol>
<li><p dir="rtl">בקש קלט מספר תא מהשחקן (<span dir="ltr">0</span> עד <span dir="ltr">5</span>).</p></li>
<li><p dir="rtl">העבר אבנים מהתא הנבחר בכיוון השעון.</p></li>
<li><p dir="rtl">בדוק אם האבן האחרונה נחתה במחסן השחקן (תא <span dir="ltr">6</span>). אם כן, תן לשחקן תור נוסף.</p></li>
<li><p dir="rtl">בדוק אם האבן האחרונה נחתה בתא ריק בצד השחקן. אם כן, תפוס אבנים מתא זה ומהתא הנגדי.</p></li>
</ol>
</li>
<li><p dir="rtl">תור המחשב (בדומה לתור השחקן, אך בחירת התא אקראית מ-<span dir="ltr">7</span> עד <span dir="ltr">12</span>).</p></li>
<li><p dir="rtl">אם כל התאים עם אבנים ריקים, סיים את המשחק.</p></li>
<li><p dir="rtl">הצג את התוצאה (מספר האבנים במחסני השחקן והמחשב).</p></li>
<li><p dir="rtl">קבע את המנצח (למי יש יותר אבנים במחסן).</p></li>
</ol>
<hr>
<h3 dir="rtl">תרשים זרימה:</h3>
<pre class="line-numbers"><code class="language-mermaid">flowchart TD
    Start["Start"] --> InitializeBoard["Initialize board: board = [4,4,4,4,4,4,0,4,4,4,4,4,4,0]"]
    InitializeBoard --> GameLoopStart{"Start game loop: as long as not all cells are empty"}
    GameLoopStart -- Yes --> PlayerTurnStart{"Start player turn"}
    PlayerTurnStart --> PlayerInputCell["Player enters cell number (0-5)"]
    PlayerInputCell --> PlayerMoveStones["Move stones from cell clockwise"]
    PlayerMoveStones --> PlayerCheckExtraTurn{"Check: last stone in player's store (board[6])?"}
    PlayerCheckExtraTurn -- Yes --> PlayerTurnStart
    PlayerCheckExtraTurn -- No --> PlayerCheckCapture{"Check: last stone in player's empty cell?"}
    PlayerCheckCapture -- Yes --> PlayerCaptureStones["Capture opposite stones"]
    PlayerCaptureStones --> ComputerTurnStart{"Start computer turn"}
     PlayerCheckCapture -- No --> ComputerTurnStart
    ComputerTurnStart --> ComputerSelectCell["Computer chooses random cell (7-12)"]
    ComputerSelectCell --> ComputerMoveStones["Move stones clockwise"]
    ComputerMoveStones --> ComputerCheckExtraTurn{"Check: last stone in computer's store (board[13])?"}
    ComputerCheckExtraTurn -- Yes --> ComputerTurnStart
     ComputerCheckExtraTurn -- No --> ComputerCheckCapture{"Check: last stone in computer's empty cell?"}
    ComputerCheckCapture -- Yes --> ComputerCaptureStones["Capture opposite stones"]
    ComputerCaptureStones --> GameLoopStart
     ComputerCheckCapture -- No --> GameLoopStart
    GameLoopStart -- No --> EndGame["End game"]
    EndGame --> OutputResult["Display results and winner"]
    OutputResult --> End["End"]
</code></pre>
<h4 dir="rtl">מקרא:</h4>
<ul>
<li><p dir="rtl"><span dir="ltr">Start</span> - התחלת התוכנית.</p></li>
<li><p dir="rtl"><span dir="ltr">InitializeBoard</span> - אתחול לוח המשחק עם <span dir="ltr">14</span> תאים. <span dir="ltr">6</span> הראשונים (<span dir="ltr">0-5</span>) ו-<span dir="ltr">6</span> האחרונים (<span dir="ltr">7-12</span>) מייצגים תאים עם אבנים, <span dir="ltr">6</span> ו-<span dir="ltr">13</span> הם מחסני השחקנים.</p></li>
<li><p dir="rtl"><span dir="ltr">GameLoopStart</span> - התחלת לולאת המשחק, הנמשכת עד שהמשחק נגמר.</p></li>
<li><p dir="rtl"><span dir="ltr">PlayerTurnStart</span> - התחלת תור השחקן.</p></li>
<li><p dir="rtl"><span dir="ltr">PlayerInputCell</span> - בקשת מספר תא מהשחקן שממנו הוא רוצה להעביר אבנים.</p></li>
<li><p dir="rtl"><span dir="ltr">PlayerMoveStones</span> - העברת אבנים מהתא הנבחר בכיוון השעון.</p></li>
<li><p dir="rtl"><span dir="ltr">PlayerCheckExtraTurn</span> - בדיקה אם האבן האחרונה נחתה במחסן השחקן. אם כן, השחקן מקבל תור נוסף.</p></li>
<li><p dir="rtl"><span dir="ltr">PlayerCheckCapture</span> - בדיקה אם האבן האחרונה נחתה בתא ריק בצד השחקן.</p></li>
<li><p dir="rtl"><span dir="ltr">PlayerCaptureStones</span> - תפיסת אבנים מהתא הנגדי אם האבן האחרונה נחתה בתא ריק בצד השחקן.</p></li>
<li><p dir="rtl"><span dir="ltr">ComputerTurnStart</span> - התחלת תור המחשב.</p></li>
<li><p dir="rtl"><span dir="ltr">ComputerSelectCell</span> - המחשב בוחר תא אקראי למהלך שלו.</p></li>
<li><p dir="rtl"><span dir="ltr">ComputerMoveStones</span> - המחשב מעביר אבנים בכיוון השעון.</p></li>
<li><p dir="rtl"><span dir="ltr">ComputerCheckExtraTurn</span> - בדיקה אם האבן האחרונה נחתה במחסן המחשב. אם כן, המחשב מקבל תור נוסף.</p></li>
<li><p dir="rtl"><span dir="ltr">ComputerCheckCapture</span> - בדיקה אם האבן האחרונה נחתה בתא ריק בצד המחשב. אם כן, המחשב תופס אבנים מהתא הנגדי.</p></li>
<li><p dir="rtl"><span dir="ltr">ComputerCaptureStones</span> - תפיסת אבנים מהתא הנגדי אם האבן האחרונה נחתה בתא ריק בצד המחשב.</p></li>
<li><p dir="rtl"><span dir="ltr">EndGame</span> - סיום המשחק.</p></li>
<li><p dir="rtl"><span dir="ltr">OutputResult</span> - הצגת תוצאות וקביעת מנצח.</p></li>
<li><p dir="rtl"><span dir="ltr">End</span> - סיום התוכנית.</p></li>
</ul>

<pre class="line-numbers"><code class="language-python">import random

# Board initialization.
# Cells 0-5 - player's cells, 6 - player's store
# Cells 7-12 - computer's cells, 13 - computer's store
board = [4, 4, 4, 4, 4, 4, 0, 4, 4, 4, 4, 4, 4, 0]


def display_board():
    """Displays the current game board state."""
    print("----------------------------------------------------")
    print(f"  {board[12]:2}  {board[11]:2}  {board[10]:2}  {board[9]:2}  {board[8]:2}  {board[7]:2}   ")
    print("----------------------------------------------------")
    print(f"{board[13]:2}                                 {board[6]:2}")
    print("----------------------------------------------------")
    print(f"  {board[0]:2}  {board[1]:2}  {board[2]:2}  {board[3]:2}  {board[4]:2}  {board[5]:2}  ")
    print("----------------------------------------------------")


def player_turn():
    """Handles the player's turn."""
    while True:
        try:
            cell = int(input("בחר תא (0-5): "))
            if 0 <= cell <= 5 and board[cell] > 0:
                break
            else:
                print("בחירה לא חוקית. בחר תא עם אבנים מ-0 עד 5.")
        except ValueError:
            print("קלט לא חוקי. אנא הכנס מספר.")
    
    stones = board[cell]
    board[cell] = 0
    current_cell = cell
    
    while stones > 0:
        current_cell = (current_cell + 1) % 14
        board[current_cell] += 1
        stones -= 1

    # Check for an extra turn if the last stone landed in the player's store
    if current_cell == 6:
        print("השחקן מקבל תור נוסף.")
        display_board()
        player_turn()
        return
        
    # Capturing stones
    if 0 <= current_cell <= 5 and board[current_cell] == 1:
        opposite_cell = 12 - current_cell
        if board[opposite_cell] > 0:
             board[6] += board[opposite_cell] + 1
             board[opposite_cell]=0
             board[current_cell] = 0
             print(f"השחקן תופס אבנים מתאים {current_cell} ו- {opposite_cell}")
         
        
def computer_turn():
    """Handles the computer's turn."""
    possible_moves = [i for i in range(7, 13) if board[i] > 0]
    if not possible_moves:
        return  # If no moves are available for the computer, exit
    
    cell = random.choice(possible_moves)
    print(f"המחשב בוחר תא {cell}")
    stones = board[cell]
    board[cell] = 0
    current_cell = cell

    while stones > 0:
         current_cell = (current_cell + 1) % 14
         board[current_cell] += 1
         stones -= 1

    # Check for an extra turn if the last stone landed in the computer's store
    if current_cell == 13:
        print("המחשב מקבל תור נוסף.")
        display_board()
        computer_turn()
        return

    # Capturing stones
    if 7 <= current_cell <= 12 and board[current_cell] == 1:
          opposite_cell = 12 - current_cell
          if board[opposite_cell] > 0:
             board[13] += board[opposite_cell] + 1
             board[opposite_cell]=0
             board[current_cell] = 0
             print(f"המחשב תופס אבנים מתאים {current_cell} ו- {opposite_cell}")

def is_game_over():
    """Checks if the game is over."""
    player_side_empty = all(board[i] == 0 for i in range(0, 6))
    computer_side_empty = all(board[i] == 0 for i in range(7, 13))
    return player_side_empty or computer_side_empty


def calculate_winner():
    """Determines the winner and displays the results."""
    player_score = board[6]
    computer_score = board[13]

    print(f"שחקן: {player_score} נקודות")
    print(f"מחשב: {computer_score} נקודות")

    if player_score > computer_score:
        print("ניצחת!")
    elif computer_score > player_score:
        print("המחשב ניצח!")
    else:
        print("תיקו!")


# Main game loop
while True:
    display_board()
    player_turn()
    if is_game_over():
        break
    display_board()
    computer_turn()
    if is_game_over():
       break
    

# After the game ends
display_board()
calculate_winner()

</code></pre>

<h3 dir="rtl">הסבר קוד:</h3>
<ol>
<li><p dir="rtl"><strong>אתחול הלוח (<span dir="ltr"><code>board</code></span>)</strong>:</p>
<ul>
<li><p dir="rtl"><span dir="ltr"><code>board = [4, 4, 4, 4, 4, 4, 0, 4, 4, 4, 4, 4, 4, 0]</code></span>: נוצרת רשימה המייצגת את לוח המשחק.</p>
<p dir="rtl"><span dir="ltr">6</span> האלמנטים הראשונים (<span dir="ltr">0-5</span>) - תאי השחקן, <span dir="ltr">7-12</span> - תאי המחשב, <span dir="ltr">6</span> - מחסן השחקן, <span dir="ltr">13</span> - מחסן המחשב.</p>
<p dir="rtl">בתחילת המשחק בכל תא יש <span dir="ltr">4</span> אבנים, ובמחסנים - <span dir="ltr">0</span>.</p></li>
</ul>
</li>

<li><p dir="rtl"><strong>פונקציה <span dir="ltr"><code>display_board()</code></span></strong>:</p>
<ul>
<li><p dir="rtl">מציגה את מצב לוח המשחק הנוכחי על המסך.</p></li>
</ul>
</li>

<li><p dir="rtl"><strong>פונקציה <span dir="ltr"><code>player_turn()</code></span></strong>:</p>
<ul>
<li><p dir="rtl">מטפלת בתור השחקן:</p>
<ul>
<li><p dir="rtl">מבקשת קלט מספר תא (<span dir="ltr">0-5</span>).</p></li>
<li><p dir="rtl">בודקת תקינות קלט (מספר מ-<span dir="ltr">0</span> עד <span dir="ltr">5</span> ותא לא ריק).</p></li>
<li><p dir="rtl">לוקחת אבנים מהתא הנבחר.</p></li>
<li><p dir="rtl">מחלקת אבנים אחת אחת לכל תא הבא בכיוון השעון.</p></li>
<li><p dir="rtl">בודקת אם האבן האחרונה נחתה במחסן השחקן (תא <span dir="ltr">6</span>). אם כן, השחקן מקבל תור נוסף.</p></li>
<li><p dir="rtl">בודקת אם האבן האחרונה נחתה בתא ריק בצד השחקן, אם כן, תופסת אבנים נגדיות.</p></li>
</ul>
</li>
</ul>
</li>

<li><p dir="rtl"><strong>פונקציה <span dir="ltr"><code>computer_turn()</code></span></strong>:</p>
<ul>
<li><p dir="rtl">מטפלת בתור המחשב:</p>
<ul>
<li><p dir="rtl">בוחרת תא אקראי לא ריק (<span dir="ltr">7-12</span>).</p></li>
<li><p dir="rtl">מחלקת אבנים אחת אחת לכל תא הבא בכיוון השעון.</p></li>
<li><p dir="rtl">בודקת אם האבן האחרונה נחתה במחסן המחשב (תא <span dir="ltr">13</span>). אם כן, המחשב מקבל תור נוסף.</p></li>
<li><p dir="rtl">בודקת אם האבן האחרונה נחתה בתא ריק בצד המחשב, אם כן, תופסת אבנים נגדיות.</p></li>
</ul>
</li>
</ul>
</li>

<li><p dir="rtl"><strong>פונקציה <span dir="ltr"><code>is_game_over()</code></span></strong>:</p>
<ul>
<li><p dir="rtl">בודקת אם המשחק נגמר. המשחק נגמר כאשר כל התאים בצד השחקן או המחשב ריקים.</p></li>
</ul>
</li>
<li><p dir="rtl"><strong>פונקציה <span dir="ltr"><code>calculate_winner()</code></span></strong>:</p>
<ul>
<li><p dir="rtl">מציגה את ציון כל שחקן.</p></li>
<li><p dir="rtl">קובעת את המנצח.</p></li>
</ul>
</li>

<li><p dir="rtl"><strong>לולאת המשחק הראשית (<span dir="ltr"><code>while True</code></span>)</strong>:</p>
<ul>
<li><p dir="rtl">מציגה את הלוח.</p></li>
<li><p dir="rtl">נותנת תור לשחקן.</p></li>
<li><p dir="rtl">בודקת אם המשחק נגמר. אם כן, יוצאת מהלולאה.</p></li>
<li><p dir="rtl">נותנת תור למחשב.</p></li>
<li><p dir="rtl">בודקת אם המשחק נגמר. אם כן, יוצאת מהלולאה.</p></li>
</ul>
</li>

<li><p dir="rtl"><strong>הצגת תוצאות</strong>:</p>
<ul>
<li><p dir="rtl">לאחר סיום המשחק, מציגה את הלוח ואת התוצאות.</p></li>
</ul>
</li>
</ol>