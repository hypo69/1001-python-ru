**מהן הבנות רשימה?**

בצורתן הפשוטה ביותר, הבנת רשימה היא דרך קומפקטית ליצור רשימה חדשה על בסיס רשימה קיימת (או כל אובייקט ניתן לאיטרציה). במקום להשתמש בלולאת `for` מסורתית ולהוסיף אלמנטים לרשימה אחד אחד, ניתן לעשות זאת בשורת קוד אחת.


*   **תמציתיות:** הן מאפשרות לכתוב פחות קוד.
*   **קריאות:** כאשר תתרגל לתחביר שלהן, תמצא אותן קלות יותר להבנה מאשר לולאות `for` מקבילות.
*   **ביצועים:** במקרים מסוימים, הבנות רשימה יכולות להיות מהירות יותר מלולאות `for`.


הנה התחביר הבסיסי של הבנת רשימה:

```python
new_list = [expression for item in iterable]
```

*   **`expression`**: ביטוי המגדיר כיצד יחושב כל אלמנט ברשימה החדשה. זה יכול להיות כל דבר: ערך פשוט, פעולה מתמטית, קריאה לפונקציה.
*   **`item`**: משתנה המקבל את הערך של כל אלמנט מתוך `iterable` בתורו.
*   **`iterable`**: אובייקט ניתן לאיטרציה, לדוגמה, רשימה, טאפל, מחרוזת או תוצאת הפעולה `range()`.

**דוגמה:**

נניח שיש לך רשימת מספרים, ואתה רוצה ליצור רשימה חדשה המכילה את ריבועי המספרים הללו.

**ללא הבנת רשימה:**

```python
numbers = [1, 2, 3, 4, 5]
squares = []
for number in numbers:
    squares.append(number**2)
print(squares)  # פלט: [1, 4, 9, 16, 25]
```

**עם הבנת רשימה:**

```python
numbers = [1, 2, 3, 4, 5]
squares = [number**2 for number in numbers]
print(squares) # פלט: [1, 4, 9, 16, 25]
```

הבנת רשימה הופכת את הקוד לקצר וברור יותר!

**הוספת תנאי**

הבנות רשימה מאפשרות לך גם להוסיף תנאים לבחירת אלמנטים שיכללו ברשימה החדשה.

```python
new_list = [expression for item in iterable if condition]
```

* **`condition`**: תנאי שחייב להתקיים כדי שאלמנט ייכלל ברשימה החדשה.

**דוגמה:**

ניצור רשימת ריבועים של מספרים זוגיים בלבד מתוך רשימת `numbers` המקורית שלנו.

**ללא הבנת רשימה:**

```python
numbers = [1, 2, 3, 4, 5]
even_squares = []
for number in numbers:
    if number % 2 == 0:
        even_squares.append(number**2)
print(even_squares) # פלט: [4, 16]
```

**עם הבנת רשימה:**

```python
numbers = [1, 2, 3, 4, 5]
even_squares = [number**2 for number in numbers if number % 2 == 0]
print(even_squares) # פלט: [4, 16]
```

הוספתי `if number % 2 == 0` להבנת הרשימה כדי לסנן רק מספרים זוגיים.

**הבנות רשימה מרובות שורות**

כאשר הבנות רשימה הופכות מורכבות יותר, ניתן לפצל אותן למספר שורות לקריאות טובה יותר.

**דוגמה:**

```python
numbers = [1, 2, 3, 4, 5]
squared_odds = [
    number**2
    for number in numbers
    if number % 2 != 0
]
print(squared_odds) # פלט: [1, 9, 25]
```
זה הופך את הקוד למובן יותר, במיוחד כאשר יש לך תנאים ארוכים או ביטויים מורכבים.





**תרגיל 1: המרת טמפרטורות**

יש לך רשימת טמפרטורות בצלזיוס, ואתה צריך להמיר אותן לפרנהייט. הנוסחה להמרה היא: `F = (C * 9/5) + 32`.

הנה רשימת הטמפרטורות שלך בצלזיוס:

```python
celsius_temperatures = [0, 10, 20, 30, 40]
```

**משימה:**

1.  באמצעות הבנת רשימה, צור רשימה חדשה `fahrenheit_temperatures` המכילה טמפרטורות מ-`celsius_temperatures`, שהומרו לפרנהייט.
2.  הדפס את רשימת `fahrenheit_temperatures` שהתקבלה למסך.

**רמז:**

*   השתמש בנוסחה `(celsius * 9/5) + 32` כביטוי בהבנת הרשימה.
*   חשוב מהו `iterable` ומהו `item` במקרה זה.

נסה לכתוב את הקוד.

הפתרון שלי:
```python
# רשימת הטמפרטורות המקורית בצלזיוס
celsius_temperatures = [0, 10, 20, 30, 40]

# נשתמש בהבנת רשימה להמרה לפרנהייט
fahrenheit_temperatures = [
    (celsius * 9/5) + 32  # ביטוי: נוסחת המרה
    for celsius in celsius_temperatures # איטרציה על אלמנטים ברשימה
]

# הדפס את התוצאה
print(fahrenheit_temperatures) # פלט: [32.0, 50.0, 68.0, 86.0, 104.0]
```

**פירוק קוד:**

1.  **`celsius_temperatures = [0, 10, 20, 30, 40]`**: זוהי רשימת הטמפרטורות המקורית בצלזיוס.
2.  **`fahrenheit_temperatures = [...]`**: כאן אנו יוצרים רשימה חדשה באמצעות הבנת רשימה.
3.  **`(celsius * 9/5) + 32`**: זהו הביטוי המבוצע עבור כל אלמנט. הוא ממיר את הטמפרטורה מצלזיוס לפרנהייט.
4.  **`for celsius in celsius_temperatures`**: חלק זה של הבנת הרשימה עובר על כל אלמנט ברשימת `celsius_temperatures`, ומקצה את ערכו למשתנה `celsius` בכל איטרציה.
5.  **`print(fahrenheit_temperatures)`**: מדפיס את רשימת הטמפרטורות שהתקבלה בפרנהייט.

**הערות חשובות:**

*   במקרה זה, `celsius_temperatures` הוא ה-`iterable`, ו-`celsius` הוא ה-`item`.
*   אני משתמש בעיצוב מרובה שורות עבור הבנת הרשימה כדי לשפר את קריאות הקוד.
*   בתוך הביטוי, אני מיישם ישירות את נוסחת ההמרה באמצעות הערך הנוכחי של `celsius`.



**תרגיל 2: סינון והמרת מחרוזות**

יש לך רשימת מילים, ואתה צריך לעשות את הדברים הבאים:

1.  לסנן מילים שמתחילות באות "a" (לא תלוי רישיות).
2.  להמיר את כל המילים הנותרות לאותיות גדולות.

הנה רשימת המילים שלך:

```python
words = ["apple", "banana", "apricot", "kiwi", "Avocado", "orange"]
```

**משימה:**

1.  באמצעות הבנת רשימה, צור רשימה חדשה `transformed_words` המכילה רק את המילים מרשימת `words` שאינן מתחילות באות "a" (או "A"), והן מומרות לאותיות גדולות.
2.  הדפס את רשימת `transformed_words` שהתקבלה למסך.

**רמזים:**

*   השתמש בשיטת המחרוזת `startswith()` כדי לבדוק אם מילה מתחילה באות מסוימת. אל תשכח את הרישיות! המר הכל לאותיות קטנות.
*   השתמש בשיטת המחרוזת `upper()` כדי להמיר מחרוזת לאותיות גדולות.
*   חשוב על סדר הפעולות. תחילה סנן, אחר כך המר.

הפתרון שלי:

```python
# רשימת המילים המקורית
words = ["apple", "banana", "apricot", "kiwi", "Avocado", "orange"]

# נשתמש בהבנת רשימה לסינון והמרה
transformed_words = [
    word.upper() # המר לאותיות גדולות
    for word in words # עבר על מילים ברשימה
    if not word.lower().startswith("a") # סנן מילים שאינן מתחילות ב-'a'
]

# הדפס את התוצאה
print(transformed_words) # פלט: ['BANANA', 'KIWI', 'ORANGE']
```

**פירוק קוד:**

1.  **`words = ["apple", "banana", "apricot", "kiwi", "Avocado", "orange"]`**: זוהי רשימת המילים המקורית.
2.  **`transformed_words = [...]`**: יוצרים רשימה חדשה באמצעות הבנת רשימה.
3.  **`word.upper()`**: זהו הביטוי המבוצע עבור כל מילה מסוננת. הוא ממיר את המילה לאותיות גדולות.
4.  **`for word in words`**: עובר על כל המילים ברשימת `words`.
5.  **`if not word.lower().startswith("a")`**: זהו תנאי הסינון.
    *   `word.lower()`: תחילה אנו ממירים את המילה לאותיות קטנות כדי שההשוואה לא תהיה תלוית רישיות.
    *   `startswith("a")`: לאחר מכן אנו בודקים אם המילה מתחילה באות "a".
    *   `not`: הופכים את התוצאה כדי לשמור רק את המילים ש*אינן* מתחילות באות "a".
6.  **`print(transformed_words)`**: מדפיס את רשימת המילים שהומרו.

**נקודות מפתח:**

*   שיטות מחרוזת `lower()`, `upper()`, ו-`startswith()` בביטוי ובתנאי של הבנת הרשימה.
*   תנאי הסינון `if not word.lower().startswith("a")` מבטיח שרק מילים שאינן מתחילות ב-"a" (ללא תלות ברישיות) ייכללו ברשימה החדשה.
*   הסינון מיושם תחילה, ולאחר מכן ההמרה לאותיות גדולות.
*   שוב, אני משתמש בעיצוב מרובה שורות לקריאות.


**תרגיל 3: יצירת מילון מרשימת טאפלים**

יש לך רשימת טאפלים, כאשר כל טאפל מכיל שני אלמנטים: שם וגיל של אדם.

```python
people_data = [
    ("Alice", 30),
    ("Bob", 25),
    ("Charlie", 35),
    ("David", 28),
]
```

**משימה:**

1. באמצעות הבנת רשימה, צור מילון `people_dict`, שבו המפתחות יהיו שמות האנשים, והערכים — גילם.
2. הדפס את המילון `people_dict` למסך.

**רמזים:**

*   הבנות רשימה יוצרות רשימות, אך ניתן להשתמש בהן ליצירת רשימות של טאפלים, שניתן לאחר מכן להעביר לבנאי `dict()`.
*   חשוב כיצד לחלץ את השם והגיל מכל טאפל.
*   זכור שמילון הוא מבנה נתונים המאחסן זוגות מפתח-ערך.

**הסבר קצר:**

בפייתון ניתן ליצור מילון מרשימת טאפלים, כאשר כל טאפל מורכב משני אלמנטים (מפתח, ערך).
לשם כך, אני משתמש בבנאי `dict()`. לדוגמה:
```python
my_list = [("a", 1), ("b", 2)]
my_dict = dict(my_list)
print(my_dict) # פלט {'a': 1, 'b': 2}
```
המשימה שלך היא להשתמש בהבנת רשימה כדי ליצור רשימת טאפלים זו, אשר תשמש לאחר מכן ליצירת המילון.

הפתרון שלי:

```python
# רשימת טאפלים מקורית עם נתוני אנשים
people_data = [
    ("Alice", 30),
    ("Bob", 25),
    ("Charlie", 35),
    ("David", 28),
]

# אני משתמש בהבנת רשימה כדי ליצור רשימת טאפלים, שאותה אני ממיר לאחר מכן למילון
people_dict = dict(
    [
      (name, age) # צור טאפל (שם, גיל)
      for name, age in people_data # עבר על טאפלים ב-people_data
    ]
)

# הדפס את המילון שהתקבל
print(people_dict) # פלט: {'Alice': 30, 'Bob': 25, 'Charlie': 35, 'David': 28}
```

**פירוק קוד:**

1.  **`people_data = [...]`**: זוהי רשימת הטאפלים המקורית, כאשר כל טאפל מכיל שם וגיל של אדם.
2.  **`people_dict = dict(...)`**: אנו משתמשים בבנאי `dict()` כדי ליצור מילון מרשימת טאפלים.
3.  **`[ (name, age) for name, age in people_data ]`**: זוהי הבנת רשימה היוצרת רשימת טאפלים.
    *   `(name, age)`: ביטוי זה יוצר טאפל משני אלמנטים: `name` ו-`age`.
    *   `for name, age in people_data`: חלק זה עובר על כל הטאפלים ברשימת `people_data`. בכל איטרציה, הטאפל נפרק לשני משתנים: `name` ו-`age`.
4. **`print(people_dict)`**: מדפיס את המילון שנוצר.

**נקודות מפתח:**

*   הבנת רשימה יוצרת רשימת טאפלים.
*   הבנאי `dict()` ממיר רשימת טאפלים למילון, תוך שימוש באלמנט הראשון של הטאפל כמפתח, ובשני כערך.
*   פירוק טאפלים בלולאה `for name, age in people_data` הופך את הקוד לקריא יותר.
*   הבנת רשימה בדוגמה זו משמשת להכנת נתונים למילון.
