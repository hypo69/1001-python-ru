# פונקציות בפייתון

פונקציות בשפת פייתון הן בלוקים של קוד בעלי שם, המבצעים משימה ספציפית. הן מאפשרות לארגן את הקוד, להפוך אותו למובנה יותר ונוח לשימוש חוזר.

# תוכן עניינים

1. [הצהרת פונקציה](#הצהרת-פונקציה)
2. [פרמטרים של פונקציה](#פרמטרים-של-פונקציה)
   - [סוגי פרמטרים](#סוגי-פרמטרים)
3. [החזרת ערך](#החזרת-ערך)
4. [משתנים מקומיים וגלובליים](#משתנים-מקומיים-וגלובליים)
5. [פונקציות מקוננות](#פונקציות-מקוננות)
6. [רקרוסיה](#רקרוסיה)
7. [טיפול בחריגים עם `try` ו-`except`](#טיפול-בחריגים-עם-try-ו-except)
8. [דוגמה לשימוש בפונקציות](#דוגמה-לשימוש-בפונקציות)

## הצהרת פונקציה

פונקציה מוצהרת באמצעות מילת המפתח `def`, ואחריה שם הפונקציה, רשימת פרמטרים בסוגריים עגולים ונקודתיים. גוף הפונקציה נכתב עם הזחה.

```python
def שם_פונקציה(פרמטרים):
    # פעולות
    return תוצאה
```

### דוגמה:
```python
def חיבור(a: int, b: int) -> int:
    """מחזירה את סכום שני מספרים."""
    return a + b
```

כאן:
- `a: int` ו-`b: int` — פרמטרים של פונקציה עם הערות סוג.
- `-> int` — הערת סוג של ערך מוחזר.

## פרמטרים של פונקציה

פונקציות יכולות לקבל פרמטרים, המהווים נתוני קלט. הם מצוינים בסוגריים לאחר שם הפונקציה.

דוגמה עם פרמטר אחד:
```python
def ברכה(שם: str) -> str:
    """מברכת את המשתמש בשמו."""
    return f"שלום, {שם}!"
```

### סוגי פרמטרים:
1. **פרמטרים חובה** — חייבים להיות מועברים בעת קריאה לפונקציה.
2. **פרמטרים אופציונליים** — יכולים להיות בעלי ערכי ברירת מחדל.
   ```python
   def ברכה(שם: str, גיל: int = 18) -> str:
       return f"שלום, {שם}! אתה בן {גיל} שנים."
   ```

## החזרת ערך

פונקציה יכולה להחזיר ערך באמצעות מילת המפתח `return`. אם `return` אינו בשימוש, הפונקציה מחזירה `None` כברירת מחדל.

דוגמה:
```python
def כפל(a: int, b: int) -> int:
    """מחזירה את מכפלת שני מספרים."""
    return a * b
```

## משתנים מקומיים וגלובליים

- **משתנה מקומי** — זהו משתנה הקיים רק בתוך פונקציה. הוא נוצר ונהרס בכל קריאה לפונקציה.
- **משתנה גלובלי** — זהו משתנה הנגיש בכל הקוד, כולל פונקציות.

דוגמה לשימוש במשתנה גלובלי:
```python
x = 10  # משתנה גלובלי

def הצג_x() -> int:
    return x  # גישה למשתנה גלובלי
```

אם בתוך פונקציה צריך לשנות משתנה גלובלי, יש להשתמש במילת המפתח `global`:
```python
x = 10  # משתנה גלובלי

def שנה_x() -> None:
    global x
    x = 20
```

## פונקציות מקוננות

בפייתון, פונקציות יכולות להיות מקוננות, כלומר פונקציה אחת יכולה להיות מוגדרת בתוך אחרת. פונקציה מקוננת יכולה לגשת למשתנים של הפונקציה החיצונית.

דוגמה:
```python
def חיצונית(a: int, b: int) -> int:
    """פונקציה המשתמשת בפונקציה מקוננת לחישוב ההפרש."""
    
    def מקוננת(x: int, y: int) -> int:
        """פונקציה מקוננת המחזירה את ההפרש."""
        return x - y
    
    return מקוננת(a, b)
```

## רקרוסיה

רקרוסיה — זה כאשר פונקציה קוראת לעצמה. זה שימושי למשימות שניתן לפרק למשימות קטנות יותר דומות (לדוגמה, עצרת).

דוגמה לרקורסיה:
```python
def עצרת(n: int) -> int:
    """מחשבת את עצרת המספר באמצעות רקורסיה."""
    if n == 0:
        return 1  # מקרה בסיס
    return n * עצרת(n - 1)  # קריאה רקורסיבית
```

## טיפול בחריגים עם `try` ו-`except`

פייתון מספקת מנגנון טיפול בשגיאות באמצעות בלוקים `try` ו-`except`. קוד שעלול לגרום לשגיאה ממוקם בבלוק `try`, והשגיאות מטופלות בבלוק `except`.

דוגמה לטיפול בשגיאות:
```python
def חלוקה(a: int, b: int) -> float:
    """מחלקת מספר אחד באחר, תוך טיפול בשגיאות אפשריות."""
    try:
        result = a / b
    except ZeroDivisionError:
        return "שגיאה: חלוקה באפס"
    except Exception as e:
        return f"אירעה שגיאה: {e}"
    return result
```

כאן:
- בלוק `try` מנסה לבצע את פעולת החלוקה.
- בלוק `except ZeroDivisionError` לוכד את שגיאת החלוקה באפס.
- בלוק `except Exception as e` לוכד חריגים אחרים ומציג הודעת שגיאה.

## דוגמה לשימוש בפונקציות

```python
# חיבור שני מספרים
print(חיבור(5, 3))  # 8

# פונקציה מקוננת
print(חיצונית(10, 4))  # 6

# רקורסיה לחישוב עצרת
print(עצרת(5))  # 120

# טיפול בחריגים בחלוקה
print(חלוקה(10, 2))  # 5.0
print(חלוקה(10, 0))  # שגיאה: חלוקה באפס
```
---

  [לתוכן העניינים](https://github.com/hypo69/101_python_computer_games_ru/blob/master/cheat_sheets#readme)
