### כיצד לבדוק ולתקן שגיאות בכונן הקשיח ב-Windows: דף עזר ל-CHKDSK ו-PowerShell

עם הזמן, יכולות להצטבר שגיאות לוגיות בכונן קשיח או SSD, ועלולים להופיע סקטורים פגומים, מה שמוביל להאטה במערכת, קריסות תוכנה ואף לאובדן נתונים. למרבה המזל, ב-Windows קיימים כלים מובנים לאבחון ותיקון בעיות כאלה.

בדף עזר זה אציג שתי דרכים לבקרת מצב הדיסקים: כלי השירות `chkdsk` ופקודות PowerShell.

### חלק 1: כלי השירות CHKDSK

**CHKDSK** (Check Disk) – הוא כלי שירות סטנדרטי של שורת הפקודה, הבודק את מערכת הקבצים של כרך לאיתור שגיאות לוגיות ופיזיות.

#### כיצד להפעיל את CHKDSK

לביצוע פקודות המבצעות שינויים במערכת, תזדקקו להרשאות מנהל מערכת.

1.  לחצו על `Win + S` או על כפתור "התחל".
2.  הקלידו `cmd` או "שורת הפקודה".
3.  בתוצאות החיפוש, לחצו לחיצה ימנית על "שורת הפקודה" ובחרו **"הפעל כמנהל מערכת"**.

#### פרמטרים עיקריים (מתגים) של CHKDSK

לפקודה יש את התחביר הבא: `chkdsk [כונן:] [פרמטרים]`

פרמטרים נפוצים:

*   `chkdsk C:`
    מפעיל בדיקה של כונן C: במצב "קריאה בלבד". כלי השירות ידווח על שגיאות שנמצאו, אך לא יתקן אותן.

*   **/f**
    מתקן שגיאות בכונן. אם יש קבצים פתוחים בכונן (שכמעט תמיד זה המצב עבור כונן המערכת), כלי השירות יציע לבצע את הבדיקה בהפעלה מחדש הבאה של המערכת.
    *דוגמה:* `chkdsk D: /f`

*   **/r**
    מחפש סקטורים פגומים (bad sectors) ומנסה לשחזר מידע שניתן לקרוא. מתג זה **כולל את הפונקציונליות של מתג `/f`**, ולכן אין צורך להשתמש בהם יחד, אם כי זה לא טעות. בדיקה עם `/r` אורכת זמן רב יותר באופן משמעותי.
    *דוגמה:* `chkdsk D: /r`

*   **/x**
    מנתק בכוח את הכרך לפני הבדיקה, אם יש צורך בכך. כל הידיות הפתוחות לכונן זה יהפכו ללא חוקיות. מתג זה **כולל גם את הפונקציונליות של `/f`**.
    *דוגמה:* `chkdsk D: /x`

*   **/b** (רק עבור מערכת קבצים NTFS)
    מבצע הערכה מחדש של אשכולות פגומים בכונן. מתג זה הוא המקיף ביותר, מכיוון שהוא **כולל את הפונקציונליות של `/r`**.
    *דוגמה:* `chkdsk C: /b`

*   **/scan** (רק עבור NTFS)
    מפעיל בדיקה מקוונת של הכרך. המשמעות היא שאין צורך לנתק את הכונן, ואתם יכולים להמשיך לעבוד במערכת במהלך הסריקה. עם זאת, תיקון בעיות שנמצאו ידרוש את המתג הבא או הפעלה מחדש.
    *דוגמה:* `chkdsk C: /scan`

*   **/spotfix** (רק עבור NTFS)
    מבצע תיקון נקודתי ומהיר מאוד של שגיאות בכרך. דורש ניתוק של הכונן, כמו מתג `/f`.
    *דוגמה:* `chkdsk D: /spotfix`

#### דוגמאות להפעלת CHKDSK

*   **בדיקה מהירה של כונן D: ללא תיקון:**
    ```
    chkdsk D:
    ```

*   **בדיקה ותיקון שגיאות בכונן D:**
    ```
    chkdsk D: /f
    ```

*   **הבדיקה המקיפה ביותר של כונן המערכת C: עם איתור סקטורים פגומים ושחזורם:**
    ```
    chkdsk C: /f /r
    ```
    *או פשוט:*
    ```
    chkdsk C: /r
    ```

#### מה לעשות אם הכונן בשימוש?

בניסיון להפעיל בדיקה עם תיקון (`/f` או `/r`) עבור כונן המערכת (בדרך כלל `C:`), תראו הודעה:

`לא ניתן להפעיל את הפקודה CHKDSK מכיוון שהכרך שצוין נמצא בשימוש על ידי תהליך אחר. האם ברצונך לתזמן בדיקה של כרך זה בפעם הבאה שהמערכת תופעל מחדש? (Y/N)`

לחצו על המקש `Y`, ולאחר מכן `Enter`. הבדיקה תתוזמן ותתחיל אוטומטית בהפעלה מחדש הבאה של המחשב.

---

### חלק 2: פקודות PowerShell

PowerShell – הוא מעטפת אוטומציה המציעה פקודות מודרניות וגמישות לניהול המערכת.

#### כיצד להפעיל את PowerShell

כמו במקרה של שורת הפקודה, תזדקקו להרשאות מנהל מערכת.

1.  לחצו על `Win + S` או על כפתור "התחל".
2.  הקלידו `powershell`.
3.  בתוצאות החיפוש, לחצו לחיצה ימנית על "Windows PowerShell" ובחרו **"הפעל כמנהל מערכת"**.

#### פקודה ראשית: `Repair-Volume`

ב-PowerShell, ה-cmdlet `Repair-Volume` משמש לבדיקה ותיקון דיסקים.

ראשית, ייתכן שיהיה שימושי להציג רשימה של כל הכרכים במערכת באמצעות הפקודה:
```powershell
Get-Volume
```

#### פרמטרים עיקריים של `Repair-Volume`

*   `-DriveLetter`
    מציין את אות הכונן שיש לבדוק.

*   `-Scan`
    סורק את הכרך לאיתור שגיאות ומדווח עליהן. זהו אנלוגי ל-`chkdsk` ללא מתגים.
    *דוגמה:* `Repair-Volume -DriveLetter D -Scan`

*   `-SpotFix`
    מבצע תיקון מהיר מקוון ללא צורך לנתק את הכרך לזמן רב. אנלוגי ל-`chkdsk /spotfix`.
    *דוגמה:* `Repair-Volume -DriveLetter D -SpotFix`

*   `-OfflineScanAndFix`
    מבצע בדיקה ותיקון מלאים של הכונן במצב לא מקוון. זהו האנלוגי המלא ביותר לפקודה `chkdsk /f /r`. המערכת תבקש הפעלה מחדש אם הכרך בשימוש.
    *דוגמה:* `Repair-Volume -DriveLetter C -OfflineScanAndFix`

#### דוגמאות PowerShell

*   **סריקת כונן C: לאיתור שגיאות (ללא תיקון):**
    ```powershell
    Repair-Volume -DriveLetter C -Scan
    ```
    תראו את התוצאה בשדה `HealthStatus` (לדוגמה, `Healthy` או `Needs-Repair`).

*   **ביצוע תיקון מהיר עבור כונן D:**
    ```powershell
    Repair-Volume -DriveLetter D -SpotFix
    ```

*   **תזמון בדיקה ותיקון מלאים עבור כונן המערכת C: בהפעלה מחדש הבאה:**
    ```powershell
    Repair-Volume -DriveLetter C -OfflineScanAndFix
    ```
    PowerShell, כמו `chkdsk`, יודיע לכם על הצורך בהפעלה מחדש ויתזמן את המשימה.


עבור רוב המשתמשים, התוצאה של `chkdsk C: /r` ו-`Repair-Volume -DriveLetter C -OfflineScanAndFix` תהיה זהה. הבחירה תלויה בהעדפותיכם ובמשימותיכם.

**הערה חשובה:** לפני ביצוע פעולות רציניות כלשהן בכונן, במיוחד אם אתם חושדים בבעיות פיזיות, **גבו תמיד נתונים חשובים!** כלים יכולים לתקן שגיאות, אך הם אינם יכולים להבטיח 100% שלמות מידע על מדיה פגומה.
