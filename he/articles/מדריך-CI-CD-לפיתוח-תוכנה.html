<h2 dir="rtl">ğŸš€ <span dir="ltr">CI/CD</span>: ××”×™×¡×•×“×•×ª ×•×¢×“ ×œ×¤×¨×•×“×§×©×Ÿ ×‘-<span dir="ltr">GCP</span> ×¢× <span dir="ltr">GitHub Actions</span> â€“ ××“×¨×™×š ××œ× ×¢× ×“×•×’×××•×ª ğŸš€</h2>

<p dir="rtl">×©×œ×•×, ××¤×ª×—×™×! ×‘××××¨ ×–×” ××¡×‘×™×¨ ×¢×œ <span dir="ltr">CI/CD</span> â€“ ×”×§×•× ×¡×¤×˜.</p>

<h3 dir="rtl">××”×• ×¦×™× ×•×¨ <span dir="ltr">CI/CD</span> ×‘×”×§×©×¨ ×©×œ ×ª×›× ×•×ª?</h3>

<p dir="rtl"><strong>×¦×™× ×•×¨ <span dir="ltr">CI/CD</span> (××™× ×˜×’×¨×¦×™×” ×¨×¦×™×¤×” / ××¡×¤×§×” ×¨×¦×™×¤×” ××• ×¤×¨×™×¡×” ×¨×¦×™×¤×”)</strong> ×”×•× ×ª×”×œ×™×š ××•×˜×•××˜×™ ×”×××¤×©×¨ ×œ××¤×ª×—×™× ×œ×¡×¤×§ ×©×™× ×•×™×™× ×‘×§×•×“ ×‘××”×™×¨×•×ª ×•×‘×××™× ×•×ª ×œ×¡×‘×™×‘×ª ×”×™×™×¦×•×¨ (×¤×¨×•×“×§×©×Ÿ).</p>

<p dir="rtl">×‘×•××• × ×¤×¨×˜ ××ª ××•×©×’×™ ×”××¤×ª×—:</p>

<h3 dir="rtl">ğŸ”§ <span dir="ltr">CI</span> â€” ××™× ×˜×’×¨×¦×™×” ×¨×¦×™×¤×” (<span dir="ltr">Continuous Integration</span>)</h3>
<p dir="rtl">×–×•×”×™ ×¤×¨×§×˜×™×§×” ×©×‘×” ××¤×ª×—×™× ××©×œ×‘×™× ×œ×¢×™×ª×™× ×§×¨×•×‘×•×ª ×©×™× ×•×™×™× ×‘×‘×¡×™×¡ ×§×•×“ ××©×•×ª×£. ×›×œ ×©×™× ×•×™ ×›×–×” ×‘××•×¤×Ÿ ××•×˜×•××˜×™:</p>
<ul>
<li><p dir="rtl"><strong>× ×‘× ×”</strong> (<span dir="ltr">build</span>)</p></li>
<li><p dir="rtl"><strong>× ×‘×“×§</strong> (×‘×“×™×§×•×ª ×™×—×™×“×”, ×‘×“×™×§×•×ª ××™× ×˜×’×¨×¦×™×”)</p></li>
<li><p dir="rtl"><strong>× ×‘×“×§ ×œ×”×ª×××” ×œ×ª×§× ×™×</strong> (×œ×™× ×˜×™× ×’, × ×™×ª×•×— ×¡×˜×˜×™)</p></li>
</ul>

<p dir="rtl">ğŸ‘‰ <strong>××˜×¨×ª <span dir="ltr">CI</span>:</strong> ×œ×–×”×•×ª ×©×’×™××•×ª ×‘×©×œ×‘ ××•×§×“× ×›×›×œ ×”××¤×©×¨, ×œ×¤× ×™ ×©×”×Ÿ ×©×•×‘×¨×•×ª ××©×”×• ×—×©×•×‘ ××• ××’×™×¢×•×ª ×œ×’×¨×¡×”.</p>

<h3 dir="rtl">ğŸš€ <span dir="ltr">CD</span> â€” ××¡×¤×§×” ×¨×¦×™×¤×” (<span dir="ltr">Continuous Delivery</span>) ××• ×¤×¨×™×¡×” ×¨×¦×™×¤×” (<span dir="ltr">Continuous Deployment</span>)</h3>
<p dir="rtl">×™×© ×›××Ÿ ×©×ª×™ ××¤×©×¨×•×™×•×ª:</p>

<h4 dir="rtl">âœ… ××¡×¤×§×” ×¨×¦×™×¤×” (<span dir="ltr">Continuous Delivery</span>)</h4>
<p dir="rtl">×œ××—×¨ ××¢×‘×¨ ××•×¦×œ×— ×©×œ ×©×œ×‘ ×”-<span dir="ltr">CI</span>, ×©×™× ×•×™×™× ×‘××•×¤×Ÿ ××•×˜×•××˜×™:</p>
<ul>
<li><p dir="rtl">×¢×•×‘×¨×™× ×‘×“×™×§×•×ª × ×•×¡×¤×•×ª (×œ×“×•×’××”, <span dir="ltr">E2E</span> â€“ ×‘×“×™×§×•×ª ××§×¦×” ×œ×§×¦×”)</p></li>
<li><p dir="rtl">××•×¢×‘×¨×™× ×œ×©×¨×ª <span dir="ltr">Staging</span> (×‘×“×™×§×”)</p></li>
<li><p dir="rtl">ğŸ‘‰ <strong>××š ×”×¤×¨×™×¡×” ×œ×¤×¨×•×“×§×©×Ÿ ×¢×“×™×™×Ÿ ×“×•×¨×©×ª ××™×©×•×¨ ×™×“× ×™.</strong> ×–×” × ×•×ª×Ÿ ×œ×¦×•×•×ª ×©×œ×™×˜×” ×¢×œ <em>××ª×™</em> ×‘×“×™×•×§ ×”×©×™× ×•×™×™× ×™×™×¨××• ×œ××©×ª××©×™×.</p></li>
</ul>

<h4 dir="rtl">ğŸ¤– ×¤×¨×™×¡×” ×¨×¦×™×¤×” (<span dir="ltr">Continuous Deployment</span>)</h4>
<p dir="rtl">×–×”×• ×”×©×œ×‘ ×”×‘× ×œ××—×¨ ××¡×¤×§×” ×¨×¦×™×¤×”. ×›××Ÿ, ×”×¤×¨×™×¡×” ×œ×¤×¨×•×“×§×©×Ÿ ××ª×‘×¦×¢×ª <strong>×‘××•×¤×Ÿ ××•×˜×•××˜×™ ×œ×—×œ×•×˜×™×Ÿ</strong>, ×× ×›×œ ×©×œ×‘×™ ×”×¦×™× ×•×¨ ×”×§×•×“××™× (×‘× ×™×™×”, ×›×œ ×”×‘×“×™×§×•×ª) ×¢×‘×¨×• ×‘×”×¦×œ×—×”. ×–×•×”×™ ×¨××ª ×”××•×˜×•××¦×™×” ×”××ª×§×“××ª ×‘×™×•×ª×¨.</p>

<h3 dir="rtl">ğŸ”„ ×××” ××•×¨×›×‘ ×‘×“×¨×š ×›×œ×œ ×¦×™× ×•×¨ <span dir="ltr">CI/CD</span>?</h3>

<p dir="rtl">×¦×™× ×•×¨ ×˜×™×¤×•×¡×™ ×›×•×œ×œ ××ª ×”×©×œ×‘×™× ×”×‘××™×:</p>
<ol>
<li><p dir="rtl"><strong><span dir="ltr">Checkout</span></strong> â€” ×©×™×‘×•×˜ ×”×’×¨×¡×” ×”××—×¨×•× ×” ×©×œ ×”×§×•×“ ××”×××’×¨.</p></li>
<li><p dir="rtl"><strong><span dir="ltr">Build</span></strong> â€” ×‘× ×™×™×ª ×”×¤×¨×•×™×§×˜ (×§×•××¤×™×œ×¦×™×”, ×”×¨×›×‘×ª ××¨×˜×™×¤×§×˜×™×, ×ª××•× ×•×ª <span dir="ltr">Docker</span>).</p></li>
<li><p dir="rtl"><strong><span dir="ltr">Test</span></strong> â€” ×”×¤×¢×œ×ª ×¡×•×’×™ ×‘×“×™×§×•×ª ×©×•× ×™× (×™×—×™×“×”, ××™× ×˜×’×¨×¦×™×”, <span dir="ltr">E2E</span>).</p></li>
<li><p dir="rtl"><strong><span dir="ltr">Lint/Code Quality</span></strong> â€” ×‘×“×™×§×ª ×”×§×•×“ ×œ×”×ª×××” ×œ×¡×’× ×•×Ÿ ×•×©×’×™××•×ª ×¤×•×˜× ×¦×™××œ×™×•×ª ×‘×××¦×¢×•×ª ×× ×ª×—×™× ×¡×˜×˜×™×™×.</p></li>
<li><p dir="rtl"><strong><span dir="ltr">Deploy</span></strong> â€” ×¤×¨×™×¡×ª ×”×™×™×©×•× (×œ×©×¨×ª <span dir="ltr">Staging</span> ××• <span dir="ltr">Production</span>).</p></li>
<li><p dir="rtl"><strong><span dir="ltr">Notify</span></strong> â€” ×©×œ×™×—×ª ×”×ª×¨××•×ª ×¢×œ ×¡×˜×˜×•×¡ ×”×¦×™× ×•×¨ ×œ×¦×•×•×ª (×œ×“×•×’××”, ×œ-<span dir="ltr">Slack</span>, ××™××™×™×œ).</p></li>
</ol>

<h3 dir="rtl">ğŸ›  ×›×œ×™× ×¤×•×¤×•×œ×¨×™×™× ×œ-<span dir="ltr">CI/CD</span>:</h3>

<ul>
<li><p dir="rtl"><strong><span dir="ltr">GitHub Actions</span></strong> (×”××•×§×“ ×©×œ× ×• ×”×™×•×!)</p></li>
<li><p dir="rtl"><span dir="ltr">GitLab CI/CD</span></p></li>
<li><p dir="rtl"><span dir="ltr">Jenkins</span></p></li>
<li><p dir="rtl"><span dir="ltr">CircleCI</span></p></li>
<li><p dir="rtl"><span dir="ltr">Bitbucket Pipelines</span></p></li>
<li><p dir="rtl"><span dir="ltr">Azure DevOps</span></p></li>
<li><p dir="rtl"><span dir="ltr">TeamCity</span></p></li>
</ul>

<h3 dir="rtl">ğŸ§  ×œ××” ×‘×›×œ×œ ×¦×¨×™×š <span dir="ltr">CI/CD</span>?</h3>

<ul>
<li><p dir="rtl"><strong>××¤×—×™×ª ×˜×¢×•×™×•×ª ×× ×•×©:</strong> ××•×˜×•××¦×™×” ××‘×˜×œ×ª ×©×’×™××•×ª ×”×§×©×•×¨×•×ª ×œ×¤×¢×•×œ×•×ª ×™×“× ×™×•×ª.</p></li>
<li><p dir="rtl"><strong>×–×™×”×•×™ ××”×™×¨ ×©×œ ×‘××’×™×:</strong> ×©×’×™××•×ª × ××¦××•×ª ××•×§×“× ×™×•×ª×¨, ×§×œ ×•×–×•×œ ×™×•×ª×¨ ×œ×ª×§×Ÿ ××•×ª×Ÿ.</p></li>
<li><p dir="rtl"><strong>××•×˜×•××¦×™×” ×©×œ ××©×™××•×ª ×©×’×¨×ª×™×•×ª:</strong> ××¤×ª×—×™× ××§×“×™×©×™× ×¤×—×•×ª ×–××Ÿ ×œ×‘× ×™×™×” ×•×¤×¨×™×¡×”, ×•×™×•×ª×¨ â€“ ×œ×§×•×“.</p></li>
<li><p dir="rtl"><strong>×©×™×¤×•×¨ ××™×›×•×ª ×”×§×•×“:</strong> ×‘×“×™×§×•×ª ×•×‘×—×™× ×•×ª ××ª××©×›×•×ª ××¢×œ×•×ª ××ª ×¨×£ ×”××™×›×•×ª ×”×›×œ×œ×™.</p></li>
<li><p dir="rtl"><strong>××¡×¤×§×” ××”×™×¨×” ×©×œ ×¤×™×¦'×¨×™× ×œ××©×ª××©×™×:</strong> ×™×›×•×œ×•×ª ×—×“×©×•×ª ××’×™×¢×•×ª ×œ××©×ª××© ×”×§×¦×” ××”×¨ ×™×•×ª×¨ ×•×œ×¢×™×ª×™× ×§×¨×•×‘×•×ª ×™×•×ª×¨.</p></li>
</ul>

<h3 dir="rtl">ğŸ“¦ ×“×•×’×××•×ª ×¤×©×•×˜×•×ª ×œ-<span dir="ltr">CI/CD</span> ×¢× <span dir="ltr">GitHub Actions</span></h3>

<p dir="rtl">×‘×•××• × ×¡×ª×›×œ ×¢×œ ×¦×™× ×•×¨×•×ª ×‘×¡×™×¡×™×™× ×œ×˜×›× ×•×œ×•×’×™×•×ª ×¤×•×¤×•×œ×¨×™×•×ª. ×›×œ ×”×“×•×’×××•×ª ××©×ª××©×•×ª ×‘-<span dir="ltr">GitHub Actions</span> ×•× ×©××¨×•×ª ×‘×¡×¤×¨×™×™×ª <span dir="ltr"><code>.github/workflows/</code></span> ×©×œ ×”×¤×¨×•×™×§×˜ ×©×œ×›×.</p>

<h4 dir="rtl">ğŸ <span dir="ltr">CI/CD</span> ×¢×‘×•×¨ <span dir="ltr">Python</span> (×¢× <span dir="ltr"><code>pytest</code></span> ×•-<span dir="ltr"><code>flake8</code></span>)</h4>

<pre class="line-numbers"><code class="language-yaml"># .github/workflows/python-ci.yml
name: Python CI

on: [push, pull_request]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.11' # Specify your version

      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install -r requirements.txt # Make sure you have requirements.txt
          pip install flake8 pytest

      - name: Lint with flake8
        run: |
          # Check code in src and tests folders (adjust to your project)
          flake8 src tests

      - name: Run tests
        run: |
          pytest
</code></pre>

<h4 dir="rtl">ğŸŒ <span dir="ltr">CI/CD</span> ×¢×‘×•×¨ <span dir="ltr">Node.js</span> (×¢× <span dir="ltr"><code>npm test</code></span> ×•-<span dir="ltr"><code>eslint</code></span>)</h4>

<pre class="line-numbers"><code class="language-yaml"># .github/workflows/node-ci.yml
name: Node.js CI

on: [push, pull_request]

jobs:
  build:
    runs-on: ubuntu-latest

    strategy:
      matrix:
        node-version: [18.x] # Specify your Node.js version

    steps:
      - uses: actions/checkout@v3

      - name: Use Node.js ${{ matrix.node-version }}
        uses: actions/setup-node@v4
        with:
          node-version: ${{ matrix.node-version }}

      - name: Install dependencies
        run: npm install # Or npm ci for more predictable installation

      - name: Lint with ESLint
        run: npx eslint . # Make sure ESLint is configured in the project

      - name: Run tests
        run: npm test
</code></pre>

<h4 dir="rtl">ğŸ³ <span dir="ltr">CI/CD</span> ×¢×‘×•×¨ <span dir="ltr">Docker</span> (×‘× ×™×™×” ×•×“×—×™×¤×” ×œ-<span dir="ltr">Docker Hub</span>)</h4>

<p dir="rtl">×œ×“×•×’××” ×–×• ×ª×–×“×§×§ ×œ×¡×•×“×•×ª <span dir="ltr"><code>DOCKER_USERNAME</code></span> ×•-<span dir="ltr"><code>DOCKER_PASSWORD</code></span> (××• ××¡×™××•×Ÿ) ×‘×”×’×“×¨×•×ª ×××’×¨ <span dir="ltr">GitHub</span> ×©×œ×š (<span dir="ltr"><code>Settings -&gt; Secrets and variables -&gt; Actions</code></span>).</p>

<pre class="line-numbers"><code class="language-yaml"># .github/workflows/docker-ci.yml
name: Docker CI/CD

on:
  push:
    branches: [ main ] # Run only for main branch

jobs:
  docker:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3

      - name: Log in to Docker Hub
        run: echo "${{ secrets.DOCKER_PASSWORD }}" | docker login -u "${{ secrets.DOCKER_USERNAME }}" --password-stdin

      - name: Build Docker image
        # Replace myapp with your application name
        run: docker build -t ${{ secrets.DOCKER_USERNAME }}/myapp:latest .

      - name: Push Docker image
        run: docker push ${{ secrets.DOCKER_USERNAME }}/myapp:latest
</code></pre>

<h3 dir="rtl">ğŸšš ×¤×¨×™×¡×” ×œ×¤×œ×˜×¤×•×¨××•×ª ×¤×•×¤×•×œ×¨×™×•×ª</h3>

<p dir="rtl">×›×¢×ª, ×œ××—×¨ ×©×™×© ×œ× ×• ××¨×˜×™×¤×§×˜×™× ×©× ×‘× ×• ×•× ×‘×“×§×• (×œ×“×•×’××”, ×ª××•× ×ª <span dir="ltr">Docker</span>), ×‘×•××• × ×¨××” ×›×™×¦×“ × ×™×ª×Ÿ ×œ×¤×¨×•×¡ ××•×ª×.</p>

<h4 dir="rtl">ğŸŸ£ ×¤×¨×™×¡×” ×œ-<span dir="ltr">Heroku</span></h4>

<p dir="rtl"><strong>ğŸ” ×¡×•×“×•×ª <span dir="ltr">GitHub</span>:</strong> <span dir="ltr"><code>HEROKU_API_KEY</code></span>, <span dir="ltr"><code>HEROKU_APP_NAME</code></span>.</p>

<pre class="line-numbers"><code class="language-yaml"># .github/workflows/deploy-heroku.yml
name: Deploy to Heroku

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Install Heroku CLI
        run: curl https://cli-assets.heroku.com/install.sh | sh
      - name: Login to Heroku
        env:
          HEROKU_API_KEY: ${{ secrets.HEROKU_API_KEY }}
        run: heroku auth:token
      - name: Deploy to Heroku
        env:
          HEROKU_API_KEY: ${{ secrets.HEROKU_API_KEY }}
        run: |
          heroku git:remote -a ${{ secrets.HEROKU_APP_NAME }}
          git push heroku main -f # Be careful with -f (force push)
</code></pre>
<p dir="rtl">×× ××ª×” ×¤×•×¨×¡ ×ª××•× ×ª <span dir="ltr">Docker</span> ×œ-<span dir="ltr">Heroku</span>:</p>
<pre class="line-numbers"><code class="language-yaml"># ... (Build and login steps for Docker Hub/GHCR from previous examples) ...
# deploy:
#   name: Deploy to Heroku
#   needs: build # Depends on image build task
#   runs-on: ubuntu-latest
#   steps:
#     # ...
#     - name: Login to Heroku container registry
#       run: echo "${{ secrets.HEROKU_API_KEY }}" | docker login --username=_ --password-stdin registry.heroku.com
#     - name: Tag image for Heroku
#       # Assuming the image was built as ghcr.io/username/repo/myapp:latest
#       run: docker tag ghcr.io/${{ github.repository_owner }}/${{ github.event.repository.name }}/myapp:latest registry.heroku.com/${{ secrets.HEROKU_APP_NAME }}/web
#     - name: Push image to Heroku
#       run: docker push registry.heroku.com/${{ secrets.HEROKU_APP_NAME }}/web
#     - name: Release Heroku App
#       env:
#         HEROKU_API_KEY: ${{ secrets.HEROKU_API_KEY }}
#       run: heroku container:release web --app ${{ secrets.HEROKU_APP_NAME }}
</code></pre>

<h4 dir="rtl">ğŸŸ¨ ×¤×¨×™×¡×” ×œ-<span dir="ltr">AWS</span> (×œ×“×•×’××”, ×§×‘×¦×™× ×¡×˜×˜×™×™× ×œ-<span dir="ltr">S3</span>)</h4>

<p dir="rtl"><strong>ğŸ” ×¡×•×“×•×ª <span dir="ltr">GitHub</span>:</strong> <span dir="ltr"><code>AWS_ACCESS_KEY_ID</code></span>, <span dir="ltr"><code>AWS_SECRET_ACCESS_KEY</code></span>, <span dir="ltr"><code>AWS_REGION</code></span>, <span dir="ltr"><code>S3_BUCKET_NAME</code></span>.</p>

<pre class="line-numbers"><code class="language-yaml"># .github/workflows/deploy-aws-s3.yml
name: Deploy Static Site to AWS S3

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Configure AWS credentials
        uses: aws-actions/configure-aws-credentials@v4
        with:
          aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}
          aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
          aws-region: ${{ secrets.AWS_REGION }}
      - name: Sync files to S3
        # Replace ./public with the path to your static files
        run: aws s3 sync ./public s3://${{ secrets.S3_BUCKET_NAME }} --delete
</code></pre>
<p dir="rtl">×œ×¤×¨×™×¡×” ×œ-<span dir="ltr"><strong>AWS Elastic Beanstalk</strong></span> ×‘×“×¨×š ×›×œ×œ ××©×ª××©×™× ×‘-<span dir="ltr">EB CLI</span>, ×”×¦×™× ×•×¨ ×™×”×™×” ×“×•××”, ××š ×¢× ×¤×§×•×“×•×ª <span dir="ltr"><code>eb deploy</code></span>.</p>

<h4 dir="rtl">ğŸ”µ ×¤×¨×™×¡×” ×œ-<span dir="ltr">Google Cloud Platform (GCP App Engine)</span></h4>

<p dir="rtl"><strong>ğŸ” ×¡×•×“×•×ª <span dir="ltr">GitHub</span>:</strong> <span dir="ltr"><code>GCP_CREDENTIALS</code></span> (××¤×ª×— <span dir="ltr">JSON</span> ×©×œ ×—×©×‘×•×Ÿ ×©×™×¨×•×ª), <span dir="ltr"><code>GCP_PROJECT_ID</code></span>.</p>

<pre class="line-numbers"><code class="language-yaml"># .github/workflows/deploy-gcp-app-engine.yml
name: Deploy to GCP App Engine

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Set up Cloud SDK
        uses: google-github-actions/setup-gcloud@v2
        with:
          project_id: ${{ secrets.GCP_PROJECT_ID }}
          service_account_key: ${{ secrets.GCP_CREDENTIALS }}
          export_default_credentials: true
      - name: Deploy to App Engine
        # Make sure you have app.yaml in the project root
        run: gcloud app deploy --quiet
</code></pre>

<h4 dir="rtl">ğŸŸª ×¤×¨×™×¡×” ×œ-<span dir="ltr">Render.com</span></h4>

<p dir="rtl"><span dir="ltr">Render</span> ×œ×¢×™×ª×™× ×§×¨×•×‘×•×ª ×¤×•×¨×¡ ××•×˜×•××˜×™×ª ×‘×¢×ª <span dir="ltr">push</span> ×œ-<span dir="ltr">GitHub</span>, ×× ×”×××’×¨ ××—×•×‘×¨. ××š ×¢×‘×•×¨ ×˜×¨×™×’×¨ ×™×“× ×™ (××• ×›×—×œ×§ ××¦×™× ×•×¨ ××•×¨×›×‘ ×™×•×ª×¨), × ×™×ª×Ÿ ×œ×”×©×ª××© ×‘-<span dir="ltr">Deploy Hook</span>.</p>
<p dir="rtl"><strong>ğŸ” ×¡×•×“×•×ª <span dir="ltr">GitHub</span>:</strong> <span dir="ltr"><code>RENDER_DEPLOY_HOOK</code></span> (×›×ª×•×‘×ª <span dir="ltr">URL</span>, ×©×”×ª×§×‘×œ×” ××”×’×“×¨×•×ª ×”×©×™×¨×•×ª ×‘-<span dir="ltr">Render</span>).</p>

<pre class="line-numbers"><code class="language-yaml"># .github/workflows/deploy-render.yml
name: Trigger Render Deploy

on:
  workflow_dispatch: # Allows manual triggering from GitHub UI

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger Render Deploy Hook
        run: curl -X POST ${{ secrets.RENDER_DEPLOY_HOOK }}
</code></pre>

<h3 dir="rtl">ğŸŒŸ <span dir="ltr">CI/CD</span> ××ª×§×“×: ×‘× ×™×™×ª <span dir="ltr">Docker</span> â† ×“×—×™×¤×” ×œ-<span dir="ltr">GHCR</span> â† <span dir="ltr">Staging/Production</span> ×‘-<span dir="ltr">GCP Cloud Run</span></h3>

<p dir="rtl">×•×¢×›×©×™×•, ×”×“×•×‘×“×‘×Ÿ ×©×‘×§×¦×¤×ª! ×‘×•××• × ×‘× ×” ×¦×™× ×•×¨ ××ª×§×“×:</p>
<ol>
<li><p dir="rtl">×‘× ×™×™×ª ×ª××•× ×ª <span dir="ltr">Docker</span>.</p></li>
<li><p dir="rtl">×¤×¨×¡×•× ×”×ª××•× ×” ×‘-<span dir="ltr">GitHub Container Registry (ghcr.io)</span>.</p></li>
<li><p dir="rtl">×¤×¨×™×¡×” ××•×˜×•××˜×™×ª ×œ×¡×‘×™×‘×ª <span dir="ltr"><strong>Staging</strong></span> ×‘-<span dir="ltr">GCP Cloud Run</span>.</p></li>
<li><p dir="rtl">×¤×¨×™×¡×” ×œ×¡×‘×™×‘×ª <span dir="ltr"><strong>Production</strong></span> ×‘-<span dir="ltr">GCP Cloud Run</span> <strong>×œ××—×¨ ××™×©×•×¨ ×™×“× ×™</strong>.</p></li>
</ol>

<p dir="rtl">×œ×©× ×›×š, × ×–×“×§×§ ×œ××¡×¤×¨ ×§×‘×¦×™ ×–×¨×™××ª ×¢×‘×•×“×”.</p>

<p dir="rtl"><strong>×¡×•×“×•×ª <span dir="ltr">GitHub</span> × ×“×¨×©×™×:</strong></p>
<ul>
<li><p dir="rtl"><span dir="ltr"><code>GCP_PROJECT_ID</code></span>: ××–×”×” ×”×¤×¨×•×™×§×˜ ×©×œ×š ×‘-<span dir="ltr">GCP</span>.</p></li>
<li><p dir="rtl"><span dir="ltr"><code>GCP_CREDENTIALS</code></span>: ××¤×ª×— <span dir="ltr">JSON</span> ×©×œ ×—×©×‘×•×Ÿ ×©×™×¨×•×ª <span dir="ltr">GCP</span> ×¢× ×”×¨×©××•×ª ×¤×¨×™×¡×” ×œ-<span dir="ltr">Cloud Run</span> ×•×’×™×©×” ×œ-<span dir="ltr">GHCR</span> (×× × ×“×¨×©). ×‘×“×¨×š ×›×œ×œ <span dir="ltr"><code>GITHUB_TOKEN</code></span> ××¡×¤×™×§ ×œ×’×™×©×” ×œ-<span dir="ltr">GHCR</span> ×-<span dir="ltr">Actions</span>.</p></li>
<li><p dir="rtl"><span dir="ltr"><code>GCP_REGION</code></span>: ××–×•×¨ ×¢×‘×•×¨ <span dir="ltr">Cloud Run</span> (×œ×“×•×’××”, <span dir="ltr"><code>europe-west1</code></span>).</p></li>
</ul>

<h4 dir="rtl">1. ×‘× ×™×™×” ×•×¤×¨×¡×•× ×ª××•× ×ª <span dir="ltr">Docker</span> ×œ-<span dir="ltr">GHCR</span></h4>

<pre class="line-numbers"><code class="language-yaml"># .github/workflows/build.yml
name: Build & Push to GHCR

on:
  push:
    branches: [main] # Run on push to main

jobs:
  build-and-push:
    runs-on: ubuntu-latest
    permissions:
      contents: read      # For checkout
      packages: write     # For push to GHCR

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Log in to GitHub Container Registry
        uses: docker/login-action@v3
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Build and push Docker image
        uses: docker/build-push-action@v5
        with:
          context: .
          push: true
          tags: ghcr.io/${{ github.repository_owner }}/${{ github.event.repository.name }}/myapp:latest
          # Tagging by commit SHA can be added for uniqueness:
          # tags: |
          #   ghcr.io/${{ github.repository_owner }}/${{ github.event.repository.name }}/myapp:latest
          #   ghcr.io/${{ github.repository_owner }}/${{ github.event.repository.name }}/myapp:${{ github.sha }}
</code></pre>
<ul>
<li><p dir="rtl"><span dir="ltr"><code>github.repository_owner</code></span>: ×‘×¢×œ ×”×××’×¨ (×©× ×”××©×ª××© ××• ×”××¨×’×•×Ÿ ×©×œ×š).</p></li>
<li><p dir="rtl"><span dir="ltr"><code>github.event.repository.name</code></span>: ×©× ×”×××’×¨.</p></li>
<li><p dir="rtl"><span dir="ltr"><code>myapp</code></span>: ×©× ×”×™×™×©×•×/×”×ª××•× ×” ×©×œ×š.</p></li>
</ul>

<h4 dir="rtl">2. ×¤×¨×™×¡×” ××•×˜×•××˜×™×ª ×œ-<span dir="ltr">Staging (GCP Cloud Run)</span></h4>

<p dir="rtl">×–×¨×™××ª ×¢×‘×•×“×” ×–×• ×ª×•×¤×¢×œ ××•×˜×•××˜×™×ª ×œ××—×¨ ×”×©×œ××” ××•×¦×œ×—×ª ×©×œ <span dir="ltr"><code>build.yml</code></span>.</p>

<pre class="line-numbers"><code class="language-yaml"># .github/workflows/deploy-staging.yml
name: Deploy to GCP Cloud Run (Staging)

on:
  workflow_run:
    workflows: ["Build & Push to GHCR"] # Build workflow name
    types:
      - completed

jobs:
  deploy-staging:
    runs-on: ubuntu-latest
    # Run only if build workflow completed successfully
    if: ${{ github.event.workflow_run.conclusion == 'success' }}

    # Use GitHub environments for Staging (optional, but recommended)
    environment:
      name: staging
      url: ${{ steps.deploy.outputs.url }} # URL will be available after deployment

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3 # Required if you use configurations from the repository

      - id: 'auth'
        uses: 'google-github-actions/auth@v2'
        with:
          credentials_json: '${{ secrets.GCP_CREDENTIALS }}'

      - name: 'Deploy to Cloud Run (Staging)'
        id: deploy
        uses: 'google-github-actions/deploy-cloudrun@v2'
        with:
          service: 'myapp-staging' # Your Staging Cloud Run service name
          region: '${{ secrets.GCP_REGION }}'
          # Use image pushed in build.yml
          image: 'ghcr.io/${{ github.repository_owner }}/${{ github.event.repository.name }}/myapp:latest'
          project_id: '${{ secrets.GCP_PROJECT_ID }}'
          flags: '--allow-unauthenticated --platform=managed' # Allow unauthenticated access for example
</code></pre>

<h4 dir="rtl">3. ×¤×¨×™×¡×” ×œ×¤×¨×•×“×§×©×Ÿ ×¢× ××™×©×•×¨ ×™×“× ×™ (<span dir="ltr">GCP Cloud Run</span>)</h4>

<p dir="rtl">×–×¨×™××ª ×¢×‘×•×“×” ×–×• ××•×¤×¢×œ×ª ×™×“× ×™×ª ×“×¨×š ×××©×§ ×”××©×ª××© ×©×œ <span dir="ltr">GitHub Actions</span>.</p>

<pre class="line-numbers"><code class="language-yaml"># .github/workflows/deploy-prod.yml
name: Deploy to GCP Cloud Run (Production)

on:
  workflow_dispatch: # Allows manual triggering

jobs:
  deploy-production:
    runs-on: ubuntu-latest

    environment:
      name: production
      url: ${{ steps.deploy.outputs.url }}

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - id: 'auth'
        uses: 'google-github-actions/auth@v2'
        with:
          credentials_json: '${{ secrets.GCP_CREDENTIALS }}'

      - name: 'Deploy to Cloud Run (Production)'
        id: deploy
        uses: 'google-github-actions/deploy-cloudrun@v2'
        with:
          service: 'myapp-production' # Your production service name
          region: '${{ secrets.GCP_REGION }}'
          image: 'ghcr.io/${{ github.repository_owner }}/${{ github.event.repository.name }}/myapp:latest' # Use the same 'latest' image
          project_id: '${{ secrets.GCP_PROJECT_ID }}'
          flags: '--allow-unauthenticated --platform=managed'
          # For production, you can add --no-traffic and then gradually shift traffic
          # traffic:
          #   latest: true
          #   percent: 100
</code></pre>

<p dir="rtl"><strong>×”×™×‘×˜×™× ×—×©×•×‘×™× ×©×œ ×¦×™× ×•×¨ ××ª×§×“× ×–×”:</strong></p>
<ul>
<li><p dir="rtl"><strong><span dir="ltr">GitHub Container Registry (ghcr.io):</span></strong> ×× ×• ××©×ª××©×™× ×‘×• ×œ××—×¡×•×Ÿ ×ª××•× ×•×ª <span dir="ltr">Docker</span>. ×–×” × ×•×—, ××›×™×•×•×Ÿ ×©×”×•× ××©×•×œ×‘ ×”×™×˜×‘ ×¢× <span dir="ltr">GitHub Actions</span>.</p></li>
<li><p dir="rtl"><strong><span dir="ltr"><code>workflow_run</code></span>:</strong> ×××¤×©×¨ ×”×¤×¢×œ×ª ×–×¨×™××ª ×¢×‘×•×“×” ××—×ª (×¤×¨×™×¡×ª <span dir="ltr">Staging</span>) ×¢× ×”×©×œ××ª ××—×¨×ª (×‘× ×™×™×”).</p></li>
<li><p dir="rtl"><strong><span dir="ltr"><code>workflow_dispatch</code></span>:</strong> ×××¤×©×¨ ×”×¤×¢×œ×” ×™×“× ×™×ª ×©×œ ×–×¨×™××ª ×¢×‘×•×“×” (×¤×¨×™×¡×ª <span dir="ltr">Production</span>), ×•××¡×¤×§ ×©×œ×™×˜×”.</p></li>
<li><p dir="rtl"><strong>×¡×‘×™×‘×•×ª <span dir="ltr">GitHub</span>:</strong> ×××¤×©×¨×•×ª ×”×’×“×¨×ª ×›×œ×œ×™ ×”×’× ×” ×¢×‘×•×¨ <span dir="ltr">Production</span> (×œ×“×•×’××”, ×“×¨×™×©×ª ××™×©×•×¨ ×××‘×§×¨×™× ×¡×¤×¦×™×¤×™×™×) ×•××—×¡×•×Ÿ ×¡×•×“×•×ª ×¡×¤×¦×™×¤×™×™× ×œ×¡×‘×™×‘×”.</p></li>
<li><p dir="rtl"><strong><span dir="ltr">GCP Cloud Run</span>:</strong> ××¤×©×¨×•×ª <span dir="ltr">serverless</span> ××¦×•×™× ×ª ×œ×”×¤×¢×œ×ª ×™×™×©×•××™× ××‘×•×¡×¡×™ ×§×•× ×˜×™×™× ×¨×™×.</p></li>
</ul>

<h3 dir="rtl">ğŸ” ××‘×˜×—×” â€“ ×–×” ×—×©×•×‘!</h3>

<ul>
<li><p dir="rtl"><strong>×”×©×ª××© ×‘×¡×•×“×•×ª <span dir="ltr">GitHub</span>:</strong> ×œ×¢×•×œ× ××œ ×ª×©××•×¨ ××¡×™××•× ×™×, ×¡×™×¡×××•×ª ××• ××¤×ª×—×•×ª <span dir="ltr">API</span> ×™×©×™×¨×•×ª ×‘×§×‘×¦×™ <span dir="ltr">YAML</span>. ×”×©×ª××© ×‘-<span dir="ltr"><code>Settings -&gt; Secrets and variables -&gt; Actions</code></span> ×‘×××’×¨ ×©×œ×š.</p></li>
<li><p dir="rtl"><strong>×”×¨×©××•×ª ××™× ×™××œ×™×•×ª:</strong> ×¢×‘×•×¨ ×—×©×‘×•× ×•×ª ×©×™×¨×•×ª (×œ×“×•×’××”, <span dir="ltr">GCP</span>) ×”×¢× ×§ ×¨×§ ××ª ×”×”×¨×©××•×ª ×”× ×—×•×¦×•×ª ×‘×××ª ×œ×‘×™×¦×•×¢ ××©×™××•×ª <span dir="ltr">CI/CD</span>.</p></li>
<li><p dir="rtl"><strong>×‘×™×“×•×“ ×¡×‘×™×‘×•×ª:</strong> <span dir="ltr">Staging</span> ×•-<span dir="ltr">Production</span> ×¦×¨×™×›×™× ×œ×”×™×•×ª ××‘×•×“×“×™× ×›×›×œ ×”××¤×©×¨. ×¤×¨×•×™×§×˜×™×/×—×©×‘×•× ×•×ª × ×¤×¨×“×™× ×‘×¡×¤×§×™ ×¢× ×Ÿ â€“ ×–×•×”×™ ×¤×¨×§×˜×™×§×” ×˜×•×‘×”.</p></li>
<li><p dir="rtl"><strong>×”×’× ×ª ×¢× ×¤×™×:</strong> ×”×’×“×¨ ×”×’× ×” ×¢×‘×•×¨ ×¢× ×£ <span dir="ltr"><code>main</code></span> (××• <span dir="ltr"><code>master</code></span>), ×›×š ×©× ×™×ª×Ÿ ×™×”×™×” ×œ×“×—×•×£ ××œ×™×• ×¨×§ ×‘×××¦×¢×•×ª <span dir="ltr">Pull Request</span> ×¢× ×‘×“×™×§×•×ª <span dir="ltr">CI</span> ×—×•×‘×”.</p></li>
</ul>