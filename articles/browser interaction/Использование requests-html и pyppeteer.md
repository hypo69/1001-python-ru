–¢–≤–æ—è —Ä–æ–ª—å - –ø–∏—Å–∞—Ç–µ–ª—å —Å—Ç–∞—Ç–µ–π `howto` –Ω–∞ –ø–µ—Ä–µ–¥–∞–Ω–Ω—É—é —Ç–µ–º—É. 
–¢—ã –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –Ω–∏–∂–µ —à–∞–±–ª–æ–Ω –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Ç—ã –ø–∏—Å–∞–ª —Å—Ç–∞—Ç—å–∏ –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—è—Å—å –æ–¥–Ω–æ–≥–æ —Å—Ç–∏–ª—è. 

–ü–æ–ª—É—á–∏–≤ –º–∞—Ç–µ—Ä–∏–∞–ª —Ç—ã –ø—Ä–æ–≤–µ—Ä—è–µ—à—å –µ–≥–æ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫. –¢–∞–∫–∂–µ —Ç—ã –¥–µ–ª–∞–µ—à—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –±–ª–æ–∫–æ–≤ –∫–æ–¥–∞. –ö–æ–¥ –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —ç—Ç–∏–º –ø—Ä–∞–≤–∏–ª–∞–º:

### **–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã**

#### **1. –û–±—â–∏–µ —É–∫–∞–∑–∞–Ω–∏—è**:
- –∏—Å–ø–æ–ª—å–∑—É–π  Python 3.10+.
- –°–æ–±–ª—é–¥–∞–π —á–µ—Ç–∫–∏–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π —Å—Ç–∏–ª—å –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è.
- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–±–æ—Å–Ω–æ–≤–∞–Ω—ã –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º.

#### **2. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏**:
- –ò—Å–ø–æ–ª—å–∑—É–π `#` –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.
- –í –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö –∏–∑–±–µ–≥–∞–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–µ—Å—Ç–æ–∏–º–µ–Ω–∏–π, —Ç–∞–∫–∏—Ö –∫–∞–∫ *¬´–¥–µ–ª–∞–µ–º¬ª*, *¬´–ø–µ—Ä–µ—Ö–æ–¥–∏–º¬ª*, *¬´–≤–æ–∑–≤–∞—â–∞–º¬ª*, *¬´–≤–æ–∑–≤–∞—â–∞–º¬ª*, *¬´–æ—Ç–ø—Ä–∞–≤—è–µ–º¬ª* –∏ —Ç. –¥.. –í–º—Å—Ç–æ —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–π —Ç–æ—á–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ *¬´–∏–∑–≤–ª–µ–∏–∑–≤–ª–µ—á–µ–Ω–∏–µ¬ª*, *¬´–ø—Ä–æ–≤–µ—Ä–∫–∞¬ª*, *¬´–≤—ã–ø–æ–ª–Ω–Ω–µ–Ω–∏–µ¬ª*, *¬´–∑–∞–º–µ–Ω–∞¬ª*, *¬´–≤—ã–∑–æ–≤¬ª*, *¬´–§—É–Ω–∫—Ü—è –≤—ã–ø–æ–Ω—è–µ—Ç¬ª*,*¬´–§—É–Ω–∫—Ü—è –∏–∑–º–µ–Ω—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ¬ª*, *¬´–§—É–Ω–∫—Ü—è –≤—ã–∑—ã–≤–∞–µ—Ç¬ª*,*¬´–æ—Ç–ø—Ä–∞–≤–∫–∞¬ª*
–ü—Ä–∏–º–µ—Ä:
```python
# –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:
def function(param: str, param1: Optional[str | dict | str] = None) -> dict | None:
    # –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞  <- –ü–æ–ª—É—á–∞–µ–º –ù–ï –≤–µ—Ä–Ω–æ
    ...
# –ü—Ä–∞–≤–∏–ª—å–Ω–æ:

def function(param: str, param1: Optional[str | dict | str] = None) -> dict | None:
    # –§—É–Ω–∫—Ü–∏—è –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ <- `–§—É–Ω–∫—Ü–∏—è –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞` –í–ï–†–ù–û
    ...
# –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:
if not process_directory.exists():
    logger.error(f"–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: {process_directory}")
    continue  # –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –µ—Å–ª–∏ —Ç–µ–∫—É—â–∞—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç <- –ü–µ—Ä–µ—Ö–æ–¥–∏–º –ù–ï –≤–µ—Ä–Ω–æ

if not process_directory.is_dir():
    logger.error(f"–≠—Ç–æ –Ω–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: {process_directory}", None, False)
    continue  # –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –µ—Å–ª–∏ —Ç–µ–∫—É—â–∞—è –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–µ–π <- –ü–µ—Ä–µ—Ö–æ–¥ –í–ï–†–ù–û!
# –ü—Ä–∞–≤–∏–ª—å–Ω–æ:

if not process_directory.exists():
    logger.error(f"–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: {process_directory}")
    continue  # –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –µ—Å–ª–∏ —Ç–µ–∫—É—â–∞—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
if not process_directory.is_dir():
    logger.error(f"–≠—Ç–æ –Ω–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: {process_directory}", None, False)
    continue  # –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –µ—Å–ª–∏ —Ç–µ–∫—É—â–∞—è –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–µ–π

```
#### **3. docstrings**:
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π, –º–µ—Ç–æ–¥–æ–≤ –∏ –∫–ª–∞—Å—Å–æ–≤ –¥–æ–ª–∂–Ω–∞ —Å–ª–µ–¥–æ–≤–∞—Ç—å —Ç–∞–∫–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É: 
    ```python
        def function(param: str, param1: Optional[str | dict | str] = None) -> dict | None:
            """ 
            Args:
                param (str): –û–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `param`.
                param1 (Optional[str | dict | str], optional): –û–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `param1`. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `None`.
    
            Returns:
                dict | None: –û–ø–∏—Å–∞–Ω–∏–µ –≤–æ–∑–≤ÔøΩÔøΩ–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–æ–≤–∞—Ä—å –∏–ª–∏ `None`.
    
            Raises:
                SomeError: –û–ø–∏—Å–∞–Ω–∏–µ —Å–∏—Ç—É–∞—Ü–∏–∏, –≤ –∫–æ—Ç–æ—Ä–æ–π –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ `SomeError`.

            –ï—Ö–∞mple:
                >>> function('param', 'param1')
                {'param': 'param1'}
            """
    ```
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —á–µ—Ç–∫–∏–º–∏, –ª–∞–∫–æ–Ω–∏—á–Ω—ã–º–∏ –∏ —Ç–æ—á–Ω—ã–º–∏.
#### **4. –ê–Ω–æ—Ç–∞—Ü–∏—è —Ç–∏–ø–æ–≤**:
- –í–µ—Å—å –∫–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω.
–í–æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤ —Ö–æ—Ä–æ—à–∏—Ö –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π —Ç–∏–ø–æ–≤ –≤ Python —Å –ø–æ—è—Å–Ω–µ–Ω–∏—è–º–∏:

### 1. –§—É–Ω–∫—Ü–∏—è —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π —Ç–∏–ø–æ–≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
```python
from typing import List, Dict, Optional, Union

def calculate_statistics(
    numbers: List[float],
    weights: Optional[List[float]] = None,
    settings: Dict[str, Union[int, float, bool]] = None
) -> Dict[str, float]:
    """
    –í—ã—á–∏—Å–ª—è–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –¥–ª—è —Å–ø–∏—Å–∫–∞ —á–∏—Å–µ–ª.
    
    Args:
        numbers: –°–ø–∏—Å–æ–∫ —á–∏—Å–µ–ª –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
        weights: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤–µ—Å–æ–≤—ã—Ö –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤
        settings: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é None)
    
    Returns:
        –°–ª–æ–≤–∞—Ä—å —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ (—Å—Ä–µ–¥–Ω–µ–µ, –¥–∏—Å–ø–µ—Ä—Å–∏—è –∏ —Ç.–¥.)
    """
    if settings is None:
        settings = {}
    # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏...
    return {"mean": 0.0, "variance": 1.0}  # –ü—Ä–∏–º–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
```

### 2. –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
```python
# –ü—Ä–æ—Å—Ç—ã–µ —Ç–∏–ø—ã
name: str = "John Doe"
age: int = 30
temperature: float = 36.6
is_active: bool = True

# –ö–æ–ª–ª–µ–∫—Ü–∏–∏
from typing import Tuple, Set

coordinates: Tuple[float, float] = (55.7522, 37.6156)
unique_ids: Set[int] = {101, 102, 103}
user_roles: List[str] = ["admin", "editor"]

# –°–ª–æ–∂–Ω—ã–µ —Ç–∏–ø—ã
from datetime import datetime
from typing import Any

timestamp: datetime = datetime.now()
metadata: Dict[str, Any] = {"version": 1.0, "debug": False}
```

### 3. –†–∞–∑–ª–∏—á–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
```python
from typing import Callable, TypeVar, Generic

T = TypeVar('T')  # –û–±–æ–±—â–µ–Ω–Ω—ã–π —Ç–∏–ø

# –§—É–Ω–∫—Ü–∏—è —Å callback
def process_data(
    data: List[T],
    callback: Callable[[T], bool],
    timeout: int = 30
) -> List[T]:
    return [item for item in data if callback(item)]

# –ö–ª–∞—Å—Å —Å –æ–±–æ–±—â–µ–Ω–Ω—ã–º —Ç–∏–ø–æ–º
class Container(Generic[T]):
    def __init__(self, value: T) -> None:
        self.value = value
    
    def get(self) -> T:
        return self.value

# Union –∏ Optional
from typing import Union, Optional

def format_value(
    value: Union[int, float, str],
    precision: Optional[int] = None
) -> str:
    if precision is not None and isinstance(value, (int, float)):
        return f"{value:.{precision}f}"
    return str(value)
```

### 4. –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏
```python
from typing import Iterable, AsyncIterator, TypeAlias

# –ü—Å–µ–≤–¥–æ–Ω–∏–º —Ç–∏–ø–∞
UserId: TypeAlias = int

# –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
async def fetch_users() -> AsyncIterator[Dict[str, Union[str, int]]]:
    # –ò–º–∏—Ç–∞—Ü–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
    users = [{"id": 1, "name": "Alice"}, {"id": 2, "name": "Bob"}]
    for user in users:
        yield user

# –§—É–Ω–∫—Ü–∏—è —Å *args –∏ **kwargs
def join_items(
    *items: str,
    separator: str = ", ",
    **format_options: str
) -> str:
    return separator.join(items)
```

### –°–æ–≤–µ—Ç—ã –ø–æ —Ö–æ—Ä–æ—à–∏–º –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º:
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã –≤–º–µ—Å—Ç–æ `Any` –≥–¥–µ —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ
2. –î–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `Optional[T]` –∏–ª–∏ `T | None` (Python 3.10+)
3. –î–ª—è —Å–ª–æ–∂–Ω—ã—Ö –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö —Ç–∏–ø–æ–≤ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ `TypeAlias`
4. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–ª—É—á–∞–∏ –≤ docstring

6.  –î–ª—è Python 3.10+ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –∫–æ—Ä–æ—Ç–∫–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å (`list[T]` –≤–º–µ—Å—Ç–æ `List[T]`)




### –®–∞–±–ª–æ–Ω –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ä—É—Ä—ã —Å—Ç–∞—Ç—å–∏:


########################################### –ù–ê–ß–ê–õ–û #############################

–í–æ—Ç –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å—Ç–∞—Ç—å–∏ —Å –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –±–ª–æ–∫–∞–º–∏ –∫–æ–¥–∞ –∏ —É–ª—É—á—à–µ–Ω–Ω—ã–º–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏:  

---

# üßë‚Äçüíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `requests-html` –∏ `pyppeteer` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ HTML + JavaScript  

–ú–æ–¥—É–ª—å **`requests-html`** ‚Äî –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ `requests` + `BeautifulSoup`, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è —Å–∫–∞—á–∏–≤–∞—Ç—å HTML, **—Ä–µ–Ω–¥–µ—Ä–∏—Ç—å JavaScript**, –∏ —Ç.–ø. –≤ –Ω–µ–±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö –∏–ª–∏ –≤ —Å—Ä–µ–¥–µ –±–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π.  

---  

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞  

```bash
pip install requests-html
```  

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:**  
–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç `pyppeteer`, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ JS-–∫–æ–Ω—Ç–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ Chromium.  

---  

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ `requests-html`  

```python
from requests_html import HTMLSession

def fetch_page_content(url: str) -> tuple[str, list[str]]:
    """
    –ó–∞–≥—Ä—É–∂–∞–µ—Ç HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —Å—Å—ã–ª–∫–∏.

    Args:
        url (str): URL —Ü–µ–ª–µ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

    Returns:
        tuple[str, list[str]]: –ö–æ—Ä—Ç–µ–∂ —Å —Ç–µ–∫—Å—Ç–æ–º –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∏ —Å–ø–∏—Å–∫–æ–º —Å—Å—ã–ª–æ–∫.
    """
    session = HTMLSession()
    response = session.get(url)
    
    # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    title = response.html.find('title', first=True).text
    
    # –ü–æ–∏—Å–∫ –≤—Å–µ—Ö —Å—Å—ã–ª–æ–∫
    links = [link.attrs.get('href') for link in response.html.find('a')]
    
    return title, links


# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
if __name__ == "__main__":
    page_title, page_links = fetch_page_content("https://example.com")
    print(f"–ó–∞–≥–æ–ª–æ–≤–æ–∫: {page_title}")
    print(f"–ù–∞–π–¥–µ–Ω–æ —Å—Å—ã–ª–æ–∫: {len(page_links)}")
```  

---  

## ‚ö†Ô∏è –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ JavaScript  

`requests-html` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `pyppeteer` (Python-–æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è Chromium) –¥–ª—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è JavaScript.  

### –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—ã–∑–æ–≤–µ `r.html.render()`:  

* `pyppeteer` —Å–∫–∞—á–∏–≤–∞–µ—Ç Chromium (\~100‚Äì150 MB)  
* –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –µ–≥–æ –≤:  
  * Windows: `C:\Users\<User>\AppData\Local\pyppeteer`  
  * Linux/macOS: `~/.pyppeteer/`  

---  

## üõ† –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Chromium –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ  

```python
from requests_html import HTMLSession
from pyppeteer import chromium_downloader, executablePath
import os

def ensure_chromium_installed() -> None:
    """
    –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞ Chromium –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –µ–≥–æ.
    """
    if not os.path.exists(executablePath()):
        print("Chromium –Ω–µ –Ω–∞–π–¥–µ–Ω. –°–∫–∞—á–∏–≤–∞—é...")
        chromium_downloader.download_chromium()
        print("Chromium —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.")
    else:
        print("Chromium —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.")

def fetch_with_js(url: str, timeout: int = 20) -> str:
    """
    –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º JavaScript.

    Args:
        url (str): URL —Ü–µ–ª–µ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
        timeout (int, optional): –¢–∞–π–º–∞—É—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 20 —Å–µ–∫—É–Ω–¥.

    Returns:
        str: HTML —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞.

    Raises:
        TimeoutError: –í–æ–∑–Ω–∏–∫–∞–µ—Ç –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ —Ç–∞–π–º–∞—É—Ç–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞.
    """
    ensure_chromium_installed()

    session = HTMLSession()
    response = session.get(url)
    response.html.render(timeout=timeout)
    return response.html.html


# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
if __name__ == "__main__":
    html = fetch_with_js("https://quotes.toscrape.com/js/")
    print(html[:500])  # –í—ã–≤–æ–¥ –ø–µ—Ä–≤—ã—Ö 500 —Å–∏–º–≤–æ–ª–æ–≤ HTML
```  

---  

## ‚ùó –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è  

| –û—à–∏–±–∫–∞                                 | –ü—Ä–∏—á–∏–Ω–∞                        | –†–µ—à–µ–Ω–∏–µ                                   |  
| -------------------------------------- | ------------------------------ | ----------------------------------------- |  
| `RuntimeError: Failed to launch`       | Chromium –Ω–µ –Ω–∞–π–¥–µ–Ω             | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å: `python -m pyppeteer install` |  
| `TimeoutError while rendering`         | –°–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å–∞–π—Ç | –£–≤–µ–ª–∏—á–∏—Ç—å `timeout`: `render(timeout=60)` |  
| `ImportError: No module named asyncio` | –°–ª–∏—à–∫–æ–º —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è Python   | –û–±–Ω–æ–≤–∏—Ç—å –¥–æ Python 3.7+                   |  

---  

## üìÇ –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Chromium (–µ—Å–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∞)  

```bash
python -m pyppeteer install
```  

**–ò–ª–∏ —á–µ—Ä–µ–∑ Python:**  

```python
from pyppeteer import chromium_downloader
chromium_downloader.download_chromium()
```  

---  

## üß± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Chromium –≤—Ä—É—á–Ω—É—é (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –æ—Ç–¥–µ–ª—å–Ω–æ)  

```python
from requests_html import HTMLSession

def render_with_custom_chrome(url: str, chrome_path: str) -> str:
    """
    –†–µ–Ω–¥–µ—Ä–∏—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –ø—É—Ç–∏ –∫ Chrome/Chromium.

    Args:
        url (str): URL —Ü–µ–ª–µ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
        chrome_path (str): –ü—É—Ç—å –∫ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–º—É —Ñ–∞–π–ª—É Chrome/Chromium.

    Returns:
        str: HTML —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞.
    """
    session = HTMLSession()
    response = session.get(url)
    response.html.render(executablePath=chrome_path)
    return response.html.html
```  

---  

## ‚úÖ –ß—Ç–æ `requests-html` —É–º–µ–µ—Ç —Å –≤–µ–±-—ç–ª–µ–º–µ–Ω—Ç–∞–º–∏  

–ü–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ (`r.html.render()`) –¥–æ—Å—Ç—É–ø–Ω—ã:  

* –ü–æ–∏—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (`find`, `xpath`, `css`)  
* –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ:  
  * `.text`  
  * `.attrs` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `href`, `src`)  
  * `.html`  
* –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ DOM  

**–ü—Ä–∏–º–µ—Ä:**  

```python
from requests_html import HTMLSession

def scrape_quotes() -> list[dict[str, str]]:
    """
    –ò–∑–≤–ª–µ–∫–∞–µ—Ç —Ü–∏—Ç–∞—Ç—ã —Å —Å–∞–π—Ç–∞ quotes.toscrape.com.

    Returns:
        list[dict[str, str]]: –°–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π —Å —Ç–µ–∫—Å—Ç–∞–º–∏ —Ü–∏—Ç–∞—Ç –∏ –∞–≤—Ç–æ—Ä–∞–º–∏.
    """
    session = HTMLSession()
    response = session.get('https://quotes.toscrape.com/js/')
    response.html.render()

    quotes = []
    for quote in response.html.find('.quote'):
        text = quote.find('.text', first=True).text
        author = quote.find('.author', first=True).text
        quotes.append({"text": text, "author": author})
    
    return quotes
```  

---  

## ‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è `requests-html`  

| –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ             | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞                                           |  
| -------------------------------- | ------------------------------------------------------ |  
| –ö–ª–∏–∫–∞—Ç—å (`click()`)              | `pyppeteer`, `selenium`, `playwright`                  |  
| –í–≤–æ–¥–∏—Ç—å —Ç–µ–∫—Å—Ç (`type()`)         | `pyppeteer`, `selenium`                                |  
| –ù–∞–≤–æ–¥–∏—Ç—å –∫—É—Ä—Å–æ—Ä (`hover()`)      | `playwright`                                           |  
| –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É (`scroll`) | `selenium`                                             |  

---  

## üí° –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: `pyppeteer` –Ω–∞–ø—Ä—è–º—É—é  

```python
import asyncio
from pyppeteer import launch

async def scrape_with_interaction(url: str) -> str:
    """
    –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ —á–µ—Ä–µ–∑ pyppeteer.

    Args:
        url (str): URL —Ü–µ–ª–µ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

    Returns:
        str: –¢–µ–∫—Å—Ç –ø–æ—Å–ª–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è.
    """
    browser = await launch(headless=True)
    page = await browser.newPage()
    await page.goto(url)
    
    # –ö–ª–∏–∫ –ø–æ –∫–Ω–æ–ø–∫–µ
    await page.click('button.load-more')

    # –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
    content = await page.content()
    await browser.close()
    
    return content
```  

---  

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏  

| –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞                    | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏                                                       |  
| --------------------------    | ----------------------------------------------------------------- |  
| `requests + BeautifulSoup`    | –ë–µ–∑ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ JavaScript                                          |  
| `httpx + selectolax`          | –ë—ã—Å—Ç—Ä–æ, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ                                                |  
| `playwright`                  | –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤                    |  
| `selenium`                    | –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –±—Ä–∞—É–∑–µ—Ä–æ–º                                     |  

---  

**–ë—ã–ª–æ –ø–æ–ª–µ–∑–Ω–æ?**  –ü–æ–¥–ø–∏—à–∏—Å—å
–£–¥–∞—á–∏! üöÄ

