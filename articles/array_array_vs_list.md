
# üßë‚Äçüíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `array.array` –≤ Python: –∫–æ–≥–¥–∞ –∏ –∑–∞—á–µ–º –ø—Ä–∏–º–µ–Ω—è—Ç—å

–ú–æ–¥—É–ª—å **`array`** –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö `array.array` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π –æ–¥–Ω–æ—Ç–∏–ø–Ω—ã—Ö —á–∏—Å–µ–ª. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ `list`, –º–∞—Å—Å–∏–≤—ã `array.array` –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –∏ –ø–æ–≤—ã—à–µ–Ω–Ω—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —á–∏—Å–ª–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

---

## üì¶ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ `array.array`

–ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ `array.array` –æ—Ç `list` ‚Äî **–∫–æ–º–ø–∞–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**. –í–º–µ—Å—Ç–æ —Å–ø–∏—Å–∫–∞ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –Ω–∞ –æ–±—ä–µ–∫—Ç—ã Python, `array.array` —Ö—Ä–∞–Ω–∏—Ç –∑–Ω–∞—á–µ–Ω–∏—è –∫–∞–∫ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –±–ª–æ–∫ –±–∞–π—Ç–æ–≤, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –∏–¥–µ–∞–ª—å–Ω—ã–º –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–¥–∞—á.

---

### 1. –≠–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–æ–ª—å—à–∏–º–∏ –Ω–∞–±–æ—Ä–∞–º–∏ —á–∏—Å–µ–ª

–ü—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –º–∏–ª–ª–∏–æ–Ω–æ–≤ —á–∏—Å–ª–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —ç–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ–π. `array.array` –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∫—Ä–∞—â–∞–µ—Ç –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã.

```python
import array
import sys

def compare_memory_usage(num_elements: int = 1_000_000) -> None:
    """
    –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –º–µ–∂–¥—É list –∏ array.array.

    Args:
        num_elements (int, optional): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∞. 
                                      –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 1,000,000.
    """
    # –°–æ–∑–¥–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ Python
    list_numbers = list(range(num_elements))
    
    # –°–æ–∑–¥–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞, –≥–¥–µ —á–∏—Å–ª–∞ —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ 4-–±–∞–π—Ç–æ–≤—ã–µ C-—Ç–∏–ø—ã int
    array_numbers = array.array('i', range(num_elements))

    list_size = sys.getsizeof(list_numbers)
    array_size = sys.getsizeof(array_numbers)

    print(f"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤: {num_elements}")
    print(f"–†–∞–∑–º–µ—Ä list:  {list_size / 1024 / 1024:.2f} MB")
    print(f"–†–∞–∑–º–µ—Ä array: {array_size / 1024 / 1024:.2f} MB")
    if array_size > 0:
        print(f"–≠–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏: {list_size / array_size:.2f}x")

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
if __name__ == "__main__":
    compare_memory_usage()
```
**–í—ã–≤–æ–¥:**
```
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤: 1000000
–†–∞–∑–º–µ—Ä list:  7.63 MB
–†–∞–∑–º–µ—Ä array: 3.82 MB
–≠–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏: 2.00x
```

---

### 2. –ü–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —á–∏—Å–ª–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

–ë–ª–∞–≥–æ–¥–∞—Ä—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–º—É —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—é –≤ –ø–∞–º—è—Ç–∏, –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ `array.array` –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –º–æ–∂–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫—ç—à.

```python
import array
import timeit

def compare_performance(num_elements: int = 10_000_000) -> None:
    """
    –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ list –∏ array.array.

    Args:
        num_elements (int, optional): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∞. 
                                      –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 10,000,000.
    """
    setup_code = f"""
import array
data = range({num_elements})
list_data = list(data)
array_data = array.array('i', data)
"""
    
    # –ò–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è list
    list_time = timeit.timeit("sum(list_data)", setup=setup_code, number=10)
    
    # –ò–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è array
    array_time = timeit.timeit("sum(array_data)", setup=setup_code, number=10)
    
    print(f"–í—Ä–µ–º—è —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏—è {num_elements} —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (10 —Ä–∞–∑):")
    print(f"list:  {list_time:.4f} —Å–µ–∫—É–Ω–¥")
    print(f"array: {array_time:.4f} —Å–µ–∫—É–Ω–¥")

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
if __name__ == "__main__":
    compare_performance()
```
**–í—ã–≤–æ–¥:**
```
–í—Ä–µ–º—è —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏—è 10000000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (10 —Ä–∞–∑):
list:  2.1106 —Å–µ–∫—É–Ω–¥
array: 1.1549 —Å–µ–∫—É–Ω–¥
```

---

### 3. –ü—Ä—è–º–∞—è —Ä–∞–±–æ—Ç–∞ —Å C-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ (`ctypes`, `struct`)

`array.array` –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–µ –Ω–∞ C, —Ç–∞–∫ –∫–∞–∫ –µ–≥–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å C-–º–∞—Å—Å–∏–≤–∞–º–∏.

#### –ü—Ä–∏–º–µ—Ä —Å `ctypes`:

```python
import array
from ctypes import c_double, CDLL

def demonstrate_ctypes_usage() -> None:
    """
    –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–µ—Ä–µ–¥–∞—á—É array.array –≤ C-—Ñ—É–Ω–∫—Ü–∏—é —á–µ—Ä–µ–∑ ctypes.
    """
    # –ú–∞—Å—Å–∏–≤ —Å —á–∏—Å–ª–∞–º–∏ –¥–≤–æ–π–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏ (—Ç–∏–ø 'd')
    py_array = array.array('d', [1.1, 2.2, 3.3, 4.4])
    
    # –°–æ–∑–¥–∞–Ω–∏–µ C-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ –∏–∑ py_array
    # –§—É–Ω–∫—Ü–∏—è (c_double * len(py_array)) —Å–æ–∑–¥–∞–µ—Ç —Ç–∏–ø "–º–∞—Å—Å–∏–≤ –∏–∑ 4-—Ö c_double"
    # (*py_array) —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç python-–º–∞—Å—Å–∏–≤ –≤ –∞—Ä–≥—É–º–µ–Ω—Ç—ã —ç—Ç–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞
    c_array = (c_double * len(py_array))(*py_array)

    # –ó–¥–µ—Å—å –º–æ–≥ –±—ã –±—ã—Ç—å –≤—ã–∑–æ–≤ C-—Ñ—É–Ω–∫—Ü–∏–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä:
    # my_c_library = CDLL("./libmath.so")
    # my_c_library.sum_doubles(c_array, len(c_array))
    
    print(f"Python array: {py_array}")
    print(f"C-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π –º–∞—Å—Å–∏–≤ (ctypes): {[val for val in c_array]}")

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
if __name__ == "__main__":
    demonstrate_ctypes_usage()
```

#### –ü—Ä–∏–º–µ—Ä —Å–æ `struct` –¥–ª—è —É–ø–∞–∫–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö:

```python
import array
import struct

def demonstrate_struct_packing(data: list[int]) -> bytes:
    """
    –£–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª –≤ –±–∏–Ω–∞—Ä–Ω—É—é —Å—Ç—Ä–æ–∫—É.

    Args:
        data (list[int]): –°–ø–∏—Å–æ–∫ —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª –¥–ª—è —É–ø–∞–∫–æ–≤–∫–∏.

    Returns:
        bytes: –ë–∏–Ω–∞—Ä–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö.
    """
    arr = array.array('i', data)
    
    # –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –≤–∏–¥–∞ '3i' –¥–ª—è 3-—Ö —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª
    format_string = f'{len(arr)}i'
    
    # –£–ø–∞–∫–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
    binary_data = struct.pack(format_string, *arr)
    
    print(f"–ò—Å—Ö–æ–¥–Ω—ã–π –º–∞—Å—Å–∏–≤: {arr}")
    print(f"–ë–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: {binary_data}")
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞: —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞ –æ–±—Ä–∞—Ç–Ω–æ
    unpacked_data = struct.unpack(format_string, binary_data)
    print(f"–†–∞—Å–ø–∞–∫–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: {unpacked_data}")
    
    return binary_data

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
if __name__ == "__main__":
    demonstrate_struct_packing([10, 20, 30])
```

---

### 4. –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è

–ú–µ—Ç–æ–¥—ã `.tobytes()` –∏ `.frombytes()` –ø–æ–∑–≤–æ–ª—è—é—Ç –±—ã—Å—Ç—Ä–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å –º–∞—Å—Å–∏–≤ –≤ –±–∞–π—Ç—ã –∏ –æ–±—Ä–∞—Ç–Ω–æ, —á—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª—ã –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—á–∏ –ø–æ —Å–µ—Ç–∏.

```python
import array

def handle_binary_data() -> None:
    """
    –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—é –∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—é array.array –≤ –±–∞–π—Ç—ã.
    """
    # –°–æ–∑–¥–∞–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞
    source_array = array.array('i', [1, 2, 3, 4, 5])
    print(f"–ò—Å—Ö–æ–¥–Ω—ã–π –º–∞—Å—Å–∏–≤: {source_array}")

    # –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–∞ –≤ –±–∞–π—Ç—ã
    binary_data = source_array.tobytes()
    print(f"–î–∞–Ω–Ω—ã–µ –≤ –±–∞–π—Ç–∞—Ö: {binary_data}")

    # –î–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–∑ –±–∞–π—Ç–æ–≤ –≤ –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤
    new_array = array.array('i')
    new_array.frombytes(binary_data)
    print(f"–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤: {new_array}")

    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏
    assert source_array == new_array, "–î–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç!"
    print("–¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞.")

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
if __name__ == "__main__":
    handle_binary_data()
```

---

### 5. –ì–∞—Ä–∞–Ω—Ç–∏—è —Ç–∏–ø–æ–≤–æ–π –æ–¥–Ω–æ—Ä–æ–¥–Ω–æ—Å—Ç–∏

`array.array` –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö, —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏. –≠—Ç–æ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥—Ä—É–≥–æ–≥–æ —Ç–∏–ø–∞.

```python
import array

def demonstrate_type_safety() -> None:
    """
    –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ array.array –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –¥—Ä—É–≥–æ–≥–æ —Ç–∏–ø–∞.
    """
    arr = array.array('i', [100, 200, 300])
    print(f"–ú–∞—Å—Å–∏–≤ —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª: {arr}")
    
    try:
        # –ü–æ–ø—ã—Ç–∫–∞ –¥–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç
        arr.append('hello')
    except TypeError as e:
        # –û–∂–∏–¥–∞–µ–º–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
        print(f"\n–ü–æ–ø—ã—Ç–∫–∞ –¥–æ–±–∞–≤–∏—Ç—å 'hello' –≤—ã–∑–≤–∞–ª–∞ –æ—à–∏–±–∫—É: {e}")
        print("–≠—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —Å—Ç—Ä–æ–≥—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é –º–∞—Å—Å–∏–≤–∞.")

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
if __name__ == "__main__":
    demonstrate_type_safety()
```

---

### 6. –ü—Ä—è–º–∞—è –∑–∞–ø–∏—Å—å –∏ —á—Ç–µ–Ω–∏–µ –∏–∑ –±–∏–Ω–∞—Ä–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

–ú–µ—Ç–æ–¥—ã `.tofile()` –∏ `.fromfile()` —É–ø—Ä–æ—â–∞—é—Ç —Ä–∞–±–æ—Ç—É —Å –±–∏–Ω–∞—Ä–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏, –ø–æ–∑–≤–æ–ª—è—è –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–π —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

```python
import array
from pathlib import Path

def work_with_binary_files(file_path_str: str = "data.bin") -> None:
    """
    –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –º–∞—Å—Å–∏–≤ –≤ –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª –∏ —á–∏—Ç–∞–µ—Ç –µ–≥–æ –æ–±—Ä–∞—Ç–Ω–æ.

    Args:
        file_path_str (str, optional): –ò–º—è —Ñ–∞–π–ª–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è.
                                       –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é "data.bin".
    """
    file_path = Path(file_path_str)
    source_array = array.array('f', [1.5, 2.7, 3.14])

    try:
        # –ó–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª
        with file_path.open('wb') as f:
            source_array.tofile(f)
        print(f"–ú–∞—Å—Å–∏–≤ {source_array} –∑–∞–ø–∏—Å–∞–Ω –≤ —Ñ–∞–π–ª '{file_path}'.")

        # –ß—Ç–µ–Ω–∏–µ –∏–∑ —Ñ–∞–π–ª–∞
        new_array = array.array('f')
        with file_path.open('rb') as f:
            # –ß—Ç–µ–Ω–∏–µ 3-—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ç–∏–ø–∞ 'f' (float)
            new_array.fromfile(f, len(source_array))
        print(f"–ú–∞—Å—Å–∏–≤ {new_array} –ø—Ä–æ—á–∏—Ç–∞–Ω –∏–∑ —Ñ–∞–π–ª–∞.")
        
        assert source_array == new_array

    finally:
        # –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
        if file_path.exists():
            file_path.unlink()
            print(f"–í—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª '{file_path}' —É–¥–∞–ª–µ–Ω.")

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
if __name__ == "__main__":
    work_with_binary_files()
```

---

## üîπ –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞: `array.array` vs `list`

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | `array.array` | `list` |
| :--- | :--- | :--- |
| **–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö** | –û–¥–Ω–æ—Ç–∏–ø–Ω—ã–µ –ø—Ä–∏–º–∏—Ç–∏–≤—ã (—á–∏—Å–ª–∞, —Å–∏–º–≤–æ–ª—ã) | –õ—é–±—ã–µ –æ–±—ä–µ–∫—Ç—ã Python |
| **–ü–∞–º—è—Ç—å** | –ù–∏–∑–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ | –í—ã—Å–æ–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | –í—ã—Å–æ–∫–∞—è –¥–ª—è —á–∏—Å–ª–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π | –ù–∏–∂–µ –¥–ª—è —á–∏—Å–ª–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π |
| **API** | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –º–µ—Ç–æ–¥–æ–≤ | –ë–æ–≥–∞—Ç—ã–π –∏ –≥–∏–±–∫–∏–π API |
| **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å C**| –í—ã—Å–æ–∫–∞—è, –ø—Ä—è–º–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö | –¢—Ä–µ–±—É—é—Ç—Å—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è |
| **–ë–∏–Ω–∞—Ä–Ω–∞—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è** | –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã (`.tobytes`, `.tofile`)| –¢—Ä–µ–±—É–µ—Ç—Å—è `struct`, `pickle` –∏ —Ç.–¥. |

---

**–í—ã–≤–æ–¥:**

üöÄ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `array.array`, –∫–æ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä–µ–º–∞–º–∏ **–æ–¥–Ω–æ—Ç–∏–ø–Ω—ã—Ö —á–∏—Å–ª–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö**, –∏ –¥–ª—è –≤–∞—Å –∫—Ä–∏—Ç–∏—á–Ω—ã **–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** –∏ **—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏**.

–î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—ã—Ö –∑–∞–¥–∞—á, –≥–¥–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≥–∏–±–∫–æ—Å—Ç—å –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞–∑–Ω–æ—Ä–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, `list` –æ—Å—Ç–∞–µ—Ç—Å—è –ª—É—á—à–∏–º –≤—ã–±–æ—Ä–æ–º.