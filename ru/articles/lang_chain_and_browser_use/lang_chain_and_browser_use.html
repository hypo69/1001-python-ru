<h2>Как создать ИИ-агента для работы с веб-браузером с помощью LangChain и Browser-Use: пошаговое руководство</h2>
<p>Это пошаговое руководство покажет вам, как создать ИИ-агента, способного искать информацию в Google и анализировать веб-страницы, используя LangChain и Browser-Use.</p>
<p><strong>Шаг 1: Установка необходимых библиотек</strong></p>
<p>Сначала нужно установить необходимые библиотеки Python. Откройте терминал или командную строку и выполните следующую команду:</p>
<pre class="line-numbers"><code class="language-bash">pip install -U langchain langchain-openai langchain-community browser-use python-dotenv serpapi google-search-results numexpr
</code></pre>
<p><strong>Шаг 2: Настройка API-ключей</strong></p>
<p>Для работы с OpenAI и SerpAPI необходимы API-ключи.</p>
<ul>
<li><strong>OpenAI API Key:</strong> Получите ваш API-ключ на сайте OpenAI (openai.com).</li>
<li><strong>SerpAPI API Key:</strong> SerpAPI предоставляет API для работы с результатами поиска. Зарегистрируйтесь на сайте serpapi.com (доступна бесплатная пробная версия), войдите в свой аккаунт и найдите свой API-ключ на странице Dashboard.</li>
</ul>
<p>Создайте файл <code>.env</code> в той же директории, где будет находиться ваш Python-скрипт, и добавьте туда ключи в следующем формате:</p>
<pre class="line-numbers"><code class="language-text">OPENAI_API_KEY=ваш_openai_ключ
SERPAPI_API_KEY=ваш_serpapi_ключ
</code></pre>
<p><strong>Шаг 3: Создание Python-скрипта (browser_agent.py)</strong></p>
<p>Создайте файл <code>browser_agent.py</code> и вставьте в него следующий код:</p>
<pre class="line-numbers"><code class="language-python">import asyncio
import logging
import os
from dotenv import load_dotenv

from langchain.agents import AgentType, initialize_agent
from langchain.tools import Tool
from langchain_openai import ChatOpenAI


# Настройка логирования
logging.basicConfig(level=logging.INFO, format="%(asctime)s - %(levelname)s - %(message)s")

load_dotenv()

# Загрузка API ключей из .env файла
os.environ["SERPAPI_API_KEY"] = os.getenv("SERPAPI_API_KEY")
os.environ["OPENAI_API_KEY"] = os.getenv("OPENAI_API_KEY")

async def main():
    # Инициализация языковой модели
    llm = ChatOpenAI(model="gpt-4o-mini", temperature=0) # Можете попробовать другие модели

    # Определение инструмента поиска (простой пример, без фактического поиска в Google)
    search_tool = Tool(
        name="Google Search",
        func=lambda query: f"Ищу в Google: {query}",  # Замените на реальный поиск с SerpAPI при необходимости
        description="Ищет информацию в Google."
    )


    # Определение задачи для агента
    task = """
    Найди в Google последние новости о компании OpenAI.
    Затем посети один из найденных сайтов и найди имена основателей.
    """

    # Создание агента
    agent = initialize_agent(
        tools=[search_tool],
        llm=llm,
        agent=AgentType.ZERO_SHOT_REACT_DESCRIPTION,
        verbose=True,
    )

    # Запуск агента
    try:
        result = await agent.arun(task)
        print(f"Результат: {result}")
    except Exception as e:
        logging.error(f"Произошла ошибка: {e}")

if __name__ == "__main__":
    asyncio.run(main())
</code></pre>
<p><strong>Шаг 4: Запуск агента</strong></p>
<p>Откройте терминал или командную строку, перейдите в директорию с файлом <code>browser_agent.py</code> и запустите его:</p>
<pre class="line-numbers"><code class="language-bash">python browser_agent.py
</code></pre>
<p><strong>Шаг 5: Улучшение агента (расширенные возможности)</strong></p>
<ul>
<li><strong>Реальный поиск в Google:</strong> Замените <code>lambda</code> функцию в <code>search_tool</code> на код, использующий SerpAPI для реального поиска в Google. Это потребует изучения документации SerpAPI.</li>
<li><strong>Взаимодействие с веб-страницами (Browser-Use):</strong> Для добавления функциональности взаимодействия с веб-страницами (открытие ссылок, извлечение текста и т.д.) потребуется использовать библиотеку <code>browser-use</code>. Документация по этой библиотете поможет вам добавить соответствующие инструменты к вашему агенту.</li>
<li><strong>Использование памяти:</strong> Для сохранения контекста между запросами можно использовать механизмы памяти LangChain.</li>
<li><strong>Более сложные цепочки действий:</strong> LangChain позволяет создавать более сложные цепочки действий (Chains) для решения более комплексных задач.</li>
</ul>
<p>Этот пример демонстрирует базовую структуру. Для реализации полноценного агента, взаимодействующего с браузером и Google Search, потребуется дополнительная работа с SerpAPI и <code>browser-use</code>. Не забудьте обратиться к документации этих библиотек для получения более подробной информации.</p>
