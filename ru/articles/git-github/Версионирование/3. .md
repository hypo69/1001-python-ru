## 2.9 Pre-release и Build Metadata — практический пример

Представим, что мы готовим **новую версию 2.1.0** нашего проекта **MyApp**, но хотим сначала протестировать её перед стабильным выпуском.

### Шаг 1. Создание pre-release версии `2.1.0-beta.1`

**Что сделали:**

* Добавили новую функцию, но хотим, чтобы пользователи могли её протестировать
* Старый код совместим, но есть риск багов

**CHANGELOG (Unreleased):**

```markdown
## [Unreleased]

### Added
- New experimental API command
```

**Git действия:**

```bash
git add .
git commit -m "Add experimental API command"
git tag -a v2.1.0-beta.1 -m "Beta release 2.1.0"
git push origin main
git push origin v2.1.0-beta.1
```

> Пользователи и тестировщики могут использовать тег `v2.1.0-beta.1`, но должны понимать, что это **тестовая версия**.

---

### Шаг 2. Pre-release `v2.1.0-rc.1` (Release Candidate)

После тестирования баги исправлены, и мы хотим подготовить **кандидата в стабильную версию**:

**CHANGELOG (Unreleased):**

```markdown
## [Unreleased]

### Added
- New experimental API command (tested and stable)
```

**Git действия:**

```bash
git add .
git commit -m "Prepare release candidate 2.1.0-rc.1"
git tag -a v2.1.0-rc.1 -m "Release candidate 2.1.0"
git push origin main
git push origin v2.1.0-rc.1
```

> RC — почти стабильная версия, которую тестируют перед финальным релизом.

---

### Шаг 3. Стабильный релиз `2.1.0`

После успешного тестирования RC мы готовы к стабильному релизу:

**CHANGELOG (Unreleased → 2.1.0):**

```markdown
## [2.1.0] - 2025-11-15

### Added
- New experimental API command (now stable)

## [Unreleased]
```

**Git действия:**

```bash
git add .
git commit -m "Finalize stable release 2.1.0"
git tag -a v2.1.0 -m "Release 2.1.0"
git push origin main
git push origin v2.1.0
```

> С этого момента тег `v2.1.0` фиксирует стабильное состояние кода.

---

### Шаг 4. Build Metadata (опционально)

Если вы используете автоматическую сборку, можно добавить **metadata** к версии, чтобы указать номер сборки или CI:

```bash
git tag -a v2.1.0+build.20251115 -m "Build 20251115 for 2.1.0"
git push origin v2.1.0+build.20251115
```

**Примечание:**

* `+build.20251115` — метка сборки, **не влияет на совместимость**, служит для идентификации сборки
* Пользователи видят основную версию `2.1.0`, а разработчики — подробности сборки

---

### Итог для новичков

| Тип версии        | Пример               | Когда использовать                                |
| ----------------- | -------------------- | ------------------------------------------------- |
| Stable            | 2.1.0                | Финальный релиз, безопасно для всех пользователей |
| Beta              | 2.1.0-beta.1         | Тестовые функции, нестабильный код                |
| Release Candidate | 2.1.0-rc.1           | Почти стабильная версия перед релизом             |
| Build Metadata    | 2.1.0+build.20251115 | Указывает номер сборки или CI                     |

> Теперь у вас есть полный цикл: **PATCH → MINOR → MAJOR → pre-release → stable → metadata**, с Git-тегами и CHANGELOG.

