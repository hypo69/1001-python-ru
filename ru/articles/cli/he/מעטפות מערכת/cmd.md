# cmd

## קטגוריה: מעטפות מערכת

### מטרה: שורת הפקודה הקלאסית של Windows.

### מבוא
שורת הפקודה של Windows (`cmd.exe`) היא מפרש פקודות עבור מערכות הפעלה של Windows. היא מאפשרת למשתמשים לבצע פקודות לביצוע משימות שונות, ניהול קבצים וספריות, הגדרת הגדרות מערכת ועוד. היא מספקת ממשק מבוסס טקסט לאינטראקציה עם מערכת ההפעלה.

### פקודות חשובות ודוגמאות

להלן כמה פקודות `cmd` חיוניות ושימושן:

#### 1. `dir` - הצגת רשימת קבצים ותת-ספריות

הפקודה `dir` מציגה רשימת קבצים ותת-ספריות בתוך ספרייה ספציפית.

```cmd
dir [drive:][path][filename] [/A[[:]attributes]] [/B] [/C] [/D] [/L] [/N] [/O[[:]sortorder]] [/P] [/Q] [/R] [/S] [/T[[:]timefield]] [/W] [/X] [/4]
```

**דגלים/פרמטרים**:
*   `/A[[:]attributes]`: מציג קבצים עם תכונות ספציפיות.
    *   `D`: ספריות (Directories)
    *   `R`: קבצים לקריאה בלבד (Read-only files)
    *   `H`: קבצים מוסתרים (Hidden files)
    *   `A`: קבצים מוכנים לארכיון (Files ready for archiving)
    *   `S`: קבצי מערכת (System files)
    *   `I`: קבצים שאינם מאונדקסים לפי תוכן (Not content indexed files)
    *   `L`: נקודות הפניה מחדש (Reparse Points)
    *   `O`: קבצים לא מקוונים (Offline files)
    *   `-`: קידומת שמשמעותה "לא" (לדוגמה, `/A:-H` כדי לא לכלול קבצים מוסתרים).
*   `/B`: משתמש בפורמט חשוף (ללא כותרת או סיכום), מפרט רק את שם הספרייה או שם הקובץ והסיומת.
*   `/S`: מציג קבצים בספרייה המצוינת ובכל תת-הספריות.
*   `/P`: עוצר לאחר כל מסך מידע.
*   `/O[[:]sortorder]`: ממיין את הפלט.
    *   `N`: אלפביתי לפי שם.
    *   `E`: אלפביתי לפי סיומת.
    *   `S`: לפי גודל, מהקטן לגדול.
    *   `D`: לפי תאריך/שעה, מהישן לחדש.
    *   `G`: קבוצת ספריות ראשונה.
    *   `-`: קידומת להפיכת סדר המיון.
*   `/W`: משתמש בפורמט רשימה רחב.
*   `/?`: מציג עזרה עבור הפקודה.

**דוגמאות**:
*   `dir`: מפרט קבצים וספריות בספרייה הנוכחית.
*   `dir /S`: מפרט את כל הקבצים ותת-הספריות בספרייה הנוכחית ובתת-הספריות שלה.
*   `dir *.txt`: מפרט את כל הקבצים עם סיומת `.txt` בספרייה הנוכחית.
*   `dir /A:H`: מפרט קבצים מוסתרים.
*   `dir /S /B *.log > logs.txt`: מוצא את כל קבצי ה-`.log` בספרייה הנוכחית ובתת-הספריות, מפרט אותם בפורמט חשוף, ומפנה את הפלט ל-`logs.txt`.

**תנאי הצלחה**:
*   הפקודה מבוצעת ומציגה את רשימת הספרייה המבוקשת.
*   לא מוצגות הודעות שגיאה.
*   הפקודה בדרך כלל מחזירה קוד יציאה של `0`.

**תנאי כישלון**:
*   "File Not Found": אם הנתיב או תבנית שם הקובץ שצוינו אינם קיימים.
*   "Access is denied.": אם אין לך את ההרשאות הנדרשות לגישה לספרייה.
*   אם הפלט מופנה לקובץ והספרייה עבור קובץ הפלט אינה קיימת, הדבר עלול לגרום ל-"File creation error."

#### 2. `copy` - העתקת קובץ אחד או יותר

הפקודה `copy` משכפלת קובץ אחד או יותר ממיקום אחד לאחר.

```cmd
copy [/D] [/V] [/N] [/Y | /-Y] [/Z] [/L] [/A | /B] source [/A | /B] [+ source [/A | /B] [+ ...]] [destination [/A | /B]] [/?]
```

**דגלים/פרמטרים**:
*   `source`: מציין את הקובץ/קבצים להעתקה. ניתן להשתמש בתווים כלליים (`*`, `?`).
*   `destination`: מציין את הספרייה ו/או שם הקובץ עבור הקובץ/קבצים החדשים.
*   `/V`: מאמת שקבצים חדשים נכתבו כהלכה.
*   `/Y`: מדכא בקשות אישור לדריסה של קובץ יעד קיים.
*   `/-Y`: מאלץ בקשה לאישור דריסה של קובץ יעד קיים.
*   `/A`: מציין קובץ טקסט ASCII.
*   `/B`: מציין קובץ בינארי.
*   `/Z`: מעתיק קבצים במצב ניתן להפעלה מחדש, שימושי עבור קבצים גדולים ברשת.
*   `/?`: מציג עזרה עבור הפקודה.

**דוגמאות**:
*   `copy file.txt C:\backup`: מעתיק את `file.txt` מהספרייה הנוכחית ל-`C:\backup`.
*   `copy *.doc C:\reports /V`: מעתיק את כל קבצי ה-`.doc` מהספרייה הנוכחית ל-`C:\reports` ומאמת את ההעתקה.
*   `copy C:\source\file1.txt + C:\source\file2.txt C:\destination\combined.txt`: משלב את `file1.txt` ו-`file2.txt` לתוך `combined.txt`.
*   `copy D:\readme.htm`: מעתיק את `readme.htm` מכונן D: לספרייה הנוכחית.

**תנאי הצלחה**:
*   הקובץ/קבצים מועתקים ליעד ללא הודעות שגיאה.
*   מוצגת הודעה כמו "1 file(s) copied.".
*   ה-`ERRORLEVEL` הוא `0`.

**תנאי כישלון**:
*   "The system cannot find the file specified.": אם קובץ המקור אינו קיים.
*   "Access is denied.": אם אין לך הרשאות כתיבה לספריית היעד או הרשאות קריאה לקובץ המקור.
*   "There is not enough space on the disk.": אם כונן היעד מלא.
*   אם נעשה שימוש ב-`/V` והאימות נכשל, תופיע הודעת שגיאה.
*   ה-`ERRORLEVEL` יהיה שונה מ-`0` (לדוגמה, `1` עבור כשל כללי).

#### 3. `ping` - אימות קישוריות ברמת IP

הפקודה `ping` שולחת הודעות בקשת הד של Internet Control Message Protocol (ICMP) למארח יעד כדי לאמת קישוריות ברמת IP.

```cmd
ping [/t] [/a] [/n count] [/l size] [/f] [/i TTL] [/v TOS] [/r count] [/s count] [{/j hostlist | /k hostlist}] [/w timeout] [/R] [/S srcaddr] [/4] [/6] targetname
```

**דגלים/פרמטרים**:
*   `targetname`: מציין את שם המארח או כתובת ה-IP של היעד.
*   `/t`: שולח פינג למארח המצוין עד להפסקה (Ctrl+C לעצירה, Ctrl+Break להצגת סטטיסטיקות).
*   `/a`: ממיר כתובות לשמות מארח.
*   `/n count`: מציין את מספר בקשות ההד לשליחה (ברירת מחדל היא 4).
*   `/l size`: מציין את גודל מאגר השליחה בבתים (ברירת מחדל היא 32).
*   `/w timeout`: מציין את זמן הקצוב בפעולה באלפיות שנייה להמתנה לכל תגובה (ברירת מחדל היא 4000ms).
*   `/?`: מציג עזרה עבור הפקודה.

**דוגמאות**:
*   `ping google.com`: שולח פינג ל-`google.com` ארבע פעמים.
*   `ping 192.168.1.1 -n 10`: שולח פינג לכתובת ה-IP `192.168.1.1` עשר פעמים.
*   `ping localhost`: שולח פינג למחשב המקומי.
*   `ping -t 8.8.8.8`: שולח פינג רציף לשרת ה-DNS של גוגל עד לעצירה ידנית.

**תנאי הצלחה**:
*   "Reply from <IP address>": מציין תגובה מוצלחת מהיעד.
*   "TTL=" בפלט.
*   סיכום המציג "Packets: Sent = X, Received = X, Lost = 0 (0% loss)".
*   הפקודה מחזירה קוד יציאה של `0`.

**תנאי כישלון**:
*   "Request timed out.": היעד לא הגיב בתוך זמן הקצוב שצוין.
*   "Destination host unreachable.": לא ניתן למצוא נתיב למארח היעד.
*   "Ping request could not find host <hostname>. Please check the name and try again.": לא ניתן היה לפתור את שם המארח לכתובת IP (בעיית DNS).
*   "General failure.": מציין בעיה בממשק הרשת המקומי.
*   סיכום המציג "Packets: Sent = X, Received = Y, Lost = Z (Z% loss)" כאשר Z > 0.
*   הפקודה מחזירה קוד יציאה שאינו `0` (לדוגמה, `1` אם המארח אינו נגיש).

#### 4. `mkdir` (או `md`) - יצירת ספרייה

הפקודה `mkdir` יוצרת ספרייה או תת-ספרייה חדשה.

```cmd
mkdir [drive:]path
```

**דגלים/פרמטרים**:
*   `[drive:]path`: מציין את הכונן והנתיב של הספרייה ליצירה.
*   `/?`: מציג עזרה עבור הפקודה.
*   (הערה: הדגל `-p` ליצירת ספריות אב, נפוץ במערכות דמויות יוניקס, אינו דגל `cmd` סטנדרטי. הרחבות פקודה ב-Windows מאפשרות יצירת ספריות ביניים בנתיב שצוין באמצעות פקודת `mkdir` אחת, בדומה ל-`-p` במקרים מסוימים).

**דוגמאות**:
*   `mkdir new_folder`: יוצר ספרייה בשם `new_folder` בספרייה הנוכחית.
*   `mkdir C:\projects\my_project`: יוצר את `my_project` בתוך `C:\projects`. אם `C:\projects` אינו קיים, `cmd` עם הרחבות פקודה מופעלות ייצור אותו.
*   `md "My Documents"`: יוצר ספרייה בשם "My Documents" (יש צורך במרכאות בגלל הרווח).

**תנאי הצלחה**:
*   הספרייה נוצרת ללא הודעות שגיאה.
*   בדרך כלל לא מוצג פלט בהצלחה.
*   ה-`ERRORLEVEL` הוא `0`.

**תנאי כישלון**:
*   "A subdirectory or file <directory_name> already exists.": אם ספרייה עם אותו שם כבר קיימת במיקום שצוין.
*   "The system cannot find the path specified.": אם ספריית ביניים בנתיב אינה קיימת והרחבות פקודה מושבתות (או אם הנתיב אינו חוקי).
*   "Access is denied.": אם אין לך הרשאות כתיבה בספריית האב.
*   ה-`ERRORLEVEL` שונה מ-`0` (לדוגמה, `1`).

#### 5. `del` (או `erase`) - מחיקת קובץ אחד או יותר

הפקודה `del` מוחקת קובץ אחד או יותר.

```cmd
del [/p] [/f] [/s] [/q] [/a[:attributes]] names
```

**דגלים/פרמטרים**:
*   `names`: מציין רשימה של קובץ אחד או יותר למחיקה. ניתן להשתמש בתווים כלליים (`*`, `?`).
*   `/P`: מבקש אישור לפני מחיקת כל קובץ.
*   `/F`: מאלץ מחיקה של קבצים לקריאה בלבד.
*   `/S`: מוחק קבצים שצוינו מכל תת-הספריות. מציג את שמות הקבצים כשהם נמחקים.
*   `/Q`: מצב שקט; מדכא בקשות לאישור מחיקה.
*   `/A[:attributes]`: מוחק קבצים על בסיס תכונות.
    *   `R`: קבצים לקריאה בלבד
    *   `H`: קבצים מוסתרים
    *   `S`: קבצי מערכת
    *   `A`: קבצים מוכנים לארכיון
    *   `-`: קידומת שמשמעותה "לא"
*   `/?`: מציג עזרה עבור הפקודה.

**דוגמאות**:
*   `del old_file.txt`: מוחק את `old_file.txt` מהספרייה הנוכחית.
*   `del *.bak /Q`: מוחק את כל הקבצים עם סיומת `.bak` בספרייה הנוכחית ללא בקשה.
*   `del /S /Q C:\temp\*.*`: מוחק את כל הקבצים ב-`C:\temp` ובתת-הספריות שלה ללא בקשה.
*   `del /F readonly.txt`: מאלץ מחיקה של קובץ לקריאה בלבד בשם `readonly.txt`.

**תנאי הצלחה**:
*   הקובץ/קבצים נמחקים ללא הודעות שגיאה.
*   אם לא נעשה שימוש ב-`/P`, ייתכן שלא יהיה פלט בהצלחה, או הודעה כמו "Deleted file - <filename>" אם נעשה שימוש ב-`/S`.
*   ה-`ERRORLEVEL` הוא `0`.

**תנאי כישלון**:
*   "Could Not Find <filename>": אם הקובץ שצוין אינו קיים.
*   "Access is denied.": אם אין לך את ההרשאות הנדרשות למחוק את הקובץ, או אם הקובץ נמצא בשימוש על ידי תהליך אחר ו-`/F` אינו מספיק.
*   "The process cannot access the file because it is being used by another process.": אם הקובץ נעול על ידי יישום אחר.
*   `del` תמחק קבצים בתוך ספרייה אם ניתן שם ספרייה, אך היא לא תמחק את הספרייה עצמה. כדי למחוק ספריות, השתמש ב-`rmdir`.
*   ה-`ERRORLEVEL` שונה מ-`0`.

### קריאה נוספת
למידע מפורט יותר, עיין בתיעוד הרשמי של `cmd`.

```