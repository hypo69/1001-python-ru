<p>🚀 **<span dir="ltr">CI</span>/<span dir="ltr">CD</span>: <span dir="ltr">Des</span> <span dir="ltr">bases</span> à <span dir="ltr">la</span> <span dir="ltr">production</span> <span dir="ltr">sur</span> <span dir="ltr">GCP</span> <span dir="ltr">avec</span> <span dir="ltr">GitHub</span> <span dir="ltr">Actions</span> – <span dir="ltr">Un</span> <span dir="ltr">guide</span> <span dir="ltr">complet</span> <span dir="ltr">avec</span> <span dir="ltr">des</span> <span dir="ltr">exemples</span>** 🚀</p>
<p><span dir="ltr">Bonjour</span>, <span dir="ltr">développeurs</span> ! <span dir="ltr">Dans</span> <span dir="ltr">cet</span> <span dir="ltr">article</span>, <span dir="ltr">je</span> <span dir="ltr">vais</span> <span dir="ltr">parler</span> <span dir="ltr">de</span> <span dir="ltr">CI</span>/<span dir="ltr">CD</span> – <span dir="ltr">le</span> <span dir="ltr">concept</span>.</p>
<h3><span dir="ltr">Qu</span>'<span dir="ltr">est</span>-<span dir="ltr">ce</span> <span dir="ltr">qu</span>'<span dir="ltr">un</span> <span dir="ltr">pipeline</span> <span dir="ltr">CI</span>/<span dir="ltr">CD</span> <span dir="ltr">dans</span> <span dir="ltr">le</span> <span dir="ltr">contexte</span> <span dir="ltr">de</span> <span dir="ltr">la</span> <span dir="ltr">programmation</span> ?</h3>
<p><span dir="ltr">Un</span> **<span dir="ltr">pipeline</span> <span dir="ltr">CI</span>/<span dir="ltr">CD</span> (<span dir="ltr">Intégration</span> <span dir="ltr">Continue</span> / <span dir="ltr">Livraison</span> <span dir="ltr">Continue</span> <span dir="ltr">ou</span> <span dir="ltr">Déploiement</span> <span dir="ltr">Continu</span>)** <span dir="ltr">est</span> <span dir="ltr">un</span> <span dir="ltr">processus</span> <span dir="ltr">automatisé</span> <span dir="ltr">qui</span> <span dir="ltr">permet</span> <span dir="ltr">aux</span> <span dir="ltr">développeurs</span> <span dir="ltr">de</span> <span dir="ltr">livrer</span> <span dir="ltr">rapidement</span> <span dir="ltr">et</span> <span dir="ltr">de</span> <span dir="ltr">manière</span> <span dir="ltr">fiable</span> <span dir="ltr">les</span> <span dir="ltr">modifications</span> <span dir="ltr">de</span> <span dir="ltr">code</span> à <span dir="ltr">un</span> <span dir="ltr">environnement</span> <span dir="ltr">de</span> <span dir="ltr">travail</span> (<span dir="ltr">production</span>).</p>
<p><span dir="ltr">Décomposons</span> <span dir="ltr">les</span> <span dir="ltr">concepts</span> <span dir="ltr">clés</span> :</p>
<p>🔧 **<span dir="ltr">CI</span> — <span dir="ltr">Intégration</span> <span dir="ltr">Continue</span>**</p>
<p><span dir="ltr">C</span>'<span dir="ltr">est</span> <span dir="ltr">une</span> <span dir="ltr">pratique</span> <span dir="ltr">où</span> <span dir="ltr">les</span> <span dir="ltr">développeurs</span> <span dir="ltr">apportent</span> <span dir="ltr">fréquemment</span> <span dir="ltr">des</span> <span dir="ltr">modifications</span> à <span dir="ltr">une</span> <span dir="ltr">base</span> <span dir="ltr">de</span> <span dir="ltr">code</span> <span dir="ltr">partagée</span>. <span dir="ltr">Chaque</span> <span dir="ltr">modification</span> <span dir="ltr">de</span> <span dir="ltr">ce</span> <span dir="ltr">type</span> <span dir="ltr">automatiquement</span> :</p>
<li>**<span dir="ltr">Compile</span>**</li>
<li>**<span dir="ltr">Teste</span>** (<span dir="ltr">tests</span> <span dir="ltr">unitaires</span>, <span dir="ltr">tests</span> <span dir="ltr">d</span>'<span dir="ltr">intégration</span>)</li>
<li>**<span dir="ltr">Vérifie</span> <span dir="ltr">la</span> <span dir="ltr">conformité</span> <span dir="ltr">aux</span> <span dir="ltr">normes</span>** (<span dir="ltr">linting</span>, <span dir="ltr">analyse</span> <span dir="ltr">statique</span>)</li>
<p>👉 **<span dir="ltr">Objectif</span> <span dir="ltr">de</span> <span dir="ltr">la</span> <span dir="ltr">CI</span> :** <span dir="ltr">Identifier</span> <span dir="ltr">les</span> <span dir="ltr">erreurs</span> <span dir="ltr">au</span> <span dir="ltr">stade</span> <span dir="ltr">le</span> <span dir="ltr">plus</span> <span dir="ltr">précoce</span>, <span dir="ltr">avant</span> <span dir="ltr">qu</span>'<span dir="ltr">elles</span> <span dir="ltr">ne</span> <span dir="ltr">cassent</span> <span dir="ltr">quelque</span> <span dir="ltr">chose</span> <span dir="ltr">d</span>'<span dir="ltr">important</span> <span dir="ltr">ou</span> <span dir="ltr">n</span>'<span dir="ltr">atteignent</span> <span dir="ltr">une</span> <span dir="ltr">version</span>.</p>
<p>🚀 **<span dir="ltr">CD</span> — <span dir="ltr">Livraison</span> <span dir="ltr">Continue</span> <span dir="ltr">ou</span> <span dir="ltr">Déploiement</span> <span dir="ltr">Continu</span>**</p>
<p><span dir="ltr">Il</span> <span dir="ltr">y</span> <span dir="ltr">a</span> <span dir="ltr">deux</span> <span dir="ltr">options</span> <span dir="ltr">ici</span> :</p>
<p>✅ **<span dir="ltr">Livraison</span> <span dir="ltr">Continue</span>**</p>
<p><span dir="ltr">Après</span> <span dir="ltr">avoir</span> <span dir="ltr">terminé</span> <span dir="ltr">avec</span> <span dir="ltr">succès</span> <span dir="ltr">l</span>'étape <span dir="ltr">de</span> <span dir="ltr">CI</span>, <span dir="ltr">les</span> <span dir="ltr">modifications</span> <span dir="ltr">automatiquement</span> :</p>
<li><span dir="ltr">Passent</span> <span dir="ltr">des</span> <span dir="ltr">tests</span> <span dir="ltr">supplémentaires</span> (<span dir="ltr">par</span> <span dir="ltr">exemple</span>, <span dir="ltr">E2E</span> – <span dir="ltr">tests</span> <span dir="ltr">de</span> <span dir="ltr">bout</span> <span dir="ltr">en</span> <span dir="ltr">bout</span>)</li>
<li><span dir="ltr">Vont</span> <span dir="ltr">sur</span> <span dir="ltr">un</span> <span dir="ltr">serveur</span> <span dir="ltr">de</span> <span dir="ltr">staging</span> (<span dir="ltr">test</span>)</li>
<p>👉 **<span dir="ltr">Mais</span> <span dir="ltr">le</span> <span dir="ltr">déploiement</span> <span dir="ltr">en</span> <span dir="ltr">production</span> <span dir="ltr">nécessite</span> <span dir="ltr">toujours</span> <span dir="ltr">une</span> <span dir="ltr">confirmation</span> <span dir="ltr">manuelle</span>.** <span dir="ltr">Cela</span> <span dir="ltr">donne</span> à <span dir="ltr">l</span>'équipe <span dir="ltr">le</span> <span dir="ltr">contrôle</span> <span dir="ltr">sur</span> <span dir="ltr">le</span> *<span dir="ltr">moment</span>* <span dir="ltr">exact</span> <span dir="ltr">où</span> <span dir="ltr">les</span> <span dir="ltr">utilisateurs</span> <span dir="ltr">verront</span> <span dir="ltr">les</span> <span dir="ltr">changements</span>.</p>
<p>🤖 **<span dir="ltr">Déploiement</span> <span dir="ltr">Continu</span>**</p>
<p><span dir="ltr">C</span>'<span dir="ltr">est</span> <span dir="ltr">l</span>'étape <span dir="ltr">suivante</span> <span dir="ltr">après</span> <span dir="ltr">la</span> <span dir="ltr">Livraison</span> <span dir="ltr">Continue</span>. <span dir="ltr">Ici</span>, <span dir="ltr">le</span> <span dir="ltr">déploiement</span> <span dir="ltr">en</span> <span dir="ltr">production</span> <span dir="ltr">se</span> <span dir="ltr">fait</span> **<span dir="ltr">entièrement</span> <span dir="ltr">automatiquement</span>** <span dir="ltr">si</span> <span dir="ltr">toutes</span> <span dir="ltr">les</span> étapes <span dir="ltr">précédentes</span> <span dir="ltr">du</span> <span dir="ltr">pipeline</span> (<span dir="ltr">compilation</span>, <span dir="ltr">tous</span> <span dir="ltr">les</span> <span dir="ltr">tests</span>) <span dir="ltr">ont</span> été <span dir="ltr">effectuées</span> <span dir="ltr">avec</span> <span dir="ltr">succès</span>. <span dir="ltr">C</span>'<span dir="ltr">est</span> <span dir="ltr">le</span> <span dir="ltr">niveau</span> <span dir="ltr">d</span>'<span dir="ltr">automatisation</span> <span dir="ltr">le</span> <span dir="ltr">plus</span> <span dir="ltr">avancé</span>.</p>
<h3>🔄 <span dir="ltr">De</span> <span dir="ltr">quoi</span> <span dir="ltr">se</span> <span dir="ltr">compose</span> <span dir="ltr">généralement</span> <span dir="ltr">un</span> <span dir="ltr">pipeline</span> <span dir="ltr">CI</span>/<span dir="ltr">CD</span> ?</h3>
<p><span dir="ltr">Un</span> <span dir="ltr">pipeline</span> <span dir="ltr">typique</span> <span dir="ltr">comprend</span> <span dir="ltr">les</span> étapes <span dir="ltr">suivantes</span> :</p>
<li>**<span dir="ltr">Checkout</span>** — <span dir="ltr">Clonage</span> <span dir="ltr">de</span> <span dir="ltr">la</span> <span dir="ltr">dernière</span> <span dir="ltr">version</span> <span dir="ltr">du</span> <span dir="ltr">code</span> <span dir="ltr">du</span> <span dir="ltr">dépôt</span>.</li>
<li>**<span dir="ltr">Build</span>** — <span dir="ltr">Construction</span> <span dir="ltr">du</span> <span dir="ltr">projet</span> (<span dir="ltr">compilation</span>, <span dir="ltr">assemblage</span> <span dir="ltr">d</span>'<span dir="ltr">artefacts</span>, <span dir="ltr">images</span> <span dir="ltr">Docker</span>).</li>
<li>**<span dir="ltr">Test</span>** — <span dir="ltr">Exécution</span> <span dir="ltr">de</span> <span dir="ltr">divers</span> <span dir="ltr">types</span> <span dir="ltr">de</span> <span dir="ltr">tests</span> (<span dir="ltr">unitaires</span>, <span dir="ltr">d</span>'<span dir="ltr">intégration</span>, <span dir="ltr">E2E</span>).</li>
<li>**<span dir="ltr">Lint</span>/<span dir="ltr">Code</span> <span dir="ltr">Quality</span>** — <span dir="ltr">Vérification</span> <span dir="ltr">du</span> <span dir="ltr">code</span> <span dir="ltr">pour</span> <span dir="ltr">la</span> <span dir="ltr">conformité</span> <span dir="ltr">du</span> <span dir="ltr">style</span> <span dir="ltr">et</span> <span dir="ltr">les</span> <span dir="ltr">erreurs</span> <span dir="ltr">potentielles</span> à <span dir="ltr">l</span>'<span dir="ltr">aide</span> <span dir="ltr">d</span>'<span dir="ltr">analyseurs</span> <span dir="ltr">statiques</span>.</li>
<li>**<span dir="ltr">Deploy</span>** — <span dir="ltr">Déploiement</span> <span dir="ltr">de</span> <span dir="ltr">l</span>'<span dir="ltr">application</span> (<span dir="ltr">vers</span> <span dir="ltr">un</span> <span dir="ltr">serveur</span> <span dir="ltr">de</span> <span dir="ltr">staging</span> <span dir="ltr">ou</span> <span dir="ltr">de</span> <span dir="ltr">production</span>).</li>
<li>**<span dir="ltr">Notify</span>** — <span dir="ltr">Envoi</span> <span dir="ltr">de</span> <span dir="ltr">notifications</span> <span dir="ltr">sur</span> <span dir="ltr">l</span>'état <span dir="ltr">du</span> <span dir="ltr">pipeline</span> à <span dir="ltr">l</span>'équipe (<span dir="ltr">par</span> <span dir="ltr">exemple</span>, <span dir="ltr">Slack</span>, <span dir="ltr">Email</span>).</li>
<h3>🛠 <span dir="ltr">Outils</span> <span dir="ltr">CI</span>/<span dir="ltr">CD</span> <span dir="ltr">populaires</span> :</h3>
<li>**<span dir="ltr">GitHub</span> <span dir="ltr">Actions</span>** (<span dir="ltr">notre</span> <span dir="ltr">objectif</span> <span dir="ltr">aujourd</span>'<span dir="ltr">hui</span> !)</li>
<li><span dir="ltr">GitLab</span> <span dir="ltr">CI</span>/<span dir="ltr">CD</span></li>
<li><span dir="ltr">Jenkins</span></li>
<li><span dir="ltr">CircleCI</span></li>
<li><span dir="ltr">Bitbucket</span> <span dir="ltr">Pipelines</span></li>
<li><span dir="ltr">Azure</span> <span dir="ltr">DevOps</span></li>
<li><span dir="ltr">TeamCity</span></li>
<h3>🧠 <span dir="ltr">Pourquoi</span> <span dir="ltr">avons</span>-<span dir="ltr">nous</span> <span dir="ltr">besoin</span> <span dir="ltr">de</span> <span dir="ltr">CI</span>/<span dir="ltr">CD</span> ?</h3>
<li>**<span dir="ltr">Réduit</span> <span dir="ltr">l</span>'<span dir="ltr">erreur</span> <span dir="ltr">humaine</span> :** <span dir="ltr">L</span>'<span dir="ltr">automatisation</span> élimine <span dir="ltr">les</span> <span dir="ltr">erreurs</span> <span dir="ltr">associées</span> <span dir="ltr">aux</span> <span dir="ltr">opérations</span> <span dir="ltr">manuelles</span>.</li>
<li>**<span dir="ltr">Détection</span> <span dir="ltr">rapide</span> <span dir="ltr">des</span> <span dir="ltr">bugs</span> :** <span dir="ltr">Les</span> <span dir="ltr">erreurs</span> <span dir="ltr">sont</span> <span dir="ltr">trouvées</span> <span dir="ltr">plus</span> <span dir="ltr">tôt</span>, <span dir="ltr">ce</span> <span dir="ltr">qui</span> <span dir="ltr">les</span> <span dir="ltr">rend</span> <span dir="ltr">plus</span> <span dir="ltr">faciles</span> <span dir="ltr">et</span> <span dir="ltr">moins</span> <span dir="ltr">coûteuses</span> à <span dir="ltr">corriger</span>.</li>
<li>**<span dir="ltr">Automatisation</span> <span dir="ltr">des</span> <span dir="ltr">tâches</span> <span dir="ltr">routinières</span> :** <span dir="ltr">Les</span> <span dir="ltr">développeurs</span> <span dir="ltr">passent</span> <span dir="ltr">moins</span> <span dir="ltr">de</span> <span dir="ltr">temps</span> à <span dir="ltr">la</span> <span dir="ltr">construction</span> <span dir="ltr">et</span> <span dir="ltr">au</span> <span dir="ltr">déploiement</span>, <span dir="ltr">et</span> <span dir="ltr">plus</span> <span dir="ltr">au</span> <span dir="ltr">code</span>.</li>
<li>**<span dir="ltr">Amélioration</span> <span dir="ltr">de</span> <span dir="ltr">la</span> <span dir="ltr">qualité</span> <span dir="ltr">du</span> <span dir="ltr">code</span> :** <span dir="ltr">Des</span> <span dir="ltr">vérifications</span> <span dir="ltr">et</span> <span dir="ltr">des</span> <span dir="ltr">tests</span> <span dir="ltr">constants</span> élèvent <span dir="ltr">le</span> <span dir="ltr">niveau</span> <span dir="ltr">de</span> <span dir="ltr">qualité</span> <span dir="ltr">global</span>.</li>
<li>**<span dir="ltr">Livraison</span> <span dir="ltr">rapide</span> <span dir="ltr">des</span> <span dir="ltr">fonctionnalités</span> <span dir="ltr">aux</span> <span dir="ltr">utilisateurs</span> :** <span dir="ltr">Les</span> <span dir="ltr">nouvelles</span> <span dir="ltr">fonctionnalités</span> <span dir="ltr">atteignent</span> <span dir="ltr">l</span>'<span dir="ltr">utilisateur</span> <span dir="ltr">final</span> <span dir="ltr">plus</span> <span dir="ltr">rapidement</span> <span dir="ltr">et</span> <span dir="ltr">plus</span> <span dir="ltr">fréquemment</span>.</li>
<h3>📦 <span dir="ltr">Exemples</span> <span dir="ltr">simples</span> <span dir="ltr">de</span> <span dir="ltr">CI</span>/<span dir="ltr">CD</span> <span dir="ltr">avec</span> <span dir="ltr">GitHub</span> <span dir="ltr">Actions</span></h3>
<p><span dir="ltr">Examinons</span> <span dir="ltr">les</span> <span dir="ltr">pipelines</span> <span dir="ltr">de</span> <span dir="ltr">base</span> <span dir="ltr">pour</span> <span dir="ltr">les</span> <span dir="ltr">technologies</span> <span dir="ltr">populaires</span>. <span dir="ltr">Tous</span> <span dir="ltr">les</span> <span dir="ltr">exemples</span> <span dir="ltr">utilisent</span> <span dir="ltr">GitHub</span> <span dir="ltr">Actions</span> <span dir="ltr">et</span> <span dir="ltr">sont</span> <span dir="ltr">enregistrés</span> <span dir="ltr">dans</span> <span dir="ltr">le</span> <span dir="ltr">répertoire</span> <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>>.<span dir="ltr">github</span>/<span dir="ltr">workflows</span>/</<span dir="ltr">code</span>></<span dir="ltr">span</span>> <span dir="ltr">de</span> <span dir="ltr">votre</span> <span dir="ltr">projet</span>.</p>
<h4>🐍 <span dir="ltr">CI</span>/<span dir="ltr">CD</span> <span dir="ltr">pour</span> <span dir="ltr">Python</span> (<span dir="ltr">avec</span> <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">pytest</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> <span dir="ltr">et</span> <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">flake8</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>)</h4>
<pre class="line-numbers"><code class="language-yaml">
# .github/workflows/python-ci.yml
name: Python CI

on: [push, pull_request]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.11' # Spécifiez votre version

      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install -r requirements.txt # Assurez-vous d'avoir requirements.txt
          pip install flake8 pytest

      - name: Lint with flake8
        run: |
          # Vérifier le code dans les dossiers src et tests (adaptez à votre projet)
          flake8 src tests

      - name: Run tests
        run: |
          pytest
</code></pre>
<h4>🌐 <span dir="ltr">CI</span>/<span dir="ltr">CD</span> <span dir="ltr">pour</span> <span dir="ltr">Node.js</span> (<span dir="ltr">avec</span> <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">npm</span> <span dir="ltr">test</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> <span dir="ltr">et</span> <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">eslint</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>)</h4>
<pre class="line-numbers"><code class="language-yaml">
# .github/workflows/node-ci.yml
name: Node.js CI

on: [push, pull_request]

jobs:
  build:
    runs-on: ubuntu-latest

    strategy:
      matrix:
        node-version: [18.x] # Spécifiez votre version de Node.js

    steps:
      - uses: actions/checkout@v3

      - name: Use Node.js ${{ matrix.node-version }}
        uses: actions/setup-node@v4
        with:
          node-version: ${{ matrix.node-version }}

      - name: Install dependencies
        run: npm install # ou npm ci pour une installation plus prévisible

      - name: Lint with ESLint
        run: npx eslint . # Assurez-vous que ESLint est configuré dans le projet

      - name: Run tests
        run: npm test
</code></pre>
<h4>🐳 <span dir="ltr">CI</span>/<span dir="ltr">CD</span> <span dir="ltr">pour</span> <span dir="ltr">Docker</span> (<span dir="ltr">construction</span> <span dir="ltr">et</span> <span dir="ltr">push</span> <span dir="ltr">vers</span> <span dir="ltr">Docker</span> <span dir="ltr">Hub</span>)</h4>
<p><span dir="ltr">Pour</span> <span dir="ltr">cet</span> <span dir="ltr">exemple</span>, <span dir="ltr">vous</span> <span dir="ltr">aurez</span> <span dir="ltr">besoin</span> <span dir="ltr">des</span> <span dir="ltr">secrets</span> <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">DOCKER_USERNAME</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> <span dir="ltr">et</span> <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">DOCKER_PASSWORD</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> (<span dir="ltr">ou</span> <span dir="ltr">jeton</span>) <span dir="ltr">dans</span> <span dir="ltr">les</span> <span dir="ltr">paramètres</span> <span dir="ltr">de</span> <span dir="ltr">votre</span> <span dir="ltr">dépôt</span> <span dir="ltr">GitHub</span> (<<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">Settings</span> -> <span dir="ltr">Secrets</span> <span dir="ltr">and</span> <span dir="ltr">variables</span> -> <span dir="ltr">Actions</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>).</p>
<pre class="line-numbers"><code class="language-yaml">
# .github/workflows/docker-ci.yml
name: Docker CI/CD

on:
  push:
    branches: [ main ] # Exécuter uniquement pour la branche principale

jobs:
  docker:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3

      - name: Log in to Docker Hub
        run: echo "${{ secrets.DOCKER_PASSWORD }}" | docker login -u "${{ secrets.DOCKER_USERNAME }}" --password-stdin

      - name: Build Docker image
        # Remplacez myapp par le nom de votre application
        run: docker build -t ${{ secrets.DOCKER_USERNAME }}/myapp:latest .

      - name: Push Docker image
        run: docker push ${{ secrets.DOCKER_USERNAME }}/myapp:latest
</code></pre>
<h3>🚚 <span dir="ltr">Déploiement</span> <span dir="ltr">sur</span> <span dir="ltr">les</span> <span dir="ltr">plateformes</span> <span dir="ltr">populaires</span></h3>
<p><span dir="ltr">Maintenant</span> <span dir="ltr">que</span> <span dir="ltr">nous</span> <span dir="ltr">avons</span> <span dir="ltr">construit</span> <span dir="ltr">et</span> <span dir="ltr">testé</span> <span dir="ltr">les</span> <span dir="ltr">artefacts</span> (<span dir="ltr">par</span> <span dir="ltr">exemple</span>, <span dir="ltr">une</span> <span dir="ltr">image</span> <span dir="ltr">Docker</span>), <span dir="ltr">voyons</span> <span dir="ltr">comment</span> <span dir="ltr">ils</span> <span dir="ltr">peuvent</span> être <span dir="ltr">déployés</span>.</p>
<h4>🟣 <span dir="ltr">Déploiement</span> <span dir="ltr">sur</span> <span dir="ltr">Heroku</span></h4>
<p>**🔐 <span dir="ltr">Secrets</span> <span dir="ltr">GitHub</span> :** <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">HEROKU_API_KEY</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>, <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">HEROKU_APP_NAME</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>.</p>
<pre class="line-numbers"><code class="language-yaml">
# .github/workflows/deploy-heroku.yml
name: Deploy to Heroku

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Install Heroku CLI
        run: curl https://cli-assets.heroku.com/install.sh | sh
      - name: Login to Heroku
        env:
          HEROKU_API_KEY: ${{ secrets.HEROKU_API_KEY }}
        run: heroku auth:token
      - name: Deploy to Heroku
        env:
          HEROKU_API_KEY: ${{ secrets.HEROKU_API_KEY }}
        run: |
          heroku git:remote -a ${{ secrets.HEROKU_APP_NAME }}
          git push heroku main -f # Soyez prudent avec -f (force push)
</code></pre>
<p><span dir="ltr">Si</span> <span dir="ltr">vous</span> <span dir="ltr">déployez</span> <span dir="ltr">une</span> <span dir="ltr">image</span> <span dir="ltr">Docker</span> <span dir="ltr">sur</span> <span dir="ltr">Heroku</span> :</p>
<pre class="line-numbers"><code class="language-yaml">
# ... (étapes de construction et de connexion à Docker Hub/GHCR des exemples précédents) ...
# deploy:
#   name: Deploy to Heroku
#   needs: build # Dépend du job de construction de l'image
#   runs-on: ubuntu-latest
#   steps:
#     # ...
#     - name: Login to Heroku container registry
#       run: echo "${{ secrets.HEROKU_API_KEY }}" | docker login --username=_ --password-stdin registry.heroku.com
#     - name: Tag image for Heroku
#       # En supposant que l'image est construite comme ghcr.io/username/repo/myapp:latest
#       run: docker tag ghcr.io/${{ github.repository_owner }}/${{ github.event.repository.name }}/myapp:latest registry.heroku.com/${{ secrets.HEROKU_APP_NAME }}/web
#     - name: Push image to Heroku
#       run: docker push registry.heroku.com/${{ secrets.HEROKU_APP_NAME }}/web
#     - name: Release Heroku App
#       env:
#         HEROKU_API_KEY: ${{ secrets.HEROKU_API_KEY }}
#       run: heroku container:release web --app ${{ secrets.HEROKU_APP_NAME }}
</code></pre>
<h4>🟨 <span dir="ltr">Déploiement</span> <span dir="ltr">sur</span> <span dir="ltr">AWS</span> (<span dir="ltr">par</span> <span dir="ltr">exemple</span>, <span dir="ltr">statique</span> <span dir="ltr">vers</span> <span dir="ltr">S3</span>)</h4>
<p>**🔐 <span dir="ltr">Secrets</span> <span dir="ltr">GitHub</span> :** <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">AWS_ACCESS_KEY_ID</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>, <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">AWS_SECRET_ACCESS_KEY</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>, <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">AWS_REGION</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>, <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">S3_BUCKET_NAME</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>.</p>
<pre class="line-numbers"><code class="language-yaml">
# .github/workflows/deploy-aws-s3.yml
name: Deploy Static Site to AWS S3

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Configure AWS credentials
        uses: aws-actions/configure-aws-credentials@v4
        with:
          aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}
          aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
          aws-region: ${{ secrets.AWS_REGION }}
      - name: Sync files to S3
        # Remplacez ./public par le chemin de vos fichiers statiques
        run: aws s3 sync ./public s3://${{ secrets.S3_BUCKET_NAME }} --delete
</code></pre>
<p><span dir="ltr">Pour</span> <span dir="ltr">le</span> <span dir="ltr">déploiement</span> <span dir="ltr">sur</span> **<span dir="ltr">AWS</span> <span dir="ltr">Elastic</span> <span dir="ltr">Beanstalk</span>**, <span dir="ltr">la</span> <span dir="ltr">CLI</span> <span dir="ltr">EB</span> <span dir="ltr">est</span> <span dir="ltr">généralement</span> <span dir="ltr">utilisée</span>, <span dir="ltr">le</span> <span dir="ltr">pipeline</span> <span dir="ltr">sera</span> <span dir="ltr">similaire</span>, <span dir="ltr">mais</span> <span dir="ltr">avec</span> <span dir="ltr">des</span> <span dir="ltr">commandes</span> <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">eb</span> <span dir="ltr">deploy</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>.</p>
<h4>🔵 <span dir="ltr">Déploiement</span> <span dir="ltr">sur</span> <span dir="ltr">Google</span> <span dir="ltr">Cloud</span> <span dir="ltr">Platform</span> (<span dir="ltr">GCP</span> <span dir="ltr">App</span> <span dir="ltr">Engine</span>)</h4>
<p>**🔐 <span dir="ltr">Secrets</span> <span dir="ltr">GitHub</span> :** <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">GCP_CREDENTIALS</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> (<span dir="ltr">clé</span> <span dir="ltr">JSON</span> <span dir="ltr">du</span> <span dir="ltr">compte</span> <span dir="ltr">de</span> <span dir="ltr">service</span>), <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">GCP_PROJECT_ID</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>.</p>
<pre class="line-numbers"><code class="language-yaml">
# .github/workflows/deploy-gcp-app-engine.yml
name: Deploy to GCP App Engine

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Set up Cloud SDK
        uses: google-github-actions/setup-gcloud@v2
        with:
          project_id: ${{ secrets.GCP_PROJECT_ID }}
          service_account_key: ${{ secrets.GCP_CREDENTIALS }}
          export_default_credentials: true
      - name: Deploy to App Engine
        # Assurez-vous d'avoir app.yaml à la racine du projet
        run: gcloud app deploy --quiet
</code></pre>
<h4>🟪 <span dir="ltr">Déploiement</span> <span dir="ltr">sur</span> <span dir="ltr">Render.com</span></h4>
<p><span dir="ltr">Render</span> <span dir="ltr">déploie</span> <span dir="ltr">souvent</span> <span dir="ltr">automatiquement</span> <span dir="ltr">lors</span> <span dir="ltr">d</span>'<span dir="ltr">un</span> <span dir="ltr">push</span> <span dir="ltr">sur</span> <span dir="ltr">GitHub</span> <span dir="ltr">si</span> <span dir="ltr">le</span> <span dir="ltr">dépôt</span> <span dir="ltr">est</span> <span dir="ltr">connecté</span>. <span dir="ltr">Mais</span> <span dir="ltr">pour</span> <span dir="ltr">un</span> <span dir="ltr">déclencheur</span> <span dir="ltr">manuel</span> (<span dir="ltr">ou</span> <span dir="ltr">dans</span> <span dir="ltr">le</span> <span dir="ltr">cadre</span> <span dir="ltr">d</span>'<span dir="ltr">un</span> <span dir="ltr">pipeline</span> <span dir="ltr">plus</span> <span dir="ltr">complexe</span>), <span dir="ltr">vous</span> <span dir="ltr">pouvez</span> <span dir="ltr">utiliser</span> <span dir="ltr">un</span> <span dir="ltr">Hook</span> <span dir="ltr">de</span> <span dir="ltr">déploiement</span>.</p>
<p>**🔐 <span dir="ltr">Secrets</span> <span dir="ltr">GitHub</span> :** <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">RENDER_DEPLOY_HOOK</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> (<span dir="ltr">URL</span> <span dir="ltr">obtenue</span> à <span dir="ltr">partir</span> <span dir="ltr">des</span> <span dir="ltr">paramètres</span> <span dir="ltr">du</span> <span dir="ltr">service</span> <span dir="ltr">Render</span>).</p>
<pre class="line-numbers"><code class="language-yaml">
# .github/workflows/deploy-render.yml
name: Trigger Render Deploy

on:
  workflow_dispatch: # Déclencheur manuel depuis l'interface utilisateur de GitHub

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger Render Deploy Hook
        run: curl -X POST ${{ secrets.RENDER_DEPLOY_HOOK }}
</code></pre>
<h3>🌟 <span dir="ltr">CI</span>/<span dir="ltr">CD</span> <span dir="ltr">Avancé</span> : <span dir="ltr">Construire</span> <span dir="ltr">Docker</span> → <span dir="ltr">Push</span> <span dir="ltr">vers</span> <span dir="ltr">GHCR</span> → <span dir="ltr">Staging</span>/<span dir="ltr">Production</span> <span dir="ltr">sur</span> <span dir="ltr">GCP</span> <span dir="ltr">Cloud</span> <span dir="ltr">Run</span></h3>
<p><span dir="ltr">Et</span> <span dir="ltr">maintenant</span> <span dir="ltr">la</span> <span dir="ltr">cerise</span> <span dir="ltr">sur</span> <span dir="ltr">le</span> <span dir="ltr">gâteau</span> ! <span dir="ltr">Construisons</span> <span dir="ltr">un</span> <span dir="ltr">pipeline</span> <span dir="ltr">avancé</span> :</p>
<li><span dir="ltr">Construction</span> <span dir="ltr">de</span> <span dir="ltr">l</span>'<span dir="ltr">image</span> <span dir="ltr">Docker</span>.</li>
<li><span dir="ltr">Publication</span> <span dir="ltr">de</span> <span dir="ltr">l</span>'<span dir="ltr">image</span> <span dir="ltr">dans</span> <span dir="ltr">GitHub</span> <span dir="ltr">Container</span> <span dir="ltr">Registry</span> (<span dir="ltr">ghcr.io</span>).</li>
<li><span dir="ltr">Déploiement</span> <span dir="ltr">automatique</span> <span dir="ltr">dans</span> <span dir="ltr">l</span>'<span dir="ltr">environnement</span> <span dir="ltr">de</span> **<span dir="ltr">staging</span>** <span dir="ltr">sur</span> <span dir="ltr">GCP</span> <span dir="ltr">Cloud</span> <span dir="ltr">Run</span>.</li>
<li><span dir="ltr">Déploiement</span> <span dir="ltr">dans</span> <span dir="ltr">l</span>'<span dir="ltr">environnement</span> <span dir="ltr">de</span> **<span dir="ltr">production</span>** <span dir="ltr">sur</span> <span dir="ltr">GCP</span> <span dir="ltr">Cloud</span> <span dir="ltr">Run</span> **<span dir="ltr">après</span> <span dir="ltr">confirmation</span> <span dir="ltr">manuelle</span>**.</li>
<p><span dir="ltr">Pour</span> <span dir="ltr">cela</span>, <span dir="ltr">nous</span> <span dir="ltr">aurons</span> <span dir="ltr">besoin</span> <span dir="ltr">de</span> <span dir="ltr">plusieurs</span> <span dir="ltr">fichiers</span> <span dir="ltr">de</span> <span dir="ltr">workflow</span>.</p>
<p>**<span dir="ltr">Secrets</span> <span dir="ltr">GitHub</span> <span dir="ltr">requis</span> :**</p>
<li><<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">GCP_PROJECT_ID</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> : <span dir="ltr">ID</span> <span dir="ltr">de</span> <span dir="ltr">votre</span> <span dir="ltr">projet</span> <span dir="ltr">GCP</span>.</li>
<li><<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">GCP_CREDENTIALS</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> : <span dir="ltr">Clé</span> <span dir="ltr">JSON</span> <span dir="ltr">d</span>'<span dir="ltr">un</span> <span dir="ltr">compte</span> <span dir="ltr">de</span> <span dir="ltr">service</span> <span dir="ltr">GCP</span> <span dir="ltr">avec</span> <span dir="ltr">les</span> <span dir="ltr">autorisations</span> <span dir="ltr">de</span> <span dir="ltr">déploiement</span> <span dir="ltr">sur</span> <span dir="ltr">Cloud</span> <span dir="ltr">Run</span> <span dir="ltr">et</span> <span dir="ltr">d</span>'<span dir="ltr">accès</span> à <span dir="ltr">GHCR</span> (<span dir="ltr">si</span> <span dir="ltr">nécessaire</span>). <span dir="ltr">Généralement</span>, <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">GITHUB_TOKEN</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> <span dir="ltr">est</span> <span dir="ltr">suffisant</span> <span dir="ltr">pour</span> <span dir="ltr">l</span>'<span dir="ltr">accès</span> à <span dir="ltr">GHCR</span> <span dir="ltr">depuis</span> <span dir="ltr">Actions</span>.</li>
<li><<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">GCP_REGION</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> : <span dir="ltr">Région</span> <span dir="ltr">pour</span> <span dir="ltr">Cloud</span> <span dir="ltr">Run</span> (<span dir="ltr">par</span> <span dir="ltr">exemple</span>, <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">europe</span>-<span dir="ltr">west1</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>).</li>
<h4>1. <span dir="ltr">Construction</span> <span dir="ltr">et</span> <span dir="ltr">publication</span> <span dir="ltr">de</span> <span dir="ltr">l</span>'<span dir="ltr">image</span> <span dir="ltr">Docker</span> <span dir="ltr">dans</span> <span dir="ltr">GHCR</span></h4>
<pre class="line-numbers"><code class="language-yaml">
# .github/workflows/build.yml
name: Build & Push to GHCR

on:
  push:
    branches: [main]

jobs:
  build-and-push:
    runs-on: ubuntu-latest
    permissions:
      contents: read      # Pour checkout
      packages: write     # Pour push vers GHCR

    steps:
      - uses: actions/checkout@v3

      - name: Log in to GitHub Container Registry
        uses: docker/login-action@v3
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Build and push Docker image
        uses: docker/build-push-action@v5
        with:
          context: .
          push: true
          tags: ghcr.io/${{ github.repository_owner }}/${{ github.event.repository.name }}/myapp:latest
          # Vous pouvez ajouter un tag par SHA de commit pour l'unicité :
          # tags: |
          #   ghcr.io/${{ github.repository_owner }}/${{ github.event.repository.name }}/myapp:latest
          #   ghcr.io/${{ github.repository_owner }}/${{ github.event.repository.name }}/myapp:${{ github.sha }}
</code></pre>
<li><<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">github.repository_owner</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> : <span dir="ltr">Propriétaire</span> <span dir="ltr">du</span> <span dir="ltr">dépôt</span> (<span dir="ltr">votre</span> <span dir="ltr">nom</span> <span dir="ltr">d</span>'<span dir="ltr">utilisateur</span> <span dir="ltr">ou</span> <span dir="ltr">organisation</span>).</li>
<li><<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">github.event.repository.name</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> : <span dir="ltr">Nom</span> <span dir="ltr">du</span> <span dir="ltr">dépôt</span>.</li>
<li><<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">myapp</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> : <span dir="ltr">Nom</span> <span dir="ltr">de</span> <span dir="ltr">votre</span> <span dir="ltr">application</span>/<span dir="ltr">image</span>.</li>
<h4>2. <span dir="ltr">Déploiement</span> <span dir="ltr">automatique</span> <span dir="ltr">vers</span> <span dir="ltr">Staging</span> (<span dir="ltr">GCP</span> <span dir="ltr">Cloud</span> <span dir="ltr">Run</span>)</h4>
<p><span dir="ltr">Ce</span> <span dir="ltr">workflow</span> <span dir="ltr">s</span>'<span dir="ltr">exécutera</span> <span dir="ltr">automatiquement</span> <span dir="ltr">après</span> <span dir="ltr">la</span> <span dir="ltr">réussite</span> <span dir="ltr">de</span> <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">build.yml</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>.</p>
<pre class="line-numbers"><code class="language-yaml">
# .github/workflows/deploy-staging.yml
name: Deploy to GCP Cloud Run (Staging)

on:
  workflow_run:
    workflows: ["Build & Push to GHCR"] # Nom du workflow de construction
    types:
      - completed

jobs:
  deploy-staging:
    runs-on: ubuntu-latest
    # Exécuter uniquement si le workflow de construction s'est terminé avec succès
    if: ${{ github.event.workflow_run.conclusion == 'success' }}

    # Utiliser les environnements GitHub pour le staging (facultatif, mais bonne pratique)
    environment:
      name: staging
      url: ${{ steps.deploy.outputs.url }} # L'URL sera disponible après le déploiement

    steps:
      - uses: actions/checkout@v3

      - id: 'auth'
        uses: 'google-github-actions/auth@v2'
        with:
          credentials_json: '${{ secrets.GCP_CREDENTIALS }}'

      - name: 'Deploy to Cloud Run (Staging)'
        id: deploy
        uses: 'google-github-actions/deploy-cloudrun@v2'
        with:
          service: 'myapp-staging' # Nom de votre service de staging dans Cloud Run
          region: '${{ secrets.GCP_REGION }}'
          # Utiliser l'image qui a été poussée dans build.yml
          image: 'ghcr.io/${{ github.repository_owner }}/${{ github.event.repository.name }}/myapp:latest'
          project_id: '${{ secrets.GCP_PROJECT_ID }}'
          flags: '--allow-unauthenticated --platform=managed' # Autoriser l'accès non authentifié pour l'exemple
</code></pre>
<h4>3. <span dir="ltr">Déploiement</span> <span dir="ltr">en</span> <span dir="ltr">Production</span> <span dir="ltr">avec</span> <span dir="ltr">confirmation</span> <span dir="ltr">manuelle</span> (<span dir="ltr">GCP</span> <span dir="ltr">Cloud</span> <span dir="ltr">Run</span>)</h4>
<p><span dir="ltr">Ce</span> <span dir="ltr">workflow</span> <span dir="ltr">est</span> <span dir="ltr">déclenché</span> <span dir="ltr">manuellement</span> <span dir="ltr">via</span> <span dir="ltr">l</span>'<span dir="ltr">interface</span> <span dir="ltr">utilisateur</span> <span dir="ltr">de</span> <span dir="ltr">GitHub</span> <span dir="ltr">Actions</span>.</p>
<pre class="line-numbers"><code class="language-yaml">
# .github/workflows/deploy-prod.yml
name: Deploy to GCP Cloud Run (Production)

on:
  workflow_dispatch: # Permet le déclenchement manuel

jobs:
  deploy-production:
    runs-on: ubuntu-latest

    environment:
      name: production
      url: ${{ steps.deploy.outputs.url }}

    steps:
      - uses: actions/checkout@v3

      - id: 'auth'
        uses: 'google-github-actions/auth@v2'
        with:
          credentials_json: '${{ secrets.GCP_CREDENTIALS }}'

      - name: 'Deploy to Cloud Run (Production)'
        id: deploy
        uses: 'google-github-actions/deploy-cloudrun@v2'
        with:
          service: 'myapp-production' # Nom de votre service de production
          region: '${{ secrets.GCP_REGION }}'
          image: 'ghcr.io/${{ github.repository_owner }}/${{ github.event.repository.name }}/myapp:latest'
          project_id: '${{ secrets.GCP_PROJECT_ID }}'
          flags: '--allow-unauthenticated --platform=managed'
          # Pour la production, vous pouvez ajouter --no-traffic et ensuite basculer progressivement le trafic
          # traffic:
          #   latest: true
          #   percent: 100
</code></pre>
<p>**<span dir="ltr">Points</span> <span dir="ltr">importants</span> <span dir="ltr">de</span> <span dir="ltr">ce</span> <span dir="ltr">pipeline</span> <span dir="ltr">avancé</span> :**</p>
<li>**<span dir="ltr">GitHub</span> <span dir="ltr">Container</span> <span dir="ltr">Registry</span> (<span dir="ltr">ghcr.io</span>) :** <span dir="ltr">Nous</span> <span dir="ltr">l</span>'<span dir="ltr">utilisons</span> <span dir="ltr">pour</span> <span dir="ltr">stocker</span> <span dir="ltr">les</span> <span dir="ltr">images</span> <span dir="ltr">Docker</span>. <span dir="ltr">C</span>'<span dir="ltr">est</span> <span dir="ltr">pratique</span> <span dir="ltr">car</span> <span dir="ltr">il</span> <span dir="ltr">est</span> étroitement <span dir="ltr">intégré</span> à <span dir="ltr">GitHub</span> <span dir="ltr">Actions</span>.</li>
<li>**<<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">workflow_run</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> :** <span dir="ltr">Permet</span> <span dir="ltr">de</span> <span dir="ltr">déclencher</span> <span dir="ltr">un</span> <span dir="ltr">workflow</span> (<span dir="ltr">déploiement</span> <span dir="ltr">de</span> <span dir="ltr">staging</span>) à <span dir="ltr">la</span> <span dir="ltr">fin</span> <span dir="ltr">d</span>'<span dir="ltr">un</span> <span dir="ltr">autre</span> (<span dir="ltr">construction</span>).</li>
<li>**<<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">workflow_dispatch</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> :** <span dir="ltr">Permet</span> <span dir="ltr">le</span> <span dir="ltr">déclenchement</span> <span dir="ltr">manuel</span> <span dir="ltr">d</span>'<span dir="ltr">un</span> <span dir="ltr">workflow</span> (<span dir="ltr">déploiement</span> <span dir="ltr">de</span> <span dir="ltr">production</span>), <span dir="ltr">ce</span> <span dir="ltr">qui</span> <span dir="ltr">offre</span> <span dir="ltr">un</span> <span dir="ltr">contrôle</span>.</li>
<li>**<span dir="ltr">Environnements</span> <span dir="ltr">GitHub</span> :** <span dir="ltr">Vous</span> <span dir="ltr">permettent</span> <span dir="ltr">de</span> <span dir="ltr">configurer</span> <span dir="ltr">des</span> <span dir="ltr">règles</span> <span dir="ltr">de</span> <span dir="ltr">protection</span> <span dir="ltr">pour</span> <span dir="ltr">la</span> <span dir="ltr">production</span> (<span dir="ltr">par</span> <span dir="ltr">exemple</span>, <span dir="ltr">exiger</span> <span dir="ltr">l</span>'<span dir="ltr">approbation</span> <span dir="ltr">de</span> <span dir="ltr">réviseurs</span> <span dir="ltr">spécifiques</span>) <span dir="ltr">et</span> <span dir="ltr">de</span> <span dir="ltr">stocker</span> <span dir="ltr">des</span> <span dir="ltr">secrets</span> <span dir="ltr">spécifiques</span> à <span dir="ltr">l</span>'<span dir="ltr">environnement</span>.</li>
<li>**<span dir="ltr">GCP</span> <span dir="ltr">Cloud</span> <span dir="ltr">Run</span> :** <span dir="ltr">Une</span> <span dir="ltr">excellente</span> <span dir="ltr">option</span> <span dir="ltr">sans</span> <span dir="ltr">serveur</span> <span dir="ltr">pour</span> <span dir="ltr">exécuter</span> <span dir="ltr">des</span> <span dir="ltr">applications</span> <span dir="ltr">conteneurisées</span>.</li>
<h3>🔐 <span dir="ltr">Sécurité</span> – <span dir="ltr">c</span>'<span dir="ltr">est</span> <span dir="ltr">important</span> !</h3>
<li>**<span dir="ltr">Utilisez</span> <span dir="ltr">les</span> <span dir="ltr">secrets</span> <span dir="ltr">GitHub</span> :** <span dir="ltr">Ne</span> <span dir="ltr">stockez</span> <span dir="ltr">jamais</span> <span dir="ltr">les</span> <span dir="ltr">jetons</span>, <span dir="ltr">mots</span> <span dir="ltr">de</span> <span dir="ltr">passe</span>, <span dir="ltr">clés</span> <span dir="ltr">API</span> <span dir="ltr">directement</span> <span dir="ltr">dans</span> <span dir="ltr">les</span> <span dir="ltr">fichiers</span> <span dir="ltr">YAML</span>. <span dir="ltr">Utilisez</span> <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">Settings</span> -> <span dir="ltr">Secrets</span> <span dir="ltr">and</span> <span dir="ltr">variables</span> -> <span dir="ltr">Actions</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> <span dir="ltr">dans</span> <span dir="ltr">votre</span> <span dir="ltr">dépôt</span>.</li>
<li>**<span dir="ltr">Privilège</span> <span dir="ltr">minimum</span> :** <span dir="ltr">Pour</span> <span dir="ltr">les</span> <span dir="ltr">comptes</span> <span dir="ltr">de</span> <span dir="ltr">service</span> (<span dir="ltr">par</span> <span dir="ltr">exemple</span>, <span dir="ltr">GCP</span>), <span dir="ltr">n</span>'<span dir="ltr">accordez</span> <span dir="ltr">que</span> <span dir="ltr">les</span> <span dir="ltr">autorisations</span> <span dir="ltr">strictement</span> <span dir="ltr">nécessaires</span> à <span dir="ltr">l</span>'<span dir="ltr">exécution</span> <span dir="ltr">des</span> <span dir="ltr">tâches</span> <span dir="ltr">CI</span>/<span dir="ltr">CD</span>.</li>
<li>**<span dir="ltr">Isolez</span> <span dir="ltr">les</span> <span dir="ltr">environnements</span> :** <span dir="ltr">Le</span> <span dir="ltr">staging</span> <span dir="ltr">et</span> <span dir="ltr">la</span> <span dir="ltr">production</span> <span dir="ltr">doivent</span> être <span dir="ltr">aussi</span> <span dir="ltr">isolés</span> <span dir="ltr">que</span> <span dir="ltr">possible</span>. <span dir="ltr">Des</span> <span dir="ltr">projets</span>/<span dir="ltr">comptes</span> <span dir="ltr">différents</span> <span dir="ltr">chez</span> <span dir="ltr">les</span> <span dir="ltr">fournisseurs</span> <span dir="ltr">de</span> <span dir="ltr">cloud</span> <span dir="ltr">sont</span> <span dir="ltr">une</span> <span dir="ltr">bonne</span> <span dir="ltr">pratique</span>.</li>
<li>**<span dir="ltr">Protection</span> <span dir="ltr">des</span> <span dir="ltr">branches</span> :** <span dir="ltr">Configurez</span> <span dir="ltr">la</span> <span dir="ltr">protection</span> <span dir="ltr">pour</span> <span dir="ltr">la</span> <span dir="ltr">branche</span> <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">main</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> (<span dir="ltr">ou</span> <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">master</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>) <span dir="ltr">afin</span> <span dir="ltr">que</span> <span dir="ltr">les</span> <span dir="ltr">pushs</span> <span dir="ltr">vers</span> <span dir="ltr">celle</span>-<span dir="ltr">ci</span> <span dir="ltr">ne</span> <span dir="ltr">soient</span> <span dir="ltr">possibles</span> <span dir="ltr">que</span> <span dir="ltr">via</span> <span dir="ltr">des</span> <span dir="ltr">Pull</span> <span dir="ltr">Requests</span> <span dir="ltr">avec</span> <span dir="ltr">des</span> <span dir="ltr">vérifications</span> <span dir="ltr">CI</span> <span dir="ltr">obligatoires</span>.</li>
