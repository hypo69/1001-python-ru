# Класи в `python`

Класи — це один з основних механізмів об'єктно-орієнтованого програмування (ООП) в Python. Клас можна уявити як "шаблон" або "креслення" для створення об'єктів, які мають атрибути (дані) та методи (функції). Об'єкти, створені на основі класу, називаються екземплярами (інстанціями) класу. Класи дозволяють структурувати код, покращувати його повторне використання та полегшувати його підтримку.

### Структура класу

```python
class ClassName:
    # Атрибути класу
    def __init__(self, param1, param2):
        # Конструктор (ініціалізатор) класу
        self.param1 = param1
        self.param2 = param2

    # Методи класу
    def method(self):
        return f'{self.param1} і {self.param2}'
```

1. **Конструктор** (`__init__`):
   Конструктор `__init__` є спеціальним методом, який автоматично викликається при створенні нового об'єкта. Він використовується для ініціалізації атрибутів об'єкта.

   - `self`: параметр, який є посиланням на поточний екземпляр класу. У Python обов'язково передавати його як перший параметр у всіх методах класу (він не передається при виклику методу).
   - Атрибути, такі як `param1` та `param2`, присвоюються об'єкту через `self`. Ці атрибути потім можуть бути використані іншими методами класу.

2. **Атрибути класу**:
   Атрибути — це змінні, які належать об'єктам цього класу. Вони визначаються всередині конструктора (`__init__`) і можуть бути доступні за допомогою посилання на об'єкт.

3. **Методи класу**:
   Методи — це функції, які можуть маніпулювати атрибутами об'єкта. Методи можуть використовувати дані об'єкта, змінювати їх або виконувати інші операції.

### Створення об'єкта класу

Коли клас визначено, можна створювати об'єкти цього класу. Об'єкти є екземплярами класу.

```python
class Car:
    def __init__(self, make, model, year):
        self.make = make
        self.model = model
        self.year = year

    def description(self):
        return f'{self.year} {self.make} {self.model}'

# Створення об'єкта
my_car = Car('Toyota', 'Corolla', 2020)
print(my_car.description())  # Вивід: 2020 Toyota Corolla
```

- У цьому прикладі ми створили об'єкт `my_car` класу `Car`. При створенні об'єкта передаються значення для атрибутів `make`, `model` та `year`, які зберігаються в об'єкті.
- Метод `description()` дозволяє отримати рядкове представлення автомобіля.

### Типи методів

1. **Методи екземпляра**: Це звичайні методи, які діють на екземпляри класу. Вони приймають посилання на об'єкт як перший параметр (зазвичай це `self`).

   Приклад:
   ```python
   def method(self):
       pass
   ```

2. **Методи класу**: Методи, які приймають сам клас як перший параметр. Для визначення таких методів використовується декоратор `@classmethod`. Вони можуть змінювати стан самого класу, а не окремих його екземплярів.

   Приклад:
   ```python
   class MyClass:
       @classmethod
       def class_method(cls):
           pass
   ```

3. **Статичні методи**: Це методи, які не використовують `self` або `cls` (тобто вони не мають доступу ні до екземпляра, ні до класу). Статичні методи оголошуються за допомогою декоратора `@staticmethod`. Вони можуть бути корисними, коли метод не залежить від стану об'єкта або класу, але пов'язаний з логікою, що належить класу.

   Приклад:
   ```python
   class MyClass:
       @staticmethod
       def static_method():
           pass
   ```

### Наслідування

Один з ключових принципів ООП — **наслідування**. Клас може успадковувати поведінку іншого класу, розширюючи або змінюючи його функціональність. Це дозволяє повторно використовувати код, уникаючи дублювання.

```python
class Animal:
    def speak(self):
        return 'Голос тварини'

class Dog(Animal):  # Клас Dog успадковує від класу Animal
    def speak(self):
        return 'Гав'

# Створення об'єктів
dog = Dog()
print(dog.speak())  # Вивід: Гав
```

- Клас `Dog` успадковує метод `speak` від класу `Animal`, але перевизначає його, щоб повернути рядок `'Гав'`.

### Поліморфізм

**Поліморфізм** означає здатність об'єктів різних класів використовувати однакові методи з різною реалізацією. У Python це можливо завдяки наслідуванню та перевизначенню методів.

```python
class Cat(Animal):
    def speak(self):
        return 'Мяу'

# Створення об'єктів
cat = Cat()
print(cat.speak())  # Вивід: Мяу
```

Тут `Cat` також перевизначає метод `speak`, але повертає інше значення. Це дозволяє викликати метод `speak` незалежно від типу об'єкта.

### Інкапсуляція

**Інкапсуляція** дозволяє приховувати внутрішні деталі реалізації та надавати доступ до даних через публічні методи. Це допомагає запобігти неправильному використанню даних.

```python
class Car:
    def __init__(self, make, model):
        self._make = make  # Захищений атрибут
        self._model = model

    def get_make(self):
        return self._make

    def set_make(self, make):
        self._make = make

# Створення об'єкта
my_car = Car('Toyota', 'Corolla')
print(my_car.get_make())  # Вивід: Toyota
my_car.set_make('Honda')
print(my_car.get_make())  # Вивід: Honda
```

Тут атрибути `_make` та `_model` є захищеними (зазвичай у Python підкреслення означає, що ці атрибути не повинні використовуватися безпосередньо за межами класу), але доступ до них можна отримати та змінити через методи `get_make` та `set_make`.

### Інші особливості класів

1. **Деструктор** (`__del__`):
   Спеціальний метод, який викликається, коли об'єкт знищується (наприклад, при виході з області видимості). Він може бути використаний для очищення ресурсів.

   Приклад:
   ```python
   class MyClass:
       def __del__(self):
           print("Об'єкт знищено")

   obj = MyClass()
   del obj  # Об'єкт буде знищено і викличеться метод __del__
   ```

2. **Магічні методи**:
   Це спеціальні методи з двома підкресленнями (наприклад, `__init__`, `__str__`, `__repr__`, `__eq__`). Вони дозволяють перевизначати стандартну поведінку операцій, таких як створення об'єктів, порівняння, виведення об'єктів у рядковому вигляді тощо.

   Приклад:
   ```python
   class Point:
       def __init__(self, x, y):
           self.x = x
           self.y = y

       def __repr__(self):
           return f'Point({self.x}, {self.y})'

   p = Point(3, 4)
   print(p)  # Вивід: Point(3, 4)
   ```

 ---

  [До змісту](https://github.com/hypo69/101_python_computer_games_ru/blob/master/cheat_sheets#readme)
