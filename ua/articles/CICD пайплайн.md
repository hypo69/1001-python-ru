üöÄ **CI/CD: –í—ñ–¥ –æ—Å–Ω–æ–≤ –¥–æ Production –Ω–∞ GCP –∑ GitHub Actions ‚Äì –ü–æ–≤–Ω–∏–π –ø–æ—Å—ñ–±–Ω–∏–∫ –∑ –ø—Ä–∏–∫–ª–∞–¥–∞–º–∏** üöÄ

–ü—Ä–∏–≤—ñ—Ç, —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∏! –£ —Ü—ñ–π —Å—Ç–∞—Ç—Ç—ñ —è —Ä–æ–∑–ø–æ–≤—ñ–º –ø—Ä–æ CI/CD ‚Äì –∫–æ–Ω—Ü–µ–ø—Ü—ñ—é.

### –©–æ —Ç–∞–∫–µ CI/CD –ø–∞–π–ø–ª–∞–π–Ω —É –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è?

**CI/CD –ø–∞–π–ø–ª–∞–π–Ω (Continuous Integration / Continuous Delivery –∞–±–æ Continuous Deployment)** ‚Äî —Ü–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–∏–π –ø—Ä–æ—Ü–µ—Å, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞–º —à–≤–∏–¥–∫–æ —Ç–∞ –Ω–∞–¥—ñ–π–Ω–æ –¥–æ—Å—Ç–∞–≤–ª—è—Ç–∏ –∑–º—ñ–Ω–∏ –≤ –∫–æ–¥—ñ –≤ —Ä–æ–±–æ—á–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ (–ø—Ä–æ–¥–∞–∫—à–Ω).

–î–∞–≤–∞–π—Ç–µ —Ä–æ–∑–±–µ—Ä–µ–º–æ –∫–ª—é—á–æ–≤—ñ –ø–æ–Ω—è—Ç—Ç—è:

üîß **CI ‚Äî Continuous Integration (–ë–µ–∑–ø–µ—Ä–µ—Ä–≤–Ω–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è)**
–¶–µ –ø—Ä–∞–∫—Ç–∏–∫–∞, –ø—Ä–∏ —è–∫—ñ–π —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∏ —á–∞—Å—Ç–æ –≤–Ω–æ—Å—è—Ç—å –∑–º—ñ–Ω–∏ –≤ –∑–∞–≥–∞–ª—å–Ω—É –∫–æ–¥–æ–≤—É –±–∞–∑—É. –ö–æ–∂–Ω–∞ —Ç–∞–∫–∞ –∑–º—ñ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
*   **–ó–±–∏—Ä–∞—î—Ç—å—Å—è** (build)
*   **–¢–µ—Å—Ç—É—î—Ç—å—Å—è** (—é–Ω—ñ—Ç-—Ç–µ—Å—Ç–∏, —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏)
*   **–ü–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è –Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º** (–ª—ñ–Ω—Ç–∏–Ω–≥, —Å—Ç–∞—Ç–∏—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑)

üëâ **–ú–µ—Ç–∞ CI:** –í–∏—è–≤–ª—è—Ç–∏ –ø–æ–º–∏–ª–∫–∏ –Ω–∞ –Ω–∞–π—Ä–∞–Ω—ñ—à–æ–º—É –µ—Ç–∞–ø—ñ, –¥–æ —Ç–æ–≥–æ —è–∫ –≤–æ–Ω–∏ –∑–ª–∞–º–∞—é—Ç—å —â–æ—Å—å –≤–∞–∂–ª–∏–≤–µ –∞–±–æ –ø–æ—Ç—Ä–∞–ø–ª—è—Ç—å —É —Ä–µ–ª—ñ–∑.

üöÄ **CD ‚Äî Continuous Delivery (–ë–µ–∑–ø–µ—Ä–µ—Ä–≤–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞) –∞–±–æ Continuous Deployment (–ë–µ–∑–ø–µ—Ä–µ—Ä–≤–Ω–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è)**
–¢—É—Ç —î –¥–≤–∞ –≤–∞—Ä—ñ–∞–Ω—Ç–∏:

‚úÖ **Continuous Delivery (–ë–µ–∑–ø–µ—Ä–µ—Ä–≤–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞)**
–ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è –µ—Ç–∞–ø—É CI, –∑–º—ñ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
*   –ü—Ä–æ—Ö–æ–¥—è—Ç—å –¥–æ–¥–∞—Ç–∫–æ–≤—ñ —Ç–µ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, E2E ‚Äì end-to-end —Ç–µ—Å—Ç–∏)
*   –ü–æ—Ç—Ä–∞–ø–ª—è—é—Ç—å –Ω–∞ staging (—Ç–µ—Å—Ç–æ–≤–∏–π) —Å–µ—Ä–≤–µ—Ä
üëâ **–ê–ª–µ –¥–µ–ø–ª–æ–π —É –ø—Ä–æ–¥–∞–∫—à–Ω –≤—Å–µ —â–µ –≤–∏–º–∞–≥–∞—î —Ä—É—á–Ω–æ–≥–æ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è.** –¶–µ –¥–∞—î –∫–æ–º–∞–Ω–¥—ñ –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Ç–∏–º, *–∫–æ–ª–∏* —Å–∞–º–µ –∑–º—ñ–Ω–∏ –ø–æ–±–∞—á–∞—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ.

ü§ñ **Continuous Deployment (–ë–µ–∑–ø–µ—Ä–µ—Ä–≤–Ω–∏–π –¥–µ–ø–ª–æ–π)**
–¶–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫ –ø—ñ—Å–ª—è Continuous Delivery. –¢—É—Ç –¥–µ–ø–ª–æ–π —É –ø—Ä–æ–¥–∞–∫—à–Ω –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è **–ø–æ–≤–Ω—ñ—Å—Ç—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ**, —è–∫—â–æ –≤—Å—ñ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ –µ—Ç–∞–ø–∏ –ø–∞–π–ø–ª–∞–π–Ω—É (–∑–±—ñ—Ä–∫–∞, –≤—Å—ñ —Ç–µ—Å—Ç–∏) –ø—Ä–æ–π—à–ª–∏ —É—Å–ø—ñ—à–Ω–æ. –¶–µ –Ω–∞–π–ø—Ä–æ—Å—É–Ω—É—Ç—ñ—à–∏–π —Ä—ñ–≤–µ–Ω—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó.

### üîÑ –ó —á–æ–≥–æ –∑–∞–∑–≤–∏—á–∞–π —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è CI/CD –ø–∞–π–ø–ª–∞–π–Ω?

–¢–∏–ø–æ–≤–∏–π –ø–∞–π–ø–ª–∞–π–Ω –≤–∫–ª—é—á–∞—î –Ω–∞—Å—Ç—É–ø–Ω—ñ –µ—Ç–∞–ø–∏:
1.  **Checkout** ‚Äî –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—å–æ—ó –≤–µ—Ä—Å—ñ—ó –∫–æ–¥—É –∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é.
2.  **Build** ‚Äî –ó–±—ñ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç—É (–∫–æ–º–ø—ñ–ª—è—Ü—ñ—è, –∑–±—ñ—Ä–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ñ–≤, Docker-–æ–±—Ä–∞–∑—ñ–≤).
3.  **Test** ‚Äî –ó–∞–ø—É—Å–∫ —Ä—ñ–∑–Ω–∏—Ö –≤–∏–¥—ñ–≤ —Ç–µ—Å—Ç—ñ–≤ (—é–Ω—ñ—Ç, —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ, E2E).
4.  **Lint/Code Quality** ‚Äî –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–¥—É –Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å —Å—Ç–∏–ª—é —Ç–∞ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ –ø–æ–º–∏–ª–∫–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –∞–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä—ñ–≤.
5.  **Deploy** ‚Äî –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–∏ (–Ω–∞ staging –∞–±–æ production —Å–µ—Ä–≤–µ—Ä).
6.  **Notify** ‚Äî –ù–∞–¥—Å–∏–ª–∞–Ω–Ω—è —Å–ø–æ–≤—ñ—â–µ–Ω—å –ø—Ä–æ —Å—Ç–∞—Ç—É—Å –ø–∞–π–ø–ª–∞–π–Ω—É –∫–æ–º–∞–Ω–¥—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —É Slack, Email).

### üõ† –ü–æ–ø—É–ª—è—Ä–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è CI/CD:

*   **GitHub Actions** (–Ω–∞—à —Ñ–æ–∫—É—Å —Å—å–æ–≥–æ–¥–Ω—ñ!)
*   GitLab CI/CD
*   Jenkins
*   CircleCI
*   Bitbucket Pipelines
*   Azure DevOps
*   TeamCity

### üß† –ù–∞–≤—ñ—â–æ –≤–∑–∞–≥–∞–ª—ñ –ø–æ—Ç—Ä—ñ–±–µ–Ω CI/CD?

*   **–ó–º–µ–Ω—à—É—î –ª—é–¥—Å—å–∫–∏–π —Ñ–∞–∫—Ç–æ—Ä:** –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è –≤–∏–∫–ª—é—á–∞—î –ø–æ–º–∏–ª–∫–∏, –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ —Ä—É—á–Ω–∏–º–∏ –æ–ø–µ—Ä–∞—Ü—ñ—è–º–∏.
*   **–®–≤–∏–¥–∫–µ –≤–∏—è–≤–ª–µ–Ω–Ω—è –±–∞–≥—ñ–≤:** –ü–æ–º–∏–ª–∫–∏ –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è —Ä–∞–Ω—ñ—à–µ, —ó—Ö –ø—Ä–æ—Å—Ç—ñ—à–µ —Ç–∞ –¥–µ—à–µ–≤—à–µ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏.
*   **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è —Ä—É—Ç–∏–Ω–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å:** –†–æ–∑—Ä–æ–±–Ω–∏–∫–∏ –≤–∏—Ç—Ä–∞—á–∞—é—Ç—å –º–µ–Ω—à–µ —á–∞—Å—É –Ω–∞ –∑–±—ñ—Ä–∫—É —Ç–∞ –¥–µ–ø–ª–æ–π, –±—ñ–ª—å—à–µ ‚Äì –Ω–∞ –∫–æ–¥.
*   **–ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è —è–∫–æ—Å—Ç—ñ –∫–æ–¥—É:** –ü–æ—Å—Ç—ñ–π–Ω—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–∞ —Ç–µ—Å—Ç–∏ –ø—ñ–¥–≤–∏—â—É—é—Ç—å –∑–∞–≥–∞–ª—å–Ω—É –ø–ª–∞–Ω–∫—É —è–∫–æ—Å—Ç—ñ.
*   **–®–≤–∏–¥–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∞ —Ñ—ñ—á –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º:** –ù–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –¥–æ—Ö–æ–¥—è—Ç—å –¥–æ –∫—ñ–Ω—Ü–µ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —à–≤–∏–¥—à–µ —Ç–∞ —á–∞—Å—Ç—ñ—à–µ.

### üì¶ –ü—Ä–æ—Å—Ç—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ CI/CD –∑ GitHub Actions

–î–∞–≤–∞–π—Ç–µ –ø–æ–¥–∏–≤–∏–º–æ—Å—è –Ω–∞ –±–∞–∑–æ–≤—ñ –ø–∞–π–ø–ª–∞–π–Ω–∏ –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω–∏—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π. –í—Å—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å GitHub Actions —ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó `.github/workflows/` –≤–∞—à–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É.

#### üêç CI/CD –¥–ª—è Python (–∑ `pytest` —Ç–∞ `flake8`)

```yaml
# .github/workflows/python-ci.yml
name: Python CI

on: [push, pull_request]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.11' # –í–∫–∞–∂—ñ—Ç—å –≤–∞—à—É –≤–µ—Ä—Å—ñ—é

      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install -r requirements.txt # –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —É –≤–∞—Å —î requirements.txt
          pip install flake8 pytest

      - name: Lint with flake8
        run: |
          # –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –∫–æ–¥ —É –ø–∞–ø–∫–∞—Ö src —Ç–∞ tests (–∞–¥–∞–ø—Ç—É–π—Ç–µ –ø—ñ–¥ —Å–≤—ñ–π –ø—Ä–æ–µ–∫—Ç)
          flake8 src tests

      - name: Run tests
        run: |
          pytest
```

#### üåê CI/CD –¥–ª—è Node.js (–∑ `npm test` —Ç–∞ `eslint`)

```yaml
# .github/workflows/node-ci.yml
name: Node.js CI

on: [push, pull_request]

jobs:
  build:
    runs-on: ubuntu-latest

    strategy:
      matrix:
        node-version: [18.x] # –í–∫–∞–∂—ñ—Ç—å –≤–∞—à—É –≤–µ—Ä—Å—ñ—é Node.js

    steps:
      - uses: actions/checkout@v3

      - name: Use Node.js ${{ matrix.node-version }}
        uses: actions/setup-node@v4
        with:
          node-version: ${{ matrix.node-version }}

      - name: Install dependencies
        run: npm install # –∞–±–æ npm ci –¥–ª—è –±—ñ–ª—å—à –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–æ—ó —É—Å—Ç–∞–Ω–æ–≤–∫–∏

      - name: Lint with ESLint
        run: npx eslint . # –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ ESLint –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π —É –ø—Ä–æ–µ–∫—Ç—ñ

      - name: Run tests
        run: npm test
```

#### üê≥ CI/CD –¥–ª—è Docker (–∑–±—ñ—Ä–∫–∞ —Ç–∞ –ø—É—à —É Docker Hub)

–î–ª—è —Ü—å–æ–≥–æ –ø—Ä–∏–∫–ª–∞–¥—É –≤–∞–º –∑–Ω–∞–¥–æ–±–ª—è—Ç—å—Å—è —Å–µ–∫—Ä–µ—Ç–∏ `DOCKER_USERNAME` —Ç–∞ `DOCKER_PASSWORD` (–∞–±–æ —Ç–æ–∫–µ–Ω) —É –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è—Ö –≤–∞—à–æ–≥–æ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é (`Settings -> Secrets and variables -> Actions`).

```yaml
# .github/workflows/docker-ci.yml
name: Docker CI/CD

on:
  push:
    branches: [ main ] # –ó–∞–ø—É—Å–∫–∞—î–º–æ —Ç—ñ–ª—å–∫–∏ –¥–ª—è main –≥—ñ–ª–∫–∏

jobs:
  docker:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3

      - name: Log in to Docker Hub
        run: echo "${{ secrets.DOCKER_PASSWORD }}" | docker login -u "${{ secrets.DOCKER_USERNAME }}" --password-stdin

      - name: Build Docker image
        # –ó–∞–º—ñ–Ω—ñ—Ç—å myapp –Ω–∞ –Ω–∞–∑–≤—É –≤–∞—à–æ—ó –ø—Ä–æ–≥—Ä–∞–º–∏
        run: docker build -t ${{ secrets.DOCKER_USERNAME }}/myapp:latest .

      - name: Push Docker image
        run: docker push ${{ secrets.DOCKER_USERNAME }}/myapp:latest
```

### üöö –î–µ–ø–ª–æ–π –Ω–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ñ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏

–¢–µ–ø–µ—Ä, –∫–æ–ª–∏ —É –Ω–∞—Å —î –∑—ñ–±—Ä–∞–Ω—ñ —Ç–∞ –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω—ñ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Docker-–æ–±—Ä–∞–∑), –¥–∞–≤–∞–π—Ç–µ –ø–æ–¥–∏–≤–∏–º–æ—Å—è, —è–∫ —ó—Ö –º–æ–∂–Ω–∞ —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏.

#### üü£ –î–µ–ø–ª–æ–π –Ω–∞ Heroku

**üîê –°–µ–∫—Ä–µ—Ç–∏ GitHub:** `HEROKU_API_KEY`, `HEROKU_APP_NAME`.

```yaml
# .github/workflows/deploy-heroku.yml
name: Deploy to Heroku

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Install Heroku CLI
        run: curl https://cli-assets.heroku.com/install.sh | sh
      - name: Login to Heroku
        env:
          HEROKU_API_KEY: ${{ secrets.HEROKU_API_KEY }}
        run: heroku auth:token
      - name: Deploy to Heroku
        env:
          HEROKU_API_KEY: ${{ secrets.HEROKU_API_KEY }}
        run: |
          heroku git:remote -a ${{ secrets.HEROKU_APP_NAME }}
          git push heroku main -f # –ë—É–¥—å—Ç–µ –æ–±–µ—Ä–µ–∂–Ω—ñ –∑ -f (force push)
```
–Ø–∫—â–æ –≤–∏ –¥–µ–ø–ª–æ—ó—Ç–µ Docker-–æ–±—Ä–∞–∑ –Ω–∞ Heroku:
```yaml
# ... (–∫—Ä–æ–∫–∏ build —Ç–∞ login to Docker Hub/GHCR –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –ø—Ä–∏–∫–ª–∞–¥—ñ–≤) ...
# deploy:
#   name: Deploy to Heroku
#   needs: build # –ó–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –¥–∂–æ–±–∞ –∑–±—ñ—Ä–∫–∏ –æ–±—Ä–∞–∑—É
#   runs-on: ubuntu-latest
#   steps:
#     # ...
#     - name: Login to Heroku container registry
#       run: echo "${{ secrets.HEROKU_API_KEY }}" | docker login --username=_ --password-stdin registry.heroku.com
#     - name: Tag image for Heroku
#       # –ü—Ä–∏–ø—É—Å–∫–∞—î–º–æ, —â–æ –æ–±—Ä–∞–∑ –∑—ñ–±—Ä–∞–Ω–∏–π —è–∫ ghcr.io/username/repo/myapp:latest
#       run: docker tag ghcr.io/${{ github.repository_owner }}/${{ github.event.repository.name }}/myapp:latest registry.heroku.com/${{ secrets.HEROKU_APP_NAME }}/web
#     - name: Push image to Heroku
#       run: docker push registry.heroku.com/${{ secrets.HEROKU_APP_NAME }}/web
#     - name: Release Heroku App
#       env:
#         HEROKU_API_KEY: ${{ secrets.HEROKU_API_KEY }}
#       run: heroku container:release web --app ${{ secrets.HEROKU_APP_NAME }}
```

#### üü® –î–µ–ø–ª–æ–π –Ω–∞ AWS (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Å—Ç–∞—Ç–∏–∫–∞ –≤ S3)

**üîê –°–µ–∫—Ä–µ—Ç–∏ GitHub:** `AWS_ACCESS_KEY_ID`, `AWS_SECRET_ACCESS_KEY`, `AWS_REGION`, `S3_BUCKET_NAME`.

```yaml
# .github/workflows/deploy-aws-s3.yml
name: Deploy Static Site to AWS S3

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Configure AWS credentials
        uses: aws-actions/configure-aws-credentials@v4
        with:
          aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}
          aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
          aws-region: ${{ secrets.AWS_REGION }}
      - name: Sync files to S3
        # –ó–∞–º—ñ–Ω—ñ—Ç—å ./public –Ω–∞ —à–ª—è—Ö –¥–æ –≤–∞—à–∏—Ö —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤
        run: aws s3 sync ./public s3://${{ secrets.S3_BUCKET_NAME }} --delete
```
–î–ª—è –¥–µ–ø–ª–æ—é –Ω–∞ **AWS Elastic Beanstalk** –∑–∞–∑–≤–∏—á–∞–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è EB CLI, –ø–∞–π–ø–ª–∞–π–Ω –±—É–¥–µ —Å—Ö–æ–∂–∏–π, –∞–ª–µ –∑ –∫–æ–º–∞–Ω–¥–∞–º–∏ `eb deploy`.

#### üîµ –î–µ–ø–ª–æ–π –Ω–∞ Google Cloud Platform (GCP App Engine)

**üîê –°–µ–∫—Ä–µ—Ç–∏ GitHub:** `GCP_CREDENTIALS` (JSON –∫–ª—é—á —Å–µ—Ä–≤—ñ—Å-–∞–∫–∞—É–Ω—Ç—É), `GCP_PROJECT_ID`.

```yaml
# .github/workflows/deploy-gcp-app-engine.yml
name: Deploy to GCP App Engine

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Set up Cloud SDK
        uses: google-github-actions/setup-gcloud@v2
        with:
          project_id: ${{ secrets.GCP_PROJECT_ID }}
          service_account_key: ${{ secrets.GCP_CREDENTIALS }}
          export_default_credentials: true
      - name: Deploy to App Engine
        # –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —É –≤–∞—Å —î app.yaml —É –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É
        run: gcloud app deploy --quiet
```

#### üü™ –î–µ–ø–ª–æ–π –Ω–∞ Render.com

Render —á–∞—Å—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–µ–ø–ª–æ—ó—Ç—å –ø—Ä–∏ push —É GitHub, —è–∫—â–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –ø—ñ–¥–∫–ª—é—á–µ–Ω–∏–π. –ê–ª–µ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ç—Ä–∏–≥–µ—Ä–∞ (–∞–±–æ —è–∫ —á–∞—Å—Ç–∏–Ω–∞ –±—ñ–ª—å—à —Å–∫–ª–∞–¥–Ω–æ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω—É) –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Deploy Hook.
**üîê –°–µ–∫—Ä–µ—Ç–∏ GitHub:** `RENDER_DEPLOY_HOOK` (URL, –æ—Ç—Ä–∏–º–∞–Ω–∏–π –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å —Å–µ—Ä–≤—ñ—Å—É –≤ Render).

```yaml
# .github/workflows/deploy-render.yml
name: Trigger Render Deploy

on:
  workflow_dispatch: # –†—É—á–Ω–∏–π –∑–∞–ø—É—Å–∫ –∑ UI GitHub

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger Render Deploy Hook
        run: curl -X POST ${{ secrets.RENDER_DEPLOY_HOOK }}
```

### üåü –ü—Ä–æ—Å—É–Ω—É—Ç–∏–π CI/CD: Build Docker ‚Üí Push —É GHCR ‚Üí Staging/Production –Ω–∞ GCP Cloud Run

–ê —Ç–µ–ø–µ—Ä –≤–∏—à–µ–Ω—å–∫–∞ –Ω–∞ —Ç–æ—Ä—Ç—ñ! –ó–±–µ—Ä–µ–º–æ –ø—Ä–æ—Å—É–Ω—É—Ç–∏–π –ø–∞–π–ø–ª–∞–π–Ω:
1.  –ó–±—ñ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑—É.
2.  –ü—É–±–ª—ñ–∫–∞—Ü—ñ—è –æ–±—Ä–∞–∑—É –≤ GitHub Container Registry (ghcr.io).
3.  –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –¥–µ–ø–ª–æ–π —É **staging** —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ –Ω–∞ GCP Cloud Run.
4.  –î–µ–ø–ª–æ–π —É **production** —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ –Ω–∞ GCP Cloud Run **–ø—ñ—Å–ª—è —Ä—É—á–Ω–æ–≥–æ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è**.

–î–ª—è —Ü—å–æ–≥–æ –Ω–∞–º –∑–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –∫—ñ–ª—å–∫–∞ —Ñ–∞–π–ª—ñ–≤ –≤–æ—Ä–∫—Ñ–ª–æ—É.

**–ù–µ–æ–±—Ö—ñ–¥–Ω—ñ —Å–µ–∫—Ä–µ—Ç–∏ GitHub:**
*   `GCP_PROJECT_ID`: ID –≤–∞—à–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É –≤ GCP.
*   `GCP_CREDENTIALS`: JSON-–∫–ª—é—á —Å–µ—Ä–≤—ñ—Å-–∞–∫–∞—É–Ω—Ç—É GCP –∑ –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ –¥–µ–ø–ª–æ–π —É Cloud Run —Ç–∞ –¥–æ—Å—Ç—É–ø –¥–æ GHCR (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ). –ó–∞–∑–≤–∏—á–∞–π `GITHUB_TOKEN` –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ GHCR –∑ Actions.
*   `GCP_REGION`: –†–µ–≥—ñ–æ–Ω –¥–ª—è Cloud Run (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `europe-west1`).

#### 1. –ó–±—ñ—Ä–∫–∞ —Ç–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è Docker-–æ–±—Ä–∞–∑—É –≤ GHCR

```yaml
# .github/workflows/build.yml
name: Build & Push to GHCR

on:
  push:
    branches: [main] # –ó–∞–ø—É—Å–∫–∞—î–º–æ –ø—Ä–∏ –ø—É—à—ñ –≤ main

jobs:
  build-and-push:
    runs-on: ubuntu-latest
    permissions:
      contents: read      # –î–ª—è checkout
      packages: write     # –î–ª—è –ø—É—à—É –≤ GHCR

    steps:
      - uses: actions/checkout@v3

      - name: Log in to GitHub Container Registry
        uses: docker/login-action@v3
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Build and push Docker image
        uses: docker/build-push-action@v5
        with:
          context: .
          push: true
          tags: ghcr.io/${{ github.repository_owner }}/${{ github.event.repository.name }}/myapp:latest
          # –ú–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ —Ç–µ–≥—É–≤–∞–Ω–Ω—è –∑–∞ SHA –∫–æ–º—ñ—Ç—É –¥–ª—è —É–Ω—ñ–∫–∞–ª—å–Ω–æ—Å—Ç—ñ:
          # tags: |
          #   ghcr.io/${{ github.repository_owner }}/${{ github.event.repository.name }}/myapp:latest
          #   ghcr.io/${{ github.repository_owner }}/${{ github.event.repository.name }}/myapp:${{ github.sha }}
```
*   `github.repository_owner`: –í–ª–∞—Å–Ω–∏–∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é (–≤–∞—à username –∞–±–æ –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó).
*   `github.event.repository.name`: –ù–∞–∑–≤–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é.
*   `myapp`: –ù–∞–∑–≤–∞ –≤–∞—à–æ—ó –ø—Ä–æ–≥—Ä–∞–º–∏/–æ–±—Ä–∞–∑—É.

#### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –¥–µ–ø–ª–æ–π —É Staging (GCP Cloud Run)

–¶–µ–π –≤–æ—Ä–∫—Ñ–ª–æ—É –±—É–¥–µ –∑–∞–ø—É—Å–∫–∞—Ç–∏—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è `build.yml`.

```yaml
# .github/workflows/deploy-staging.yml
name: Deploy to GCP Cloud Run (Staging)

on:
  workflow_run:
    workflows: ["Build & Push to GHCR"] # –ù–∞–∑–≤–∞ –≤–æ—Ä–∫—Ñ–ª–æ—É –∑–±—ñ—Ä–∫–∏
    types:
      - completed

jobs:
  deploy-staging:
    runs-on: ubuntu-latest
    # –ó–∞–ø—É—Å–∫–∞—î–º–æ —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ –≤–æ—Ä–∫—Ñ–ª–æ—É –∑–±—ñ—Ä–∫–∏ –∑–∞–≤–µ—Ä—à–∏–≤—Å—è —É—Å–ø—ñ—à–Ω–æ
    if: ${{ github.event.workflow_run.conclusion == 'success' }}

    # –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ GitHub Environments –¥–ª—è staging (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ, –∞–ª–µ —Ö–æ—Ä–æ—à–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞)
    environment:
      name: staging
      url: ${{ steps.deploy.outputs.url }} # URL –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é

    steps:
      - uses: actions/checkout@v3 # –ü–æ—Ç—Ä—ñ–±–µ–Ω, —è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

      - id: 'auth'
        uses: 'google-github-actions/auth@v2'
        with:
          credentials_json: '${{ secrets.GCP_CREDENTIALS }}'

      - name: 'Deploy to Cloud Run (Staging)'
        id: deploy
        uses: 'google-github-actions/deploy-cloudrun@v2'
        with:
          service: 'myapp-staging' # –ù–∞–∑–≤–∞ –≤–∞—à–æ–≥–æ staging —Å–µ—Ä–≤—ñ—Å—É –≤ Cloud Run
          region: '${{ secrets.GCP_REGION }}'
          # –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –æ–±—Ä–∞–∑, —è–∫–∏–π –±—É–≤ –∑–∞–ø—É—à–µ–Ω–∏–π –≤ build.yml
          image: 'ghcr.io/${{ github.repository_owner }}/${{ github.event.repository.name }}/myapp:latest'
          project_id: '${{ secrets.GCP_PROJECT_ID }}'
          flags: '--allow-unauthenticated --platform=managed' # –î–æ–∑–≤–æ–ª—è—î–º–æ –Ω–µ–∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π –¥–æ—Å—Ç—É–ø –¥–ª—è –ø—Ä–∏–∫–ª–∞–¥—É
```

#### 3. –î–µ–ø–ª–æ–π —É Production –∑ —Ä—É—á–Ω–∏–º –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è–º (GCP Cloud Run)

–¶–µ–π –≤–æ—Ä–∫—Ñ–ª–æ—É –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –≤—Ä—É—á–Ω—É —á–µ—Ä–µ–∑ UI GitHub Actions.

```yaml
# .github/workflows/deploy-prod.yml
name: Deploy to GCP Cloud Run (Production)

on:
  workflow_dispatch: # –î–æ–∑–≤–æ–ª—è—î —Ä—É—á–Ω–∏–π –∑–∞–ø—É—Å–∫

jobs:
  deploy-production:
    runs-on: ubuntu-latest

    environment:
      name: production
      url: ${{ steps.deploy.outputs.url }}

    steps:
      - uses: actions/checkout@v3

      - id: 'auth'
        uses: 'google-github-actions/auth@v2'
        with:
          credentials_json: '${{ secrets.GCP_CREDENTIALS }}'

      - name: 'Deploy to Cloud Run (Production)'
        id: deploy
        uses: 'google-github-actions/deploy-cloudrun@v2'
        with:
          service: 'myapp-production' # –ù–∞–∑–≤–∞ –≤–∞—à–æ–≥–æ production —Å–µ—Ä–≤—ñ—Å—É
          region: '${{ secrets.GCP_REGION }}'
          image: 'ghcr.io/${{ github.repository_owner }}/${{ github.event.repository.name }}/myapp:latest' # –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Ç–æ–π —Å–∞–º–∏–π 'latest' –æ–±—Ä–∞–∑
          project_id: '${{ secrets.GCP_PROJECT_ID }}'
          flags: '--allow-unauthenticated --platform=managed'
          # –î–ª—è production –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ --no-traffic —ñ –ø–æ—Ç—ñ–º –ø–æ—Å—Ç—É–ø–æ–≤–æ –ø–µ—Ä–µ–º–∏–∫–∞—Ç–∏ —Ç—Ä–∞—Ñ—ñ–∫
          # traffic:
          #   latest: true
          #   percent: 100
```

**–í–∞–∂–ª–∏–≤—ñ –º–æ–º–µ–Ω—Ç–∏ —Ü—å–æ–≥–æ –ø—Ä–æ—Å—É–Ω—É—Ç–æ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω—É:**
*   **GitHub Container Registry (ghcr.io):** –ú–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –π–æ–≥–æ –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è Docker-–æ–±—Ä–∞–∑—ñ–≤. –¶–µ –∑—Ä—É—á–Ω–æ, –æ—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω —Ç—ñ—Å–Ω–æ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∏–π –∑ GitHub Actions.
*   **`workflow_run`:** –î–æ–∑–≤–æ–ª—è—î –∑–∞–ø—É—Å–∫–∞—Ç–∏ –æ–¥–∏–Ω –≤–æ—Ä–∫—Ñ–ª–æ—É (–¥–µ–ø–ª–æ–π –Ω–∞ staging) –ø–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ñ —ñ–Ω—à–æ–≥–æ (–∑–±—ñ—Ä–∫–∞).
*   **`workflow_dispatch`:** –î–∞—î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É –≤–æ—Ä–∫—Ñ–ª–æ—É (–¥–µ–ø–ª–æ–π –Ω–∞ production), —â–æ –∑–∞–±–µ–∑–ø–µ—á—É—î –∫–æ–Ω—Ç—Ä–æ–ª—å.
*   **GitHub Environments:** –î–æ–∑–≤–æ–ª—è—é—Ç—å –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ –∑–∞—Ö–∏—Å—Ç—É –¥–ª—è production (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∏–º–∞–≥–∞—Ç–∏ —Å—Ö–≤–∞–ª–µ–Ω–Ω—è –≤—ñ–¥ –ø–µ–≤–Ω–∏—Ö —Ä–µ–≤'—é–µ—Ä—ñ–≤) —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –¥–ª—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ —Å–µ–∫—Ä–µ—Ç–∏.
*   **GCP Cloud Run:** –í—ñ–¥–º—ñ–Ω–Ω–∏–π serverless-–≤–∞—Ä—ñ–∞–Ω—Ç –¥–ª—è –∑–∞–ø—É—Å–∫—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–æ–≤–∞–Ω–∏—Ö –ø—Ä–æ–≥—Ä–∞–º.

### üîê –ë–µ–∑–ø–µ–∫–∞ ‚Äì —Ü–µ –≤–∞–∂–ª–∏–≤–æ!

*   **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ GitHub Secrets:** –ù—ñ–∫–æ–ª–∏ –Ω–µ –∑–±–µ—Ä—ñ–≥–∞–π—Ç–µ —Ç–æ–∫–µ–Ω–∏, –ø–∞—Ä–æ–ª—ñ, –∫–ª—é—á—ñ API –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ YAML-—Ñ–∞–π–ª–∞—Ö. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `Settings -> Secrets and variables -> Actions` —É –≤–∞—à–æ–º—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó.
*   **–ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –ø—Ä–∏–≤—ñ–ª–µ—ó:** –î–ª—è —Å–µ—Ä–≤—ñ—Å-–∞–∫–∞—É–Ω—Ç—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, GCP) –Ω–∞–¥–∞–≤–∞–π—Ç–µ –ª–∏—à–µ —Ç—ñ –ø—Ä–∞–≤–∞, —è–∫—ñ –¥—ñ–π—Å–Ω–æ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å CI/CD.
*   **–Ü–∑–æ–ª—é–π—Ç–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞:** Staging —Ç–∞ Production –ø–æ–≤–∏–Ω–Ω—ñ –±—É—Ç–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —ñ–∑–æ–ª—å–æ–≤–∞–Ω—ñ. –†—ñ–∑–Ω—ñ –ø—Ä–æ–µ–∫—Ç–∏/–∞–∫–∞—É–Ω—Ç–∏ –≤ —Ö–º–∞—Ä–Ω–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞—Ö ‚Äì —Ö–æ—Ä–æ—à–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞.
*   **–ó–∞—Ö–∏—Å—Ç –≥—ñ–ª–æ–∫:** –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∑–∞—Ö–∏—Å—Ç –¥–ª—è `main` (–∞–±–æ `master`) –≥—ñ–ª–∫–∏, —â–æ–± –ø—É—à–∏—Ç–∏ –≤ –Ω–µ—ó –º–æ–∂–Ω–∞ –±—É–ª–æ –ª–∏—à–µ —á–µ—Ä–µ–∑ Pull Request –∑ –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–º–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞–º–∏ CI.
