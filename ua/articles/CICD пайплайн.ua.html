<p>üöÄ **<span dir="ltr">CI</span>/<span dir="ltr">CD</span>: –í—ñ–¥ –æ—Å–Ω–æ–≤ –¥–æ <span dir="ltr">Production</span> –Ω–∞ <span dir="ltr">GCP</span> –∑ <span dir="ltr">GitHub</span> <span dir="ltr">Actions</span> ‚Äì –ü–æ–≤–Ω–∏–π –ø–æ—Å—ñ–±–Ω–∏–∫ –∑ –ø—Ä–∏–∫–ª–∞–¥–∞–º–∏** üöÄ</p>
<p>–ü—Ä–∏–≤—ñ—Ç, —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∏! –£ —Ü—ñ–π —Å—Ç–∞—Ç—Ç—ñ —è —Ä–æ–∑–ø–æ–≤—ñ–º –ø—Ä–æ <span dir="ltr">CI</span>/<span dir="ltr">CD</span> ‚Äì –∫–æ–Ω—Ü–µ–ø—Ü—ñ—é.</p>
<h3>–©–æ —Ç–∞–∫–µ <span dir="ltr">CI</span>/<span dir="ltr">CD</span> –ø–∞–π–ø–ª–∞–π–Ω —É –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è?</h3>
<p>**<span dir="ltr">CI</span>/<span dir="ltr">CD</span> –ø–∞–π–ø–ª–∞–π–Ω (<span dir="ltr">Continuous</span> <span dir="ltr">Integration</span> / <span dir="ltr">Continuous</span> <span dir="ltr">Delivery</span> –∞–±–æ <span dir="ltr">Continuous</span> <span dir="ltr">Deployment</span>)** ‚Äî —Ü–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–∏–π –ø—Ä–æ—Ü–µ—Å, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞–º —à–≤–∏–¥–∫–æ —Ç–∞ –Ω–∞–¥—ñ–π–Ω–æ –¥–æ—Å—Ç–∞–≤–ª—è—Ç–∏ –∑–º—ñ–Ω–∏ –≤ –∫–æ–¥—ñ –≤ —Ä–æ–±–æ—á–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ (–ø—Ä–æ–¥–∞–∫—à–Ω).</p>
<p>–î–∞–≤–∞–π—Ç–µ —Ä–æ–∑–±–µ—Ä–µ–º–æ –∫–ª—é—á–æ–≤—ñ –ø–æ–Ω—è—Ç—Ç—è:</p>
<p>üîß **<span dir="ltr">CI</span> ‚Äî <span dir="ltr">Continuous</span> <span dir="ltr">Integration</span> (–ë–µ–∑–ø–µ—Ä–µ—Ä–≤–Ω–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è)**</p>
<p>–¶–µ –ø—Ä–∞–∫—Ç–∏–∫–∞, –ø—Ä–∏ —è–∫—ñ–π —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∏ —á–∞—Å—Ç–æ –≤–Ω–æ—Å—è—Ç—å –∑–º—ñ–Ω–∏ –≤ –∑–∞–≥–∞–ª—å–Ω—É –∫–æ–¥–æ–≤—É –±–∞–∑—É. –ö–æ–∂–Ω–∞ —Ç–∞–∫–∞ –∑–º—ñ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:</p>
<li>**–ó–±–∏—Ä–∞—î—Ç—å—Å—è** (<span dir="ltr">build</span>)</li>
<li>**–¢–µ—Å—Ç—É—î—Ç—å—Å—è** (—é–Ω—ñ—Ç-—Ç–µ—Å—Ç–∏, —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏)</li>
<li>**–ü–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è –Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º** (–ª—ñ–Ω—Ç–∏–Ω–≥, —Å—Ç–∞—Ç–∏—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑)</li>
<p>üëâ **–ú–µ—Ç–∞ <span dir="ltr">CI</span>:** –í–∏—è–≤–ª—è—Ç–∏ –ø–æ–º–∏–ª–∫–∏ –Ω–∞ —Å–∞–º–æ–º—É —Ä–∞–Ω–Ω—å–æ–º—É –µ—Ç–∞–ø—ñ, –¥–æ —Ç–æ–≥–æ —è–∫ –≤–æ–Ω–∏ –∑–ª–∞–º–∞—é—Ç—å —â–æ—Å—å –≤–∞–∂–ª–∏–≤–µ –∞–±–æ –ø–æ—Ç—Ä–∞–ø–ª—è—Ç—å —É —Ä–µ–ª—ñ–∑.</p>
<p>üöÄ **<span dir="ltr">CD</span> ‚Äî <span dir="ltr">Continuous</span> <span dir="ltr">Delivery</span> (–ë–µ–∑–ø–µ—Ä–µ—Ä–≤–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞) –∞–±–æ <span dir="ltr">Continuous</span> <span dir="ltr">Deployment</span> (–ë–µ–∑–ø–µ—Ä–µ—Ä–≤–Ω–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è)**</p>
<p>–¢—É—Ç —î –¥–≤–∞ –≤–∞—Ä—ñ–∞–Ω—Ç–∏:</p>
<p>‚úÖ **<span dir="ltr">Continuous</span> <span dir="ltr">Delivery</span> (–ë–µ–∑–ø–µ—Ä–µ—Ä–≤–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞)**</p>
<p>–ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è –µ—Ç–∞–ø—É <span dir="ltr">CI</span>, –∑–º—ñ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:</p>
<li>–ü—Ä–æ—Ö–æ–¥—è—Ç—å –¥–æ–¥–∞—Ç–∫–æ–≤—ñ —Ç–µ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, <span dir="ltr">E2E</span> ‚Äì <span dir="ltr">end</span>-<span dir="ltr">to</span>-<span dir="ltr">end</span> —Ç–µ—Å—Ç–∏)</li>
<li>–ü–æ—Ç—Ä–∞–ø–ª—è—é—Ç—å –Ω–∞ <span dir="ltr">staging</span> (—Ç–µ—Å—Ç–æ–≤–∏–π) —Å–µ—Ä–≤–µ—Ä</li>
<p>üëâ **–ê–ª–µ –¥–µ–ø–ª–æ–π —É –ø—Ä–æ–¥–∞–∫—à–Ω –≤—Å–µ —â–µ –≤–∏–º–∞–≥–∞—î —Ä—É—á–Ω–æ–≥–æ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è.** –¶–µ –¥–∞—î –∫–æ–º–∞–Ω–¥—ñ –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Ç–∏–º, *–∫–æ–ª–∏* —Å–∞–º–µ –∑–º—ñ–Ω–∏ –ø–æ–±–∞—á–∞—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ.</p>
<p>ü§ñ **<span dir="ltr">Continuous</span> <span dir="ltr">Deployment</span> (–ë–µ–∑–ø–µ—Ä–µ—Ä–≤–Ω–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è)**</p>
<p>–¶–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫ –ø—ñ—Å–ª—è <span dir="ltr">Continuous</span> <span dir="ltr">Delivery</span>. –¢—É—Ç –¥–µ–ø–ª–æ–π —É –ø—Ä–æ–¥–∞–∫—à–Ω –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è **–ø–æ–≤–Ω—ñ—Å—Ç—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ**, —è–∫—â–æ –≤—Å—ñ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ –µ—Ç–∞–ø–∏ –ø–∞–π–ø–ª–∞–π–Ω—É (–∑–±—ñ—Ä–∫–∞, –≤—Å—ñ —Ç–µ—Å—Ç–∏) –ø—Ä–æ–π—à–ª–∏ —É—Å–ø—ñ—à–Ω–æ. –¶–µ –Ω–∞–π–ø—Ä–æ—Å—É–Ω—É—Ç—ñ—à–∏–π —Ä—ñ–≤–µ–Ω—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó.</p>
<h3>üîÑ –ó —á–æ–≥–æ –∑–∞–∑–≤–∏—á–∞–π —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è <span dir="ltr">CI</span>/<span dir="ltr">CD</span> –ø–∞–π–ø–ª–∞–π–Ω?</h3>
<p>–¢–∏–ø–æ–≤–∏–π –ø–∞–π–ø–ª–∞–π–Ω –≤–∫–ª—é—á–∞—î –Ω–∞—Å—Ç—É–ø–Ω—ñ –µ—Ç–∞–ø–∏:</p>
<li>**<span dir="ltr">Checkout</span>** ‚Äî –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—å–æ—ó –≤–µ—Ä—Å—ñ—ó –∫–æ–¥—É –∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é.</li>
<li>**<span dir="ltr">Build</span>** ‚Äî –ó–±—ñ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç—É (–∫–æ–º–ø—ñ–ª—è—Ü—ñ—è, –∑–±—ñ—Ä–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ñ–≤, <span dir="ltr">Docker</span>-–æ–±—Ä–∞–∑—ñ–≤).</li>
<li>**<span dir="ltr">Test</span>** ‚Äî –ó–∞–ø—É—Å–∫ —Ä—ñ–∑–Ω–∏—Ö –≤–∏–¥—ñ–≤ —Ç–µ—Å—Ç—ñ–≤ (—é–Ω—ñ—Ç, —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ, <span dir="ltr">E2E</span>).</li>
<li>**<span dir="ltr">Lint</span>/<span dir="ltr">Code</span> <span dir="ltr">Quality</span>** ‚Äî –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–¥—É –Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å —Å—Ç–∏–ª—é —Ç–∞ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ –ø–æ–º–∏–ª–∫–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –∞–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä—ñ–≤.</li>
<li>**<span dir="ltr">Deploy</span>** ‚Äî –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–∏ (–Ω–∞ <span dir="ltr">staging</span> –∞–±–æ <span dir="ltr">production</span> —Å–µ—Ä–≤–µ—Ä).</li>
<li>**<span dir="ltr">Notify</span>** ‚Äî –ù–∞–¥—Å–∏–ª–∞–Ω–Ω—è —Å–ø–æ–≤—ñ—â–µ–Ω—å –ø—Ä–æ —Å—Ç–∞—Ç—É—Å –ø–∞–π–ø–ª–∞–π–Ω—É –∫–æ–º–∞–Ω–¥—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —É <span dir="ltr">Slack</span>, <span dir="ltr">Email</span>).</li>
<h3>üõ† –ü–æ–ø—É–ª—è—Ä–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è <span dir="ltr">CI</span>/<span dir="ltr">CD</span>:</h3>
<li>**<span dir="ltr">GitHub</span> <span dir="ltr">Actions</span>** (–Ω–∞—à —Ñ–æ–∫—É—Å —Å—å–æ–≥–æ–¥–Ω—ñ!)</li>
<li><span dir="ltr">GitLab</span> <span dir="ltr">CI</span>/<span dir="ltr">CD</span></li>
<li><span dir="ltr">Jenkins</span></li>
<li><span dir="ltr">CircleCI</span></li>
<li><span dir="ltr">Bitbucket</span> <span dir="ltr">Pipelines</span></li>
<li><span dir="ltr">Azure</span> <span dir="ltr">DevOps</span></li>
<li><span dir="ltr">TeamCity</span></li>
<h3>üß† –ù–∞–≤—ñ—â–æ –≤–∑–∞–≥–∞–ª—ñ –ø–æ—Ç—Ä—ñ–±–µ–Ω <span dir="ltr">CI</span>/<span dir="ltr">CD</span>?</h3>
<li>**–ó–º–µ–Ω—à—É—î –ª—é–¥—Å—å–∫–∏–π —Ñ–∞–∫—Ç–æ—Ä:** –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è –≤–∏–∫–ª—é—á–∞—î –ø–æ–º–∏–ª–∫–∏, –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ —Ä—É—á–Ω–∏–º–∏ –æ–ø–µ—Ä–∞—Ü—ñ—è–º–∏.</li>
<li>**–®–≤–∏–¥–∫–µ –≤–∏—è–≤–ª–µ–Ω–Ω—è –±–∞–≥—ñ–≤:** –ü–æ–º–∏–ª–∫–∏ –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è —Ä–∞–Ω—ñ—à–µ, —ó—Ö –ø—Ä–æ—Å—Ç—ñ—à–µ —Ç–∞ –¥–µ—à–µ–≤—à–µ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏.</li>
<li>**–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è —Ä—É—Ç–∏–Ω–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å:** –†–æ–∑—Ä–æ–±–Ω–∏–∫–∏ –≤–∏—Ç—Ä–∞—á–∞—é—Ç—å –º–µ–Ω—à–µ —á–∞—Å—É –Ω–∞ –∑–±—ñ—Ä–∫—É —Ç–∞ –¥–µ–ø–ª–æ–π, –±—ñ–ª—å—à–µ ‚Äì –Ω–∞ –∫–æ–¥.</li>
<li>**–ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è —è–∫–æ—Å—Ç—ñ –∫–æ–¥—É:** –ü–æ—Å—Ç—ñ–π–Ω—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–∞ —Ç–µ—Å—Ç–∏ –ø—ñ–¥–≤–∏—â—É—é—Ç—å –∑–∞–≥–∞–ª—å–Ω—É –ø–ª–∞–Ω–∫—É —è–∫–æ—Å—Ç—ñ.</li>
<li>**–®–≤–∏–¥–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∞ —Ñ—ñ—á –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º:** –ù–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –¥–æ—Ö–æ–¥—è—Ç—å –¥–æ –∫—ñ–Ω—Ü–µ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —à–≤–∏–¥—à–µ —Ç–∞ —á–∞—Å—Ç—ñ—à–µ.</li>
<h3>üì¶ –ü—Ä–æ—Å—Ç—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ <span dir="ltr">CI</span>/<span dir="ltr">CD</span> –∑ <span dir="ltr">GitHub</span> <span dir="ltr">Actions</span></h3>
<p>–î–∞–≤–∞–π—Ç–µ –ø–æ–¥–∏–≤–∏–º–æ—Å—è –Ω–∞ –±–∞–∑–æ–≤—ñ –ø–∞–π–ø–ª–∞–π–Ω–∏ –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω–∏—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π. –£—Å—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å <span dir="ltr">GitHub</span> <span dir="ltr">Actions</span> —ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>>.<span dir="ltr">github</span>/<span dir="ltr">workflows</span>/</<span dir="ltr">code</span>></<span dir="ltr">span</span>> –≤–∞—à–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É.</p>
<h4>üêç <span dir="ltr">CI</span>/<span dir="ltr">CD</span> –¥–ª—è <span dir="ltr">Python</span> (–∑ <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">pytest</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> —Ç–∞ <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">flake8</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>)</h4>
<pre class="line-numbers"><code class="language-yaml">
# .github/workflows/python-ci.yml
name: Python CI

on: [push, pull_request]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.11' # –í–∫–∞–∂—ñ—Ç—å –≤–∞—à—É –≤–µ—Ä—Å—ñ—é

      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install -r requirements.txt # –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —É –≤–∞—Å —î requirements.txt
          pip install flake8 pytest

      - name: Lint with flake8
        run: |
          # –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –∫–æ–¥ —É –ø–∞–ø–∫–∞—Ö src —Ç–∞ tests (–∞–¥–∞–ø—Ç—É–π—Ç–µ –ø—ñ–¥ —Å–≤—ñ–π –ø—Ä–æ–µ–∫—Ç)
          flake8 src tests

      - name: Run tests
        run: |
          pytest
</code></pre>
<h4>üåê <span dir="ltr">CI</span>/<span dir="ltr">CD</span> –¥–ª—è <span dir="ltr">Node.js</span> (–∑ <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">npm</span> <span dir="ltr">test</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> —Ç–∞ <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">eslint</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>)</h4>
<pre class="line-numbers"><code class="language-yaml">
# .github/workflows/node-ci.yml
name: Node.js CI

on: [push, pull_request]

jobs:
  build:
    runs-on: ubuntu-latest

    strategy:
      matrix:
        node-version: [18.x] # –í–∫–∞–∂—ñ—Ç—å –≤–∞—à—É –≤–µ—Ä—Å—ñ—é Node.js

    steps:
      - uses: actions/checkout@v3

      - name: Use Node.js ${{ matrix.node-version }}
        uses: actions/setup-node@v4
        with:
          node-version: ${{ matrix.node-version }}

      - name: Install dependencies
        run: npm install # –∞–±–æ npm ci –¥–ª—è –±—ñ–ª—å—à –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–æ—ó —É—Å—Ç–∞–Ω–æ–≤–∫–∏

      - name: Lint with ESLint
        run: npx eslint . # –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ ESLint –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π —É –ø—Ä–æ–µ–∫—Ç—ñ

      - name: Run tests
        run: npm test
</code></pre>
<h4>üê≥ <span dir="ltr">CI</span>/<span dir="ltr">CD</span> –¥–ª—è <span dir="ltr">Docker</span> (–∑–±—ñ—Ä–∫–∞ —Ç–∞ –ø—É—à —É <span dir="ltr">Docker</span> <span dir="ltr">Hub</span>)</h4>
<p>–î–ª—è —Ü—å–æ–≥–æ –ø—Ä–∏–∫–ª–∞–¥—É –≤–∞–º –∑–Ω–∞–¥–æ–±–ª—è—Ç—å—Å—è —Å–µ–∫—Ä–µ—Ç–∏ <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">DOCKER_USERNAME</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> —Ç–∞ <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">DOCKER_PASSWORD</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> (–∞–±–æ —Ç–æ–∫–µ–Ω) —É –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è—Ö –≤–∞—à–æ–≥–æ <span dir="ltr">GitHub</span> —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é (<<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">Settings</span> -> <span dir="ltr">Secrets</span> <span dir="ltr">and</span> <span dir="ltr">variables</span> -> <span dir="ltr">Actions</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>).</p>
<pre class="line-numbers"><code class="language-yaml">
# .github/workflows/docker-ci.yml
name: Docker CI/CD

on:
  push:
    branches: [ main ] # –ó–∞–ø—É—Å–∫–∞—î–º–æ —Ç—ñ–ª—å–∫–∏ –¥–ª—è main –≥—ñ–ª–∫–∏

jobs:
  docker:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3

      - name: Log in to Docker Hub
        run: echo "${{ secrets.DOCKER_PASSWORD }}" | docker login -u "${{ secrets.DOCKER_USERNAME }}" --password-stdin

      - name: Build Docker image
        # –ó–∞–º—ñ–Ω—ñ—Ç—å myapp –Ω–∞ –Ω–∞–∑–≤—É –≤–∞—à–æ—ó –ø—Ä–æ–≥—Ä–∞–º–∏
        run: docker build -t ${{ secrets.DOCKER_USERNAME }}/myapp:latest .

      - name: Push Docker image
        run: docker push ${{ secrets.DOCKER_USERNAME }}/myapp:latest
</code></pre>
<h3>üöö –î–µ–ø–ª–æ–π –Ω–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ñ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏</h3>
<p>–¢–µ–ø–µ—Ä, –∫–æ–ª–∏ —É –Ω–∞—Å —î –∑—ñ–±—Ä–∞–Ω—ñ —Ç–∞ –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω—ñ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, <span dir="ltr">Docker</span>-–æ–±—Ä–∞–∑), –¥–∞–≤–∞–π—Ç–µ –ø–æ–¥–∏–≤–∏–º–æ—Å—è, —è–∫ —ó—Ö –º–æ–∂–Ω–∞ —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏.</p>
<h4>üü£ –î–µ–ø–ª–æ–π –Ω–∞ <span dir="ltr">Heroku</span></h4>
<p>**üîê –°–µ–∫—Ä–µ—Ç–∏ <span dir="ltr">GitHub</span>:** <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">HEROKU_API_KEY</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>, <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">HEROKU_APP_NAME</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>.</p>
<pre class="line-numbers"><code class="language-yaml">
# .github/workflows/deploy-heroku.yml
name: Deploy to Heroku

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Install Heroku CLI
        run: curl https://cli-assets.heroku.com/install.sh | sh
      - name: Login to Heroku
        env:
          HEROKU_API_KEY: ${{ secrets.HEROKU_API_KEY }}
        run: heroku auth:token
      - name: Deploy to Heroku
        env:
          HEROKU_API_KEY: ${{ secrets.HEROKU_API_KEY }}
        run: |
          heroku git:remote -a ${{ secrets.HEROKU_APP_NAME }}
          git push heroku main -f # –ë—É–¥—å—Ç–µ –æ–±–µ—Ä–µ–∂–Ω—ñ –∑ -f (force push)
</code></pre>
<p>–Ø–∫—â–æ –≤–∏ –¥–µ–ø–ª–æ—ó—Ç–µ <span dir="ltr">Docker</span>-–æ–±—Ä–∞–∑ –Ω–∞ <span dir="ltr">Heroku</span>:</p>
<pre class="line-numbers"><code class="language-yaml">
# ... (–∫—Ä–æ–∫–∏ build —Ç–∞ login to Docker Hub/GHCR –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –ø—Ä–∏–∫–ª–∞–¥—ñ–≤) ...
# deploy:
#   name: Deploy to Heroku
#   needs: build # –ó–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –¥–∂–æ–±—É –∑–±—ñ—Ä–∫–∏ –æ–±—Ä–∞–∑—É
#   runs-on: ubuntu-latest
#   steps:
#     # ...
#     - name: Login to Heroku container registry
#       run: echo "${{ secrets.HEROKU_API_KEY }}" | docker login --username=_ --password-stdin registry.heroku.com
#     - name: Tag image for Heroku
#       # –ü—Ä–∏–ø—É—Å–∫–∞—î–º–æ, —â–æ –æ–±—Ä–∞–∑ –∑—ñ–±—Ä–∞–Ω–∏–π —è–∫ ghcr.io/username/repo/myapp:latest
#       run: docker tag ghcr.io/${{ github.repository_owner }}/${{ github.event.repository.name }}/myapp:latest registry.heroku.com/${{ secrets.HEROKU_APP_NAME }}/web
#     - name: Push image to Heroku
#       run: docker push registry.heroku.com/${{ secrets.HEROKU_APP_NAME }}/web
#     - name: Release Heroku App
#       env:
#         HEROKU_API_KEY: ${{ secrets.HEROKU_API_KEY }}
#       run: heroku container:release web --app ${{ secrets.HEROKU_APP_NAME }}
</code></pre>
<h4>üü® –î–µ–ø–ª–æ–π –Ω–∞ <span dir="ltr">AWS</span> (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Å—Ç–∞—Ç–∏–∫–∞ –≤ <span dir="ltr">S3</span>)</h4>
<p>**üîê –°–µ–∫—Ä–µ—Ç–∏ <span dir="ltr">GitHub</span>:** <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">AWS_ACCESS_KEY_ID</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>, <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">AWS_SECRET_ACCESS_KEY</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>, <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">AWS_REGION</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>, <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">S3_BUCKET_NAME</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>.</p>
<pre class="line-numbers"><code class="language-yaml">
# .github/workflows/deploy-aws-s3.yml
name: Deploy Static Site to AWS S3

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Configure AWS credentials
        uses: aws-actions/configure-aws-credentials@v4
        with:
          aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY_ID }}
          aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
          aws-region: ${{ secrets.AWS_REGION }}
      - name: Sync files to S3
        # –ó–∞–º—ñ–Ω—ñ—Ç—å ./public –Ω–∞ —à–ª—è—Ö –¥–æ –≤–∞—à–∏—Ö —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤
        run: aws s3 sync ./public s3://${{ secrets.S3_BUCKET_NAME }} --delete
</code></pre>
<p>–î–ª—è –¥–µ–ø–ª–æ—é –Ω–∞ **<span dir="ltr">AWS</span> <span dir="ltr">Elastic</span> <span dir="ltr">Beanstalk</span>** –∑–∞–∑–≤–∏—á–∞–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è <span dir="ltr">EB</span> <span dir="ltr">CLI</span>, –ø–∞–π–ø–ª–∞–π–Ω –±—É–¥–µ —Å—Ö–æ–∂–∏–π, –∞–ª–µ –∑ –∫–æ–º–∞–Ω–¥–∞–º–∏ <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">eb</span> <span dir="ltr">deploy</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>.</p>
<h4>üîµ –î–µ–ø–ª–æ–π –Ω–∞ <span dir="ltr">Google</span> <span dir="ltr">Cloud</span> <span dir="ltr">Platform</span> (<span dir="ltr">GCP</span> <span dir="ltr">App</span> <span dir="ltr">Engine</span>)</h4>
<p>**üîê –°–µ–∫—Ä–µ—Ç–∏ <span dir="ltr">GitHub</span>:** <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">GCP_CREDENTIALS</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> (<span dir="ltr">JSON</span> –∫–ª—é—á —Å–µ—Ä–≤—ñ—Å-–∞–∫–∞—É–Ω—Ç—É), <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">GCP_PROJECT_ID</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>.</p>
<pre class="line-numbers"><code class="language-yaml">
# .github/workflows/deploy-gcp-app-engine.yml
name: Deploy to GCP App Engine

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Set up Cloud SDK
        uses: google-github-actions/setup-gcloud@v2
        with:
          project_id: ${{ secrets.GCP_PROJECT_ID }}
          service_account_key: ${{ secrets.GCP_CREDENTIALS }}
          export_default_credentials: true
      - name: Deploy to App Engine
        # –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —É –≤–∞—Å —î app.yaml —É –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É
        run: gcloud app deploy --quiet
</code></pre>
<h4>üü™ –î–µ–ø–ª–æ–π –Ω–∞ <span dir="ltr">Render.com</span></h4>
<p><span dir="ltr">Render</span> —á–∞—Å—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–µ–ø–ª–æ—ó—Ç—å –ø—Ä–∏ <span dir="ltr">push</span> —É <span dir="ltr">GitHub</span>, —è–∫—â–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –ø—ñ–¥–∫–ª—é—á–µ–Ω–∏–π. –ê–ª–µ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ç—Ä–∏–≥–µ—Ä–∞ (–∞–±–æ —è–∫ —á–∞—Å—Ç–∏–Ω–∞ –±—ñ–ª—å—à —Å–∫–ª–∞–¥–Ω–æ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω—É) –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ <span dir="ltr">Deploy</span> <span dir="ltr">Hook</span>.</p>
<p>**üîê –°–µ–∫—Ä–µ—Ç–∏ <span dir="ltr">GitHub</span>:** <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">RENDER_DEPLOY_HOOK</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> (<span dir="ltr">URL</span>, –æ—Ç—Ä–∏–º–∞–Ω–∏–π –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å —Å–µ—Ä–≤—ñ—Å—É –≤ <span dir="ltr">Render</span>).</p>
<pre class="line-numbers"><code class="language-yaml">
# .github/workflows/deploy-render.yml
name: Trigger Render Deploy

on:
  workflow_dispatch: # –†—É—á–Ω–∏–π –∑–∞–ø—É—Å–∫ –∑ UI GitHub

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger Render Deploy Hook
        run: curl -X POST ${{ secrets.RENDER_DEPLOY_HOOK }}
</code></pre>
<h3>üåü –ü—Ä–æ—Å—É–Ω—É—Ç–∏–π <span dir="ltr">CI</span>/<span dir="ltr">CD</span>: <span dir="ltr">Build</span> <span dir="ltr">Docker</span> ‚Üí <span dir="ltr">Push</span> —É <span dir="ltr">GHCR</span> ‚Üí <span dir="ltr">Staging</span>/<span dir="ltr">Production</span> –Ω–∞ <span dir="ltr">GCP</span> <span dir="ltr">Cloud</span> <span dir="ltr">Run</span></h3>
<p>–ê —Ç–µ–ø–µ—Ä –≤–∏—à–µ–Ω—å–∫–∞ –Ω–∞ —Ç–æ—Ä—Ç—ñ! –ó–±–µ—Ä–µ–º–æ –ø—Ä–æ—Å—É–Ω—É—Ç–∏–π –ø–∞–π–ø–ª–∞–π–Ω:</p>
<li>–ó–±—ñ—Ä–∫–∞ <span dir="ltr">Docker</span>-–æ–±—Ä–∞–∑—É.</li>
<li>–ü—É–±–ª—ñ–∫–∞—Ü—ñ—è –æ–±—Ä–∞–∑—É –≤ <span dir="ltr">GitHub</span> <span dir="ltr">Container</span> <span dir="ltr">Registry</span> (<span dir="ltr">ghcr.io</span>).</li>
<li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –¥–µ–ø–ª–æ–π —É **<span dir="ltr">staging</span>** —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ –Ω–∞ <span dir="ltr">GCP</span> <span dir="ltr">Cloud</span> <span dir="ltr">Run</span>.</li>
<li>–î–µ–ø–ª–æ–π —É **<span dir="ltr">production</span>** —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ –Ω–∞ <span dir="ltr">GCP</span> <span dir="ltr">Cloud</span> <span dir="ltr">Run</span> **–ø—ñ—Å–ª—è —Ä—É—á–Ω–æ–≥–æ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è**.</li>
<p>–î–ª—è —Ü—å–æ–≥–æ –Ω–∞–º –∑–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –∫—ñ–ª—å–∫–∞ —Ñ–∞–π–ª—ñ–≤ –≤–æ—Ä–∫—Ñ–ª–æ—É.</p>
<p>**–ù–µ–æ–±—Ö—ñ–¥–Ω—ñ —Å–µ–∫—Ä–µ—Ç–∏ <span dir="ltr">GitHub</span>:**</p>
<li><<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">GCP_PROJECT_ID</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>: <span dir="ltr">ID</span> –≤–∞—à–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É –≤ <span dir="ltr">GCP</span>.</li>
<li><<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">GCP_CREDENTIALS</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>: <span dir="ltr">JSON</span>-–∫–ª—é—á —Å–µ—Ä–≤—ñ—Å-–∞–∫–∞—É–Ω—Ç—É <span dir="ltr">GCP</span> –∑ –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ –¥–µ–ø–ª–æ–π —É <span dir="ltr">Cloud</span> <span dir="ltr">Run</span> —Ç–∞ –¥–æ—Å—Ç—É–ø –¥–æ <span dir="ltr">GHCR</span> (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ). –ó–∞–∑–≤–∏—á–∞–π <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">GITHUB_TOKEN</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ <span dir="ltr">GHCR</span> –∑ <span dir="ltr">Actions</span>.</li>
<li><<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">GCP_REGION</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>: –†–µ–≥—ñ–æ–Ω –¥–ª—è <span dir="ltr">Cloud</span> <span dir="ltr">Run</span> (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">europe</span>-<span dir="ltr">west1</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>).</li>
<h4>1. –ó–±—ñ—Ä–∫–∞ —Ç–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è <span dir="ltr">Docker</span>-–æ–±—Ä–∞–∑—É –≤ <span dir="ltr">GHCR</span></h4>
<pre class="line-numbers"><code class="language-yaml">
# .github/workflows/build.yml
name: Build & Push to GHCR

on:
  push:
    branches: [main]

jobs:
  build-and-push:
    runs-on: ubuntu-latest
    permissions:
      contents: read      # –î–ª—è checkout
      packages: write     # –î–ª—è –ø—É—à—É –≤ GHCR

    steps:
      - uses: actions/checkout@v3

      - name: Log in to GitHub Container Registry
        uses: docker/login-action@v3
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Build and push Docker image
        uses: docker/build-push-action@v5
        with:
          context: .
          push: true
          tags: ghcr.io/${{ github.repository_owner }}/${{ github.event.repository.name }}/myapp:latest
          # –ú–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ —Ç–µ–≥—É–≤–∞–Ω–Ω—è –∑–∞ SHA –∫–æ–º—ñ—Ç—É –¥–ª—è —É–Ω—ñ–∫–∞–ª—å–Ω–æ—Å—Ç—ñ:
          # tags: |
          #   ghcr.n/github.repository_owner }}/${{ github.event.repository.name }}/myapp:latest
          #   ghcr.io/${{ github.repository_owner }}/${{ github.event.repository.name }}/myapp:${{ github.sha }}
</code></pre>
<li><<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">github.repository_owner</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>: –í–ª–∞—Å–Ω–∏–∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é (–≤–∞—à <span dir="ltr">username</span> –∞–±–æ –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó).</li>
<li><<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">github.event.repository.name</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>: –ù–∞–∑–≤–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é.</li>
<li><<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">myapp</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>: –ù–∞–∑–≤–∞ –≤–∞—à–æ—ó –ø—Ä–æ–≥—Ä–∞–º–∏/–æ–±—Ä–∞–∑—É.</li>
<h4>2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –¥–µ–ø–ª–æ–π —É <span dir="ltr">Staging</span> (<span dir="ltr">GCP</span> <span dir="ltr">Cloud</span> <span dir="ltr">Run</span>)</h4>
<p>–¶–µ–π –≤–æ—Ä–∫—Ñ–ª–æ—É –±—É–¥–µ –∑–∞–ø—É—Å–∫–∞—Ç–∏—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">build.yml</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>.</p>
<pre class="line-numbers"><code class="language-yaml">
# .github/workflows/deploy-staging.yml
name: Deploy to GCP Cloud Run (Staging)

on:
  workflow_run:
    workflows: ["Build & Push to GHCR"] # –ù–∞–∑–≤–∞ –≤–æ—Ä–∫—Ñ–ª–æ—É –∑–±—ñ—Ä–∫–∏
    types:
      - completed

jobs:
  deploy-staging:
    runs-on: ubuntu-latest
    # –ó–∞–ø—É—Å–∫–∞—î–º–æ —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ –≤–æ—Ä–∫—Ñ–ª–æ—É –∑–±—ñ—Ä–∫–∏ –∑–∞–≤–µ—Ä—à–∏–≤—Å—è —É—Å–ø—ñ—à–Ω–æ
    if: ${{ github.event.workflow_run.conclusion == 'success' }}

    # –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ GitHub Environments –¥–ª—è staging (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ, –∞–ª–µ —Ö–æ—Ä–æ—à–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞)
    environment:
      name: staging
      url: ${{ steps.deploy.outputs.url }} # URL –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é

    steps:
      - uses: actions/checkout@v3

      - id: 'auth'
        uses: 'google-github-actions/auth@v2'
        with:
          credentials_json: '${{ secrets.GCP_CREDENTIALS }}'

      - name: 'Deploy to Cloud Run (Staging)'
        id: deploy
        uses: 'google-github-actions/deploy-cloudrun@v2'
        with:
          service: 'myapp-staging' # –ù–∞–∑–≤–∞ –≤–∞—à–æ–≥–æ staging —Å–µ—Ä–≤—ñ—Å—É –≤ Cloud Run
          region: '${{ secrets.GCP_REGION }}'
          # –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –æ–±—Ä–∞–∑, —è–∫–∏–π –±—É–≤ –∑–∞–ø—É—à–µ–Ω–∏–π –≤ build.yml
          image: 'ghcr.io/${{ github.repository_owner }}/${{ github.event.repository.name }}/myapp:latest'
          project_id: '${{ secrets.GCP_PROJECT_ID }}'
          flags: '--allow-unauthenticated --platform=managed' # –î–æ–∑–≤–æ–ª—è—î–º–æ –Ω–µ–∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π –¥–æ—Å—Ç—É–ø –¥–ª—è –ø—Ä–∏–∫–ª–∞–¥—É
</code></pre>
<h4>3. –î–µ–ø–ª–æ–π —É <span dir="ltr">Production</span> –∑ —Ä—É—á–Ω–∏–º –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è–º (<span dir="ltr">GCP</span> <span dir="ltr">Cloud</span> <span dir="ltr">Run</span>)</h4>
<p>–¶–µ–π –≤–æ—Ä–∫—Ñ–ª–æ—É –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –≤—Ä—É—á–Ω—É —á–µ—Ä–µ–∑ <span dir="ltr">UI</span> <span dir="ltr">GitHub</span> <span dir="ltr">Actions</span>.</p>
<pre class="line-numbers"><code class="language-yaml">
# .github/workflows/deploy-prod.yml
name: Deploy to GCP Cloud Run (Production)

on:
  workflow_dispatch: # –†—É—á–Ω–∏–π –∑–∞–ø—É—Å–∫

jobs:
  deploy-production:
    runs-on: ubuntu-latest

    environment:
      name: production
      url: ${{ steps.deploy.outputs.url }}

    steps:
      - uses: actions/checkout@v3

      - id: 'auth'
        uses: 'google-github-actions/auth@v2'
        with:
          credentials_json: '${{ secrets.GCP_CREDENTIALS }}'

      - name: 'Deploy to Cloud Run (Production)'
        id: deploy
        uses: 'google-github-actions/deploy-cloudrun@v2'
        with:
          service: 'myapp-production' # –ù–∞–∑–≤–∞ –≤–∞—à–æ–≥–æ production —Å–µ—Ä–≤—ñ—Å—É
          region: '${{ secrets.GCP_REGION }}'
          image: 'ghcr.io/${{ github.repository_owner }}/${{ github.event.repository.name }}/myapp:latest' # –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Ç–æ–π —Å–∞–º–∏–π 'latest' –æ–±—Ä–∞–∑
          project_id: '${{ secrets.GCP_PROJECT_ID }}'
          flags: '--allow-unauthenticated --platform=managed'
          # –î–ª—è production –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ --no-traffic —ñ –ø–æ—Ç—ñ–º –ø–æ—Å—Ç—É–ø–æ–≤–æ –ø–µ—Ä–µ–º–∏–∫–∞—Ç–∏ —Ç—Ä–∞—Ñ—ñ–∫
          # traffic:
          #   latest: true
          #   percent: 100
</code></pre>
<p>**–í–∞–∂–ª–∏–≤—ñ –º–æ–º–µ–Ω—Ç–∏ —Ü—å–æ–≥–æ –ø—Ä–æ—Å—É–Ω—É—Ç–æ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω—É:**</p>
<li>**<span dir="ltr">GitHub</span> <span dir="ltr">Container</span> <span dir="ltr">Registry</span> (<span dir="ltr">ghcr.io</span>):** –ú–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –π–æ–≥–æ –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è <span dir="ltr">Docker</span>-–æ–±—Ä–∞–∑—ñ–≤. –¶–µ –∑—Ä—É—á–Ω–æ, –æ—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω —Ç—ñ—Å–Ω–æ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∏–π –∑ <span dir="ltr">GitHub</span> <span dir="ltr">Actions</span>.</li>
<li>**<<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">workflow_run</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>:** –î–æ–∑–≤–æ–ª—è—î –∑–∞–ø—É—Å–∫–∞—Ç–∏ –æ–¥–∏–Ω –≤–æ—Ä–∫—Ñ–ª–æ—É (–¥–µ–ø–ª–æ–π –Ω–∞ <span dir="ltr">staging</span>) –ø–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ñ —ñ–Ω—à–æ–≥–æ (–∑–±—ñ—Ä–∫–∞).</li>
<li>**<<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">workflow_dispatch</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>:** –î–∞—î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É –≤–æ—Ä–∫—Ñ–ª–æ—É (–¥–µ–ø–ª–æ–π –Ω–∞ <span dir="ltr">production</span>), —â–æ –∑–∞–±–µ–∑–ø–µ—á—É—î –∫–æ–Ω—Ç—Ä–æ–ª—å.</li>
<li>**<span dir="ltr">GitHub</span> <span dir="ltr">Environments</span>:** –î–æ–∑–≤–æ–ª—è—é—Ç—å –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ –∑–∞—Ö–∏—Å—Ç—É –¥–ª—è <span dir="ltr">production</span> (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∏–º–∞–≥–∞—Ç–∏ —Å—Ö–≤–∞–ª–µ–Ω–Ω—è –≤—ñ–¥ –ø–µ–≤–Ω–∏—Ö —Ä–µ–≤'—é–µ—Ä—ñ–≤) —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –¥–ª—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ —Å–µ–∫—Ä–µ—Ç–∏.</li>
<li>**<span dir="ltr">GCP</span> <span dir="ltr">Cloud</span> <span dir="ltr">Run</span>:** –í—ñ–¥–º—ñ–Ω–Ω–∏–π <span dir="ltr">serverless</span>-–≤–∞—Ä—ñ–∞–Ω—Ç –¥–ª—è –∑–∞–ø—É—Å–∫—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–æ–≤–∞–Ω–∏—Ö –ø—Ä–æ–≥—Ä–∞–º.</li>
<h3>üîê –ë–µ–∑–ø–µ–∫–∞ ‚Äì —Ü–µ –≤–∞–∂–ª–∏–≤–æ!</h3>
<li>**–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ <span dir="ltr">GitHub</span> <span dir="ltr">Secrets</span>:** –ù—ñ–∫–æ–ª–∏ –Ω–µ –∑–±–µ—Ä—ñ–≥–∞–π—Ç–µ —Ç–æ–∫–µ–Ω–∏, –ø–∞—Ä–æ–ª—ñ, –∫–ª—é—á—ñ <span dir="ltr">API</span> –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ <span dir="ltr">YAML</span>-—Ñ–∞–π–ª–∞—Ö. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">Settings</span> -> <span dir="ltr">Secrets</span> <span dir="ltr">and</span> <span dir="ltr">variables</span> -> <span dir="ltr">Actions</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> —É –≤–∞—à–æ–º—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó.</li>
<li>**–ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –ø—Ä–∏–≤—ñ–ª–µ—ó:** –î–ª—è —Å–µ—Ä–≤—ñ—Å-–∞–∫–∞—É–Ω—Ç—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, <span dir="ltr">GCP</span>) –Ω–∞–¥–∞–≤–∞–π—Ç–µ –ª–∏—à–µ —Ç—ñ –ø—Ä–∞–≤–∞, —è–∫—ñ –¥—ñ–π—Å–Ω–æ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å <span dir="ltr">CI</span>/<span dir="ltr">CD</span>.</li>
<li>**–Ü–∑–æ–ª—é–π—Ç–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞:** <span dir="ltr">Staging</span> —Ç–∞ <span dir="ltr">Production</span> –ø–æ–≤–∏–Ω–Ω—ñ –±—É—Ç–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —ñ–∑–æ–ª—å–æ–≤–∞–Ω—ñ. –†—ñ–∑–Ω—ñ –ø—Ä–æ–µ–∫—Ç–∏/–∞–∫–∞—É–Ω—Ç–∏ –≤ —Ö–º–∞—Ä–Ω–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞—Ö ‚Äì —Ö–æ—Ä–æ—à–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞.</li>
<li>**–ó–∞—Ö–∏—Å—Ç –≥—ñ–ª–æ–∫:** –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∑–∞—Ö–∏—Å—Ç –¥–ª—è <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">main</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> (–∞–±–æ <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">master</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>) –≥—ñ–ª–∫–∏, —â–æ–± –ø—É—à–∏—Ç–∏ –≤ –Ω–µ—ó –º–æ–∂–Ω–∞ –±—É–ª–æ –ª–∏—à–µ —á–µ—Ä–µ–∑ <span dir="ltr">Pull</span> <span dir="ltr">Request</span> –∑ –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–º–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞–º–∏ <span dir="ltr">CI</span>.</li>
