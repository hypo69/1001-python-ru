<h1>Sistemas de numeraciÃ³n</h1>
<p>Â¡Hola! Comencemos nuestra inmersiÃ³n en el fascinante mundo de los sistemas de numeraciÃ³n. Â¡PrepÃ¡rate, hoy aprenderÃ¡s muchas cosas nuevas e interesantes!</p>
<h1>Sistemas de numeraciÃ³n</h1>
<p><strong>1. Sistema de numeraciÃ³n abstracto</strong></p>
<p>Imagina que los nÃºmeros son como palabras que se pueden escribir con diferentes "letras". No importa cÃ³mo denotemos los nÃºmeros, lo principal es que se cumplan ciertas reglas:</p>
<ul>
<li><strong>Base:</strong> Es la cantidad de sÃ­mbolos (dÃ­gitos) Ãºnicos que usamos. Denotemos la base como <code>b</code>. Por ejemplo, en el sistema decimal, la base es 10.</li>
<li><strong>DÃ­gitos:</strong> Son los sÃ­mbolos que usamos para escribir nÃºmeros. Normalmente son dÃ­gitos arÃ¡bigos (0, 1, 2, 3, ...), pero tambiÃ©n se pueden usar otros sÃ­mbolos, por ejemplo, letras latinas (I, V, X) o incluso frutas (ğŸ, ğŸ, ğŸ‰).</li>
<li><strong>PosiciÃ³n:</strong> Cada dÃ­gito en la representaciÃ³n de un nÃºmero tiene su propia posiciÃ³n, lo que afecta su valor. Esto significa que el mismo dÃ­gito puede tener un valor diferente dependiendo de dÃ³nde se encuentre en el nÃºmero.</li>
<li><strong>Ã“rdenes:</strong> Cada posiciÃ³n se llama orden (por ejemplo, unidades, decenas, centenas, etc.). En cada posiciÃ³n, el valor del dÃ­gito se multiplica por la base elevada a la potencia correspondiente a su nÃºmero de orden.</li>
</ul>
<p><strong>Â¿CÃ³mo se construye un sistema de numeraciÃ³n?</strong></p>
<ol>
<li><strong>ElecciÃ³n de la base:</strong> Elegimos un nÃºmero entero <code>b</code> que serÃ¡ la base de nuestro sistema.</li>
<li><strong>ElecciÃ³n de los dÃ­gitos:</strong> Necesitamos <code>b</code> dÃ­gitos Ãºnicos. Normalmente son 0, 1, 2, ..., <code>b-1</code>. Por ejemplo, para el sistema binario (base 2), tenemos los dÃ­gitos 0 y 1.</li>
<li><strong>Escritura de un nÃºmero:</strong> Un nÃºmero se escribe como una secuencia de dÃ­gitos. El valor de cada dÃ­gito se multiplica por la base, elevada a la potencia igual a su posiciÃ³n (comenzando desde 0 a la derecha).</li>
</ol>
<p><strong>FÃ³rmula para calcular el valor de un nÃºmero:</strong></p>
<p>Si tenemos un nÃºmero escrito como una secuencia de dÃ­gitos <code>dâ‚™ dâ‚™â‚‹â‚ ... dâ‚ dâ‚€</code>, entonces su valor en el sistema decimal se puede calcular con la fÃ³rmula:</p>
<p><code>valor = dâ‚™ * bâ¿ + dâ‚™â‚‹â‚ * bâ¿â»Â¹ + ... + dâ‚ * bÂ¹ + dâ‚€ * bâ°</code></p>
<p>Donde:</p>
<ul>
<li><code>dáµ¢</code> - dÃ­gito en el i-Ã©simo orden</li>
<li><code>b</code> - base del sistema de numeraciÃ³n</li>
<li><code>i</code> - nÃºmero de orden (de derecha a izquierda, comenzando desde 0)</li>
</ul>
<p><strong>Ejemplo:</strong></p>
<p>Supongamos que tenemos el nÃºmero 123 en el sistema decimal (base 10). SegÃºn la fÃ³rmula:</p>
<p><code>1 * 10Â² + 2 * 10Â¹ + 3 * 10â° = 100 + 20 + 3 = 123</code></p>
<p><strong>Ã“rdenes de numeraciÃ³n (posiciones):</strong></p>
<p>Los Ã³rdenes, como ya hemos dicho, son las posiciones de los dÃ­gitos en un nÃºmero, cada posiciÃ³n tiene su propio peso, que se determina por la base elevada a la potencia de su nÃºmero ordinal.</p>
<ul>
<li><code>dâ‚€</code>: unidades (<code>bâ°</code>)</li>
<li><code>dâ‚</code>: <code>b</code> (<code>bÂ¹</code>)</li>
<li><code>dâ‚‚</code>: <code>bÂ²</code>)</li>
<li><code>dâ‚ƒ</code>: <code>bÂ³</code>)</li>
<li>y asÃ­ sucesivamente</li>
</ul>
<p><strong>Reglas:</strong></p>
<ol>
<li><strong>Rango de dÃ­gitos:</strong> Se utilizan dÃ­gitos del 0 a <code>b-1</code>.</li>
<li><strong>Principio posicional:</strong> El valor de un dÃ­gito depende de su posiciÃ³n.</li>
<li><strong>TransiciÃ³n al siguiente orden:</strong> Cuando se alcanza el valor <code>b</code> en un orden, se produce un acarreo al siguiente orden (anÃ¡logo a cÃ³mo despuÃ©s del 9 en el sistema decimal se suma 1 al siguiente orden y se obtiene 10).</li>
</ol>
<h2>Ejemplo: Sistema de numeraciÃ³n de frutas</h2>
<p>Consideremos un ejemplo de un sistema de numeraciÃ³n abstracto con frutas:</p>
<ul>
<li>ğŸ (manzana)</li>
<li>ğŸ (pera)</li>
<li>ğŸ‰ (melÃ³n)</li>
<li>ğŸ§º (cesta)</li>
</ul>
<p><strong>Reglas:</strong></p>
<ol>
<li>3 ğŸ = 1 ğŸ</li>
<li>5 ğŸ = 3 ğŸ‰</li>
<li>2 ğŸ‰ = 1 ğŸ§º</li>
</ol>
<p><strong>RepresentaciÃ³n de nÃºmeros:</strong></p>
<p>Representaremos la cantidad de frutas como una cadena, donde cada sÃ­mbolo Unicode corresponde a una fruta. Por ejemplo, "ğŸğŸğŸ" son 3 manzanas, y "ğŸ‰ğŸ‰" son 2 melones.</p>
<p><strong>Operaciones aritmÃ©ticas:</strong></p>
<p>Podemos realizar operaciones de suma y resta. Primero, hagamos la suma.</p>
<p><strong>CÃ³digo Python:</strong></p>
<pre class="line-numbers"><code class="language-python">

def normalize_fruits(fruits: str) -> str:
    """
    Normalizes a string of fruits, bringing it to its minimum representation,
    using the fruit exchange rules.

    Args:
        fruits: String of fruits (ğŸ, ğŸ, ğŸ‰, ğŸ§º).

    Returns:
        String with the normalized fruit count.
    """
    apples = fruits.count('ğŸ')
    pears = fruits.count('ğŸ')
    melons = fruits.count('ğŸ‰')
    baskets = fruits.count('ğŸ§º')

    # Convert apples to pears
    pears += apples // 3
    apples %= 3

    # Convert pears to melons
    melons += (pears * 3) // 5
    pears %= 5

    # Convert melons to baskets
    baskets += melons // 2
    melons %= 2

    # Reassemble the string, first baskets, then melons, pears, apples
    return (
        "ğŸ§º" * baskets
        + "ğŸ‰" * melons
        + "ğŸ" * pears
        + "ğŸ" * apples
    )

def add_fruits(fruits1: str, fruits2: str) -> str:
    """
    Sums two fruit strings.

    Args:
        fruits1: Fruit string.
        fruits2: Fruit string.

    Returns:
        String with the sum of fruits.
    """
    return normalize_fruits(fruits1 + fruits2)

def sub_fruits(fruits1: str, fruits2: str) -> str:
    """
    Subtracts the second fruit string from the first, if possible.

    Args:
        fruits1: Fruit string, from which we subtract.
        fruits2: Fruit string, which we subtract.

    Returns:
        String with the fruit difference or "Cannot subtract", if the result is negative.
    """

    apples1 = fruits1.count('ğŸ')
    pears1 = fruits1.count('ğŸ')
    melons1 = fruits1.count('ğŸ‰')
    baskets1 = fruits1.count('ğŸ§º')

    apples2 = fruits2.count('ğŸ')
    pears2 = fruits2.count('ğŸ')
    melons2 = fruits2.count('ğŸ‰')
    baskets2 = fruits2.count('ğŸ§º')


    # Temporary representation as total number of apples
    total_apples1 = apples1 + pears1 * 3 + melons1 * 15 // 3 + baskets1 * 30
    total_apples2 = apples2 + pears2 * 3 + melons2 * 15 // 3 + baskets2 * 30

    if total_apples1 < total_apples2:
        return "No se puede restar"
    else:
        total_apples = total_apples1 - total_apples2

    # Return the normalized representation of the sum of apples
    result_fruits = ""
    baskets = total_apples // 30
    result_fruits += "ğŸ§º" * baskets
    total_apples %= 30
    melons = (total_apples*3) // 15
    result_fruits += "ğŸ‰" * melons
    total_apples %= 15
    pears = total_apples // 3
    result_fruits += "ğŸ" * pears
    total_apples %= 3
    result_fruits += "ğŸ" * total_apples

    return normalize_fruits(result_fruits)

# --- Usage examples ---

print("--- Sistemas de numeraciÃ³n ---")
binary_number = "1011"
decimal_number = bin_to_dec(binary_number)
print(f"Binario {binary_number} = Decimal {decimal_number}")

decimal_number = 11
binary_number = dec_to_bin(decimal_number)
print(f"Decimal {decimal_number} = Binario {binary_number}")

ternary_number = "210"
decimal_number = ternary_to_dec(ternary_number)
print(f"Ternario {ternary_number} = Decimal {decimal_number}")

decimal_number = 21
ternary_number = dec_to_ternary(decimal_number)
print(f"Decimal {decimal_number} = Ternario {ternary_number}")

septenary_number = "345"
decimal_number = septenary_to_dec(septenary_number)
print(f"Septenario {septenary_number} = Decimal {decimal_number}")

decimal_number = 180
septenary_number = dec_to_septenary(decimal_number)
print(f"Decimal {decimal_number} = Septenario {septenary_number}")

hex_number = "2AF"
decimal_number = hex_to_dec(hex_number)
print(f"Hexadecimal {hex_number} = Decimal {decimal_number}")

decimal_number = 687
hex_number = dec_to_hex(decimal_number)
print(f"Decimal {decimal_number} = Hexadecimal {hex_number}")

print("\n--- DÃ­as de la semana ---")
start_day = 0  # Monday
days = 10.5 #One and a half weeks
new_day = calculate_day_of_week(start_day, days)
print(f"{days} dÃ­as despuÃ©s de {day_number_to_name(start_day)}: {day_number_to_name(new_day)}")
days = 120 #Four months (approximately)
new_day = calculate_day_of_week(start_day, days)
print(f"{days} dÃ­as despuÃ©s de {day_number_to_name(start_day)}: {day_number_to_name(new_day)}")

start_day = 4  # Friday
days = 365 #Year
new_day = calculate_day_of_week(start_day, days)
print(f"{days} dÃ­as despuÃ©s de {day_number_to_name(start_day)}: {day_number_to_name(new_day)}")

print("\n--- Frutas ---")
fruits1 = "ğŸğŸğŸğŸğŸ" # 5 apples
fruits2 = "ğŸğŸğŸ" # 3 apples
print(f"{fruits1} + {fruits2} = {add_fruits(fruits1, fruits2)}")

fruits3 = "ğŸğŸ"  # 2 pears
fruits4 = "ğŸğŸğŸğŸ" # 4 apples
print(f"{fruits3} + {fruits4} = {add_fruits(fruits3, fruits4)}")

fruits5 = "ğŸ‰ğŸ‰" # 2 melons
fruits6 = "ğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸğŸ" # 15 apples
print(f"{fruits5} + {fruits6} = {add_fruits(fruits5, fruits6)}")

fruits7 = "ğŸ§ºğŸ§º" # 2 baskets
fruits8 = "ğŸ‰ğŸ‰ğŸ‰" # 3 melons
print(f"{fruits7} + {fruits8} = {add_fruits(fruits7, fruits8)}\n")

fruits9 = "ğŸ§ºğŸ‰ğŸğŸ" # 1 basket, 1 melon, 1 pear, 1 apple
fruits10 = "ğŸ‰ğŸğŸ" # 1 melon, 1 pear, 1 apple
print(f"{fruits9} - {fruits10} = {sub_fruits(fruits9, fruits10)}")

fruits11 = "ğŸ§ºğŸ‰" # 1 basket, 1 melon
fruits12 = "ğŸ§ºğŸ‰ğŸğŸğŸ" # 1 basket, 1 melon, 3 apples
print(f"{fruits11} - {fruits12} = {sub_fruits(fruits11, fruits12)}")

fruits13 = "ğŸ‰ğŸ‰ğŸ‰" # 3 melons
fruits14 = "ğŸğŸğŸğŸ" # 4 apples
print(f"{fruits13} - {fruits14} = {sub_fruits(fruits13, fruits14)}")

fruits15 = "ğŸğŸğŸğŸğŸ" # 5 pears
fruits16 = "ğŸ‰" # 1 melon
print(f"{fruits15} - {fruits16} = {sub_fruits(fruits15, fruits16)}")
</code></pre>
